<?xml version="1.0"?>
<Definitions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Prefabs>
    <Prefab xsi:type="MyObjectBuilder_PrefabDefinition">
      <Id Type="MyObjectBuilder_PrefabDefinition" Subtype="(NPC-IFM) Holt Class Destroyer" />
      <DisplayName>Pākehā</DisplayName>
      <DLC>DecorativeBlocks2</DLC>
      <DLC>SparksOfTheFuture</DLC>
      <DLC>ScrapRace</DLC>
      <DLC>Warfare1</DLC>
      <DLC>Frostbite</DLC>
      <DLC>Warfare2</DLC>
      <DLC>HeavyIndustry</DLC>
      <DLC>DecorativeBlocks</DLC>
      <DLC>Automatons</DLC>
      <CubeGrids>
        <CubeGrid>
          <SubtypeName />
          <EntityId>80679892439793070</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>80679892439793070</Name>
          <PositionAndOrientation>
            <Position x="0" y="0" z="0" />
            <Forward x="0.497652024" y="-0.8411712" z="-0.211596787" />
            <Up x="0.0830276" y="0.2890274" z="-0.9537135" />
            <Orientation>
              <X>-0.583688557</X>
              <Y>-0.231320575</Y>
              <Z>0.121630155</Z>
              <W>0.7687682</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Large</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="0" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="2" y="5" z="-8" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="5" z="-8" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-2" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-3" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>92832451916406709</EntityId>
              <Min x="0" y="-2" z="-4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-2" y="5" z="-9" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="2" y="5" z="-9" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-7" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-5" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>142795723501270123</EntityId>
              <Min x="0" y="-1" z="-17" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>ConveyorTube</SubtypeName>
              <EntityId>96103582791666786</EntityId>
              <Min x="0" y="-1" z="-16" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>131519666577825948</EntityId>
              <Min x="0" y="0" z="-18" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>87338951574054035</EntityId>
              <Min x="0" y="0" z="-19" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>97407323274474552</EntityId>
              <Min x="0" y="-1" z="-14" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>105576967879209217</EntityId>
              <Min x="0" y="1" z="-17" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirVent">
              <SubtypeName />
              <EntityId>86600234098783177</EntityId>
              <Min x="0" y="0" z="9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Rear Floatation Air Vent</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsDepressurizing>false</IsDepressurizing>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>135579333843667488</EntityId>
              <Min x="0" y="-1" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>87133147213380950</EntityId>
              <Min x="0" y="-1" z="-13" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_OxygenTank">
              <SubtypeName>LargeHydrogenTankSmall</SubtypeName>
              <EntityId>90195521152416262</EntityId>
              <Min x="0" y="-1" z="-6" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.75</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <IsStockpiling>false</IsStockpiling>
              <FilledRatio>1</FilledRatio>
              <AutoRefill>false</AutoRefill>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_OxygenTank">
              <SubtypeName>LargeHydrogenTankSmall</SubtypeName>
              <EntityId>125528351434954989</EntityId>
              <Min x="0" y="-1" z="-4" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.75</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsStockpiling>false</IsStockpiling>
              <FilledRatio>1</FilledRatio>
              <AutoRefill>false</AutoRefill>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>121538282980253632</EntityId>
              <Min x="0" y="-1" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>82673674956361551</EntityId>
              <Min x="0" y="-1" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-8" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-6" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-1" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="1" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-9" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-10" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-5" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-6" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-7" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-8" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-9" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-10" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopeTransition</SubtypeName>
              <Min x="1" y="3" z="-14" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>131154194302787133</EntityId>
              <Min x="1" y="-3" z="-10" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="-1" y="3" z="-13" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>124136131244729482</EntityId>
              <Min x="3" y="2" z="-18" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopeTransitionMirrored</SubtypeName>
              <Min x="-1" y="3" z="-14" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>81503395403154175</EntityId>
              <Min x="3" y="2" z="-19" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="1" y="3" z="-13" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="-1" y="3" z="-12" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>88467137398458698</EntityId>
              <Min x="1" y="-3" z="-1" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="2" z="-13" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="5" z="-7" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="1" y="2" z="-17" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="8" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="4" z="-8" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="-17" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="1" y="2" z="-16" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-15" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-13" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="7" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>108723832916691507</EntityId>
              <Min x="3" y="2" z="-15" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>84821993238361934</EntityId>
              <Min x="3" y="2" z="-16" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>94895245148597525</EntityId>
              <Min x="3" y="2" z="-17" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-12" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>92964836667817021</EntityId>
              <Min x="1" y="-3" z="-8" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="3" z="-14" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>117017070572629482</EntityId>
              <Min x="1" y="-3" z="-6" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="2" z="-14" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>77926176981791680</EntityId>
              <Min x="3" y="2" z="-14" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="0" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="0" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="9" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="9" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>107022440541234203</EntityId>
              <Min x="-1" y="-3" z="-14" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>127718260337733368</EntityId>
              <Min x="-1" y="-3" z="-15" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>135759130464738988</EntityId>
              <Min x="-1" y="-3" z="-13" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>89333591137335309</EntityId>
              <Min x="-1" y="-3" z="-12" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>136959374767046120</EntityId>
              <Min x="-1" y="-3" z="-10" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>119307970103415536</EntityId>
              <Min x="-1" y="-3" z="-11" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="-17" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="2" z="-17" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>125073276929420909</EntityId>
              <Min x="-1" y="-3" z="-9" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>117928081513650625</EntityId>
              <Min x="-1" y="-3" z="-8" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>86522875713511088</EntityId>
              <Min x="-1" y="-3" z="-7" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>100040633699970296</EntityId>
              <Min x="-1" y="-3" z="-6" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCorner</SubtypeName>
              <Min x="1" y="0" z="-22" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-19" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="1" y="-1" z="-20" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerBase</SubtypeName>
              <Min x="-2" y="0" z="-19" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-19" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerBase</SubtypeName>
              <Min x="1" y="0" z="-21" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Gyro">
              <SubtypeName>LargeBlockGyro</SubtypeName>
              <EntityId>137829399270014864</EntityId>
              <Min x="0" y="-2" z="3" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope</SubtypeName>
              <Min x="0" y="0" z="-23" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="-1" y="-1" z="-22" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Window1x1Flat</SubtypeName>
              <EntityId>124630642555083905</EntityId>
              <Min x="-2" y="4" z="-10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>LargeBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>137588502518254447</EntityId>
              <Min x="-1" y="-2" z="8" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>true</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>98403609797602171</EntityId>
              <Min x="0" y="2" z="-16" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="1" y="-1" z="-22" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Base</SubtypeName>
              <Min x="-1" y="-1" z="-21" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCorner</SubtypeName>
              <Min x="2" y="1" z="-21" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>107492507533605558</EntityId>
              <Min x="0" y="-2" z="-13" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>85702280947780469</EntityId>
              <Min x="0" y="-2" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>ConveyorTube</SubtypeName>
              <EntityId>84664195495416049</EntityId>
              <Min x="0" y="0" z="-21" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="1" y="0" z="-23" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-1" y="0" z="-23" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-19" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirVent">
              <SubtypeName />
              <EntityId>143862373135159126</EntityId>
              <Min x="2" y="0" z="3" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <IsDepressurizing>false</IsDepressurizing>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>79941334772959102</EntityId>
              <Min x="0" y="-1" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>91106060552946126</EntityId>
              <Min x="0" y="-1" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>8</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>122790051604949499</EntityId>
              <Min x="0" y="-2" z="6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>141174680833805902</EntityId>
              <Min x="3" y="2" z="-10" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>142358677410377291</EntityId>
              <Min x="0" y="-1" z="-9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>9</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="0" z="-2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="-2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirVent">
              <SubtypeName />
              <EntityId>91606523718018740</EntityId>
              <Min x="-2" y="0" z="3" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <IsDepressurizing>false</IsDepressurizing>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="2" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Base</SubtypeName>
              <Min x="1" y="-1" z="-21" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCorner</SubtypeName>
              <Min x="-2" y="1" z="-21" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>72408603057930955</EntityId>
              <Min x="0" y="-2" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-17" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Gyro">
              <SubtypeName>LargeBlockGyro</SubtypeName>
              <EntityId>138571044190361491</EntityId>
              <Min x="0" y="-2" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="-1" y="-1" z="-20" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="2" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>111401341513681356</EntityId>
              <Min x="0" y="-1" z="-10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>10</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>91992743782116719</EntityId>
              <Min x="0" y="-2" z="4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>8</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>80305693726520968</EntityId>
              <Min x="-1" y="-3" z="-5" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>94170569761192812</EntityId>
              <Min x="-1" y="-3" z="-3" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>125037591267709497</EntityId>
              <Min x="-1" y="-3" z="-1" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>96899084911622839</EntityId>
              <Min x="-1" y="-3" z="1" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>118941095909475536</EntityId>
              <Min x="-1" y="-3" z="3" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>114328165872001451</EntityId>
              <Min x="-1" y="-3" z="5" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerBase</SubtypeName>
              <Min x="2" y="0" z="-19" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>131848752192726431</EntityId>
              <Min x="-1" y="-3" z="-4" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>132801311667518714</EntityId>
              <Min x="-1" y="-3" z="-2" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>79485543994239267</EntityId>
              <Min x="-1" y="-3" z="0" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>83678992333248364</EntityId>
              <Min x="-1" y="-3" z="2" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>73044657242658596</EntityId>
              <Min x="-1" y="-3" z="4" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>101269325799788912</EntityId>
              <Min x="-1" y="-3" z="6" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>86193592842810250</EntityId>
              <Min x="0" y="0" z="-17" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Window1x1Flat</SubtypeName>
              <EntityId>123336871364975754</EntityId>
              <Min x="2" y="4" z="-10" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-11" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-12" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-13" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-14" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-15" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-16" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-18" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-11" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-12" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-13" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-14" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-15" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-16" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-18" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-19" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-16" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-15" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-13" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="-18" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="1" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="2" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="3" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="4" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="5" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCorner</SubtypeName>
              <Min x="-1" y="0" z="-22" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerBase</SubtypeName>
              <Min x="-1" y="0" z="-21" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>ConveyorTubeCurved</SubtypeName>
              <EntityId>103660988820757203</EntityId>
              <Min x="0" y="0" z="-22" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="-1" z="-20" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="4" z="-9" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>125761530584967461</EntityId>
              <Min x="1" y="-3" z="0" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-11" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>138616500983124527</EntityId>
              <Min x="-1" y="-3" z="-19" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-14" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-17" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-18" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerBase</SubtypeName>
              <Min x="2" y="1" z="-20" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="2" z="-14" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="1" y="3" z="-12" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>84123732855321380</EntityId>
              <Min x="3" y="2" z="-13" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>126004087580475355</EntityId>
              <Min x="1" y="-3" z="-4" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="-18" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="-1" y="2" z="-17" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="0" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>128658573395602947</EntityId>
              <Min x="-3" y="2" z="10" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>123725929979954461</EntityId>
              <Min x="1" y="-3" z="-18" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>111061955851767341</EntityId>
              <Min x="-1" y="-3" z="-17" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>LargeBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>115103818722618623</EntityId>
              <Min x="0" y="-3" z="-19" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>true</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Reverse Impeller</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>117508004359886994</EntityId>
              <Min x="-3" y="2" z="9" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="2" y="3" z="-11" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>85076809514763945</EntityId>
              <Min x="3" y="2" z="10" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>72080744945688199</EntityId>
              <Min x="3" y="2" z="11" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>103185685706786340</EntityId>
              <Min x="-3" y="2" z="11" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="0" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="3" z="-11" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="-15" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="2" z="-15" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-2" y="2" z="-15" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-16" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-17" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-18" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_LargeMissileTurret">
              <SubtypeName>LargeCalibreTurret</SubtypeName>
              <EntityId>104827912017309228</EntityId>
              <Min x="-1" y="3" z="-17" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.6</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>true</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame10</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>10</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Artillery Turret</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>true</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <Range>800</Range>
              <RemainingAmmo>0</RemainingAmmo>
              <Target>0</Target>
              <IsPotentialTarget>true</IsPotentialTarget>
              <PreviousControlledEntityId xsi:nil="true" />
              <Rotation>0</Rotation>
              <Elevation>0</Elevation>
              <GunBase>
                <CurrentAmmoMagazineName>LargeCalibreAmmo</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174523777124494</LastShootTime>
              </GunBase>
              <EnableIdleRotation>false</EnableIdleRotation>
              <PreviousIdleRotationState>true</PreviousIdleRotationState>
              <TargetCharacters>false</TargetCharacters>
              <TargetingGroup />
              <Flags>
                <TargetMeteors>false</TargetMeteors>
                <TargetCharacters>false</TargetCharacters>
                <TargetSmallGrids>false</TargetSmallGrids>
              </Flags>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>98579820165827629</EntityId>
              <Min x="-3" y="2" z="-19" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>106216444733945214</EntityId>
              <Min x="-1" y="0" z="1" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>88104977538920920</EntityId>
              <Min x="-3" y="2" z="12" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="-1" y="2" z="-16" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>134250273016418520</EntityId>
              <Min x="1" y="-3" z="-3" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="2" y="2" z="-13" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>116536221686099369</EntityId>
              <Min x="1" y="-3" z="-13" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="-2" y="3" z="-13" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="2" y="3" z="-13" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>136019397509691368</EntityId>
              <Min x="1" y="-3" z="-15" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>122672816119273973</EntityId>
              <Min x="1" y="0" z="5" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>131981069038906962</EntityId>
              <Min x="-3" y="2" z="8" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>101884369673097240</EntityId>
              <Min x="-3" y="2" z="-18" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="2" y="2" z="-15" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="2" z="-15" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="3" z="-12" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfSlopeArmorBlock</SubtypeName>
              <Min x="2" y="3" z="-12" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>83133950875745043</EntityId>
              <Min x="-3" y="2" z="7" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>131766096520106669</EntityId>
              <Min x="3" y="2" z="12" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-19" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-11" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="8" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="4" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-10" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>132395361115301433</EntityId>
              <Min x="3" y="2" z="9" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>109921155364066786</EntityId>
              <Min x="-1" y="-3" z="-16" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>91875294874996336</EntityId>
              <Min x="3" y="2" z="8" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-16" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-15" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-13" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-14" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>LargeBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>142079303827621830</EntityId>
              <Min x="0" y="-2" z="-20" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>true</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Reverse Impeller</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_HydrogenEngine">
              <SubtypeName>LargeHydrogenEngine</SubtypeName>
              <EntityId>139967587082940603</EntityId>
              <Min x="0" y="0" z="7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <Capacity>100000</Capacity>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="0" z="7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="0" z="7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>137021771712279909</EntityId>
              <Min x="-3" y="2" z="6" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>125760452106946508</EntityId>
              <Min x="-3" y="2" z="5" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>118241241432209056</EntityId>
              <Min x="-1" y="-3" z="-18" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-1" y="2" z="-18" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="4" z="-6" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="4" z="-7" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-8" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Left</SubtypeName>
              <EntityId>87293934763495068</EntityId>
              <Min x="-2" y="2" z="-22" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>LargeHinge</SubtypeName>
              <EntityId>100759247241212317</EntityId>
              <Min x="0" y="1" z="-23" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Bow AA Hinge</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>108357029176109985</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>-1</TargetVelocity>
              <MinAngle>-1.57079637</MinAngle>
              <MaxAngle>0</MaxAngle>
              <CurrentAngle>4.70375967</CurrentAngle>
              <LimitsActive>false</LimitsActive>
              <RotorLock>true</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-7" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCorner</SubtypeName>
              <Min x="-2" y="0" z="-20" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>139215646448964850</EntityId>
              <Min x="3" y="2" z="5" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="4" z="-7" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-5" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Right</SubtypeName>
              <EntityId>128881651046434833</EntityId>
              <Min x="2" y="2" z="-22" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="4" z="-6" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-3" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>130704601625490256</EntityId>
              <Min x="3" y="2" z="4" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="3" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Right</SubtypeName>
              <EntityId>142650769008977104</EntityId>
              <Min x="1" y="2" z="-23" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Right</SubtypeName>
              <EntityId>92223036909071694</EntityId>
              <Min x="1" y="2" z="-24" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Left</SubtypeName>
              <EntityId>129654719165584131</EntityId>
              <Min x="-1" y="2" z="-24" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Right</SubtypeName>
              <EntityId>129752893414132385</EntityId>
              <Min x="2" y="2" z="-21" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Left</SubtypeName>
              <EntityId>86573206974045059</EntityId>
              <Min x="-2" y="2" z="-21" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="1" y="2" z="-18" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="3" z="-13" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Window1x1Side</SubtypeName>
              <EntityId>93940965667375694</EntityId>
              <Min x="-2" y="4" z="-11" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Right</SubtypeName>
              <EntityId>99105622250970923</EntityId>
              <Min x="-3" y="2" z="13" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>78050232314427287</EntityId>
              <Min x="-3" y="2" z="2" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Left</SubtypeName>
              <EntityId>82691947047123680</EntityId>
              <Min x="3" y="2" z="13" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-14" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>139976807727828256</EntityId>
              <Min x="0" y="-2" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>9</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>112303525786344188</EntityId>
              <Min x="0" y="-2" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>10</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>143940180656034234</EntityId>
              <Min x="0" y="-2" z="-14" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>11</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>ConveyorTube</SubtypeName>
              <EntityId>128647496139219701</EntityId>
              <Min x="0" y="0" z="-20" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="1" y="5" z="-9" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="-1" y="5" z="-9" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="1" y="5" z="-10" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="-1" y="5" z="-10" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="5" z="-11" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="0" y="5" z="-12" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="1" y="5" z="-12" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="-1" y="5" z="-12" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Base</SubtypeName>
              <Min x="1" y="5" z="-11" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Base</SubtypeName>
              <Min x="-1" y="5" z="-11" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Viewport1</SubtypeName>
              <EntityId>73504207670415673</EntityId>
              <Min x="-2" y="3" z="-8" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="3" z="-6" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="3" z="-10" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Viewport1</SubtypeName>
              <EntityId>134514000931510534</EntityId>
              <Min x="2" y="3" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Window1x1Face</SubtypeName>
              <EntityId>116035719759535340</EntityId>
              <Min x="1" y="4" z="-12" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Window1x1Face</SubtypeName>
              <EntityId>120362082020910350</EntityId>
              <Min x="-1" y="4" z="-12" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Window1x1Inv</SubtypeName>
              <EntityId>124854262918815761</EntityId>
              <Min x="1" y="4" z="-11" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Window1x1Inv</SubtypeName>
              <EntityId>89672362951286155</EntityId>
              <Min x="-1" y="4" z="-11" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="3" z="-10" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="3" z="-6" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="0" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-1" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="1" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="2" y="0" z="-21" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-2" y="0" z="-21" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="2" y="1" z="-22" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-2" y="1" z="-22" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Window1x1Slope</SubtypeName>
              <EntityId>109343704537872965</EntityId>
              <Min x="0" y="4" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-2" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>116529383173124212</EntityId>
              <Min x="-3" y="2" z="-16" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="1" z="-18" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="3" z="-5" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-6" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="3" z="-9" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Viewport2</SubtypeName>
              <EntityId>115537689643181614</EntityId>
              <Min x="-2" y="3" z="-7" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="2" y="4" z="-5" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-5" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="3" z="-5" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-8" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Viewport2</SubtypeName>
              <EntityId>87434660409634656</EntityId>
              <Min x="2" y="3" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-7" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="3" z="-9" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>102333977943225894</EntityId>
              <Min x="0" y="-2" z="-9" />
              <IntegrityPercent>0.9849953</IntegrityPercent>
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>12</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>124819464891989403</EntityId>
              <Min x="0" y="-2" z="-8" />
              <IntegrityPercent>0.984995246</IntegrityPercent>
              <BuildPercent>0.99999994</BuildPercent>
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>13</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="0" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>83203599559849983</EntityId>
              <Min x="0" y="-2" z="-6" />
              <IntegrityPercent>0.984995067</IntegrityPercent>
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>14</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Gyro">
              <SubtypeName>LargeBlockGyro</SubtypeName>
              <EntityId>116885445823564831</EntityId>
              <Min x="0" y="-2" z="-2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>86881470272206010</EntityId>
              <Min x="0" y="-2" z="-5" />
              <IntegrityPercent>0.984995</IntegrityPercent>
              <BuildPercent>0.99999994</BuildPercent>
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>16</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_VirtualMass">
              <SubtypeName>VirtualMassLarge</SubtypeName>
              <EntityId>123356992340868987</EntityId>
              <Min x="0" y="-2" z="-15" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>89671585165883443</EntityId>
              <Min x="0" y="1" z="-16" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>11</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>137594900124529935</EntityId>
              <Min x="0" y="-2" z="-16" />
              <IntegrityPercent>0.984980047</IntegrityPercent>
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>17</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="6" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ShipWelder">
              <SubtypeName>LargeShipWelder</SubtypeName>
              <EntityId>94881592213708125</EntityId>
              <Min x="0" y="2" z="5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <DeformationRatio>0.5</DeformationRatio>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>LRM Welder</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>91542660135202371</EntityId>
              <Min x="0" y="-2" z="-17" />
              <IntegrityPercent>0.9849801</IntegrityPercent>
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>18</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-15" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-16" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>143756749321718870</EntityId>
              <Min x="1" y="-3" z="-16" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="0" y="-1" z="-22" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="-1" z="-21" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>128366708121835062</EntityId>
              <Min x="-3" y="2" z="4" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>116960143153803479</EntityId>
              <Min x="3" y="2" z="-12" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>143203055765155302</EntityId>
              <Min x="3" y="2" z="-11" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="0" y="2" z="-18" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-4" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>96948828041770159</EntityId>
              <Min x="3" y="2" z="6" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-11" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Right</SubtypeName>
              <EntityId>107253514102208799</EntityId>
              <Min x="3" y="2" z="-20" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Left</SubtypeName>
              <EntityId>89469094560301669</EntityId>
              <Min x="-3" y="2" z="-20" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="1" z="-21" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-6" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>124508804415178028</EntityId>
              <Min x="3" y="2" z="7" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="4" z="-8" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-4" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>86342702032470169</EntityId>
              <Min x="-3" y="2" z="3" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="6" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-9" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="6" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Window1x1Side</SubtypeName>
              <EntityId>116222279545384024</EntityId>
              <Min x="2" y="4" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="2" y="5" z="-6" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="5" z="-6" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="2" y="5" z="-5" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-2" y="5" z="-5" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerBase</SubtypeName>
              <Min x="-2" y="1" z="-20" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="2" z="-2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="2" z="0" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfSlopedPanelLight</SubtypeName>
              <EntityId>84193032341056112</EntityId>
              <Min x="2" y="2" z="-1" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="2" z="-2" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-3" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-4" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-5" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-6" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-7" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-8" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-9" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-10" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-3" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="4" z="-5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-4" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-9" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-10" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="1" z="-19" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="5" z="-7" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="3" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="5" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="5" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="4" z="-9" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="7" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCorner</SubtypeName>
              <Min x="2" y="0" z="-20" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="-18" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfSlopedPanelLight</SubtypeName>
              <EntityId>110696473516835254</EntityId>
              <Min x="-2" y="2" z="-1" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerBase</SubtypeName>
              <Min x="-1" y="1" z="-22" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerBase</SubtypeName>
              <Min x="1" y="1" z="-22" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCorner</SubtypeName>
              <Min x="-1" y="1" z="-23" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCorner</SubtypeName>
              <Min x="1" y="1" z="-23" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="-1" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="0" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-1" y="1" z="-24" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="1" y="1" z="-24" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="-21" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>143159110087378622</EntityId>
              <Min x="0" y="1" z="-20" />
              <IntegrityPercent>0.956757545</IntegrityPercent>
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_LargeMissileTurret">
              <SubtypeName>LargeCalibreTurret</SubtypeName>
              <EntityId>90940133171674191</EntityId>
              <Min x="-1" y="2" z="-21" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.6</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>true</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame10</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>10</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Artillery Turret 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>true</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <Range>800</Range>
              <RemainingAmmo>0</RemainingAmmo>
              <Target>0</Target>
              <IsPotentialTarget>true</IsPotentialTarget>
              <PreviousControlledEntityId xsi:nil="true" />
              <Rotation>0</Rotation>
              <Elevation>0</Elevation>
              <GunBase>
                <CurrentAmmoMagazineName>LargeCalibreAmmo</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174523760444124</LastShootTime>
              </GunBase>
              <EnableIdleRotation>false</EnableIdleRotation>
              <PreviousIdleRotationState>true</PreviousIdleRotationState>
              <TargetCharacters>false</TargetCharacters>
              <TargetingGroup />
              <Flags>
                <TargetMeteors>false</TargetMeteors>
                <TargetCharacters>false</TargetCharacters>
                <TargetSmallGrids>false</TargetSmallGrids>
              </Flags>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="-21" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="-20" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="-19" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="-20" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="-19" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>96211771486025640</EntityId>
              <Min x="0" y="1" z="-22" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope</SubtypeName>
              <Min x="0" y="1" z="-24" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingStraight</SubtypeName>
              <EntityId>111470568530559893</EntityId>
              <Min x="0" y="2" z="-24" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>101292272593240674</EntityId>
              <Min x="1" y="-3" z="-2" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>90473962321648238</EntityId>
              <Min x="1" y="-3" z="-12" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>121556109172709054</EntityId>
              <Min x="1" y="-3" z="-14" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="0" z="7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="1" y="-2" z="-20" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFiGate</SubtypeName>
              <EntityId>126597140400677424</EntityId>
              <Min x="1" y="1" z="5" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="6" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerBase</SubtypeName>
              <Min x="-1" y="2" z="6" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-1" y="-2" z="-20" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerBase</SubtypeName>
              <Min x="1" y="2" z="6" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-2" y="2" z="6" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="2" y="2" z="6" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Door">
              <SubtypeName>LargeBlockOffsetDoor</SubtypeName>
              <EntityId>107027200839742639</EntityId>
              <Min x="-2" y="2" z="3" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <AnyoneCanUse>false</AnyoneCanUse>
              <Opening>0</Opening>
              <OpenSound>RealBlockDoorSmallOpen</OpenSound>
              <CloseSound>RealBlockDoorSmallClose</CloseSound>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="4" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="2" y="2" z="5" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="2" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Door">
              <SubtypeName>LargeBlockOffsetDoor</SubtypeName>
              <EntityId>136643136788155471</EntityId>
              <Min x="2" y="2" z="3" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <AnyoneCanUse>false</AnyoneCanUse>
              <Opening>0</Opening>
              <OpenSound>RealBlockDoorSmallOpen</OpenSound>
              <CloseSound>RealBlockDoorSmallClose</CloseSound>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="4" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="2" z="5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="2" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>103135841252707457</EntityId>
              <Min x="0" y="-1" z="6" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>101534071206083283</EntityId>
              <Min x="0" y="-1" z="10" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>140511062548107481</EntityId>
              <Min x="-1" y="0" z="11" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>123903530851612698</EntityId>
              <Min x="0" y="-2" z="9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>19</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>ConveyorTube</SubtypeName>
              <EntityId>128480450022539709</EntityId>
              <Min x="0" y="-1" z="5" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>78906890896790277</EntityId>
              <Min x="1" y="0" z="-1" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>ConveyorTube</SubtypeName>
              <EntityId>78463636101961316</EntityId>
              <Min x="0" y="-1" z="7" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>138933833066281113</EntityId>
              <Min x="0" y="2" z="-8" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>99228221553842882</EntityId>
              <Min x="1" y="0" z="-3" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>ConveyorTube</SubtypeName>
              <EntityId>79589206780603271</EntityId>
              <Min x="0" y="-1" z="-15" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>106067193861651616</EntityId>
              <Min x="1" y="-3" z="-5" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>121880044963880682</EntityId>
              <Min x="1" y="-3" z="-7" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>75829929520896742</EntityId>
              <Min x="1" y="-3" z="-9" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>97347071612108597</EntityId>
              <Min x="1" y="-3" z="-11" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>LargeAdvancedStator</SubtypeName>
              <EntityId>77661965197471197</EntityId>
              <Min x="0" y="0" z="4" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Missile Tube Advanced Rotor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>81644509385420705</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0</TargetVelocity>
              <MinAngle>0</MinAngle>
              <MaxAngle>0</MaxAngle>
              <CurrentAngle>-3.07851735E-07</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>LargeBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>133364512821063481</EntityId>
              <Min x="-1" y="-2" z="7" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>true</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="5" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="4" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="3" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="2" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="0" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-2" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-3" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-4" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-5" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-6" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-7" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-8" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-9" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-10" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-11" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-12" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-13" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-14" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-15" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-16" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-17" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-18" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="-19" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Base</SubtypeName>
              <Min x="1" y="2" z="7" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Base</SubtypeName>
              <Min x="-1" y="2" z="7" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="2" z="7" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>95738284093642286</EntityId>
              <Min x="-1" y="1" z="6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageScifiCorner</SubtypeName>
              <EntityId>92421484956577669</EntityId>
              <Min x="-1" y="1" z="7" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="1" z="8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="1" z="9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageScifiCorner</SubtypeName>
              <EntityId>116075028024033414</EntityId>
              <Min x="1" y="1" z="7" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>110052871732319772</EntityId>
              <Min x="0" y="1" z="10" />
              <IntegrityPercent>0.9566239</IntegrityPercent>
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_LargeMissileTurret">
              <SubtypeName>LargeCalibreTurret</SubtypeName>
              <EntityId>106332784081694355</EntityId>
              <Min x="-1" y="2" z="9" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.6</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>true</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame10</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>10</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Artillery Turret 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>true</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <Range>800</Range>
              <RemainingAmmo>0</RemainingAmmo>
              <Target>0</Target>
              <IsPotentialTarget>true</IsPotentialTarget>
              <PreviousControlledEntityId xsi:nil="true" />
              <Rotation>0</Rotation>
              <Elevation>0</Elevation>
              <GunBase>
                <CurrentAmmoMagazineName>LargeCalibreAmmo</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174518624146985</LastShootTime>
              </GunBase>
              <EnableIdleRotation>false</EnableIdleRotation>
              <PreviousIdleRotationState>true</PreviousIdleRotationState>
              <TargetCharacters>false</TargetCharacters>
              <TargetingGroup />
              <Flags>
                <TargetMeteors>false</TargetMeteors>
                <TargetCharacters>false</TargetCharacters>
                <TargetSmallGrids>false</TargetSmallGrids>
              </Flags>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>120839200406156314</EntityId>
              <Min x="1" y="-3" z="1" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopeTransitionTipMirrored</SubtypeName>
              <Min x="-3" y="1" z="13" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>LargeHinge</SubtypeName>
              <EntityId>115224574388755046</EntityId>
              <Min x="0" y="1" z="14" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charges Hinge</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>112974835309717753</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>-0.03333336</TargetVelocity>
              <MinAngle>0</MinAngle>
              <MaxAngle>0.436332315</MaxAngle>
              <CurrentAngle>-0.002678253</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>135874549941101545</EntityId>
              <Min x="1" y="-3" z="2" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopeTransitionTip</SubtypeName>
              <Min x="3" y="1" z="13" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Base</SubtypeName>
              <Min x="-2" y="1" z="14" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-2" y="3" z="5" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfSlopeArmorBlock</SubtypeName>
              <Min x="-1" y="3" z="7" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="3" z="6" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfSlopeArmorBlock</SubtypeName>
              <Min x="1" y="3" z="7" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="3" z="6" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="0" y="3" z="7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="3" z="6" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfSlopeArmorBlock</SubtypeName>
              <Min x="2" y="3" z="6" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="2" y="3" z="5" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>110845318788164103</EntityId>
              <Min x="0" y="-1" z="-2" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>138402289513610280</EntityId>
              <Min x="-1" y="0" z="-3" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>ConveyorTube</SubtypeName>
              <EntityId>107199718455860564</EntityId>
              <Min x="0" y="-1" z="8" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>ConveyorTube</SubtypeName>
              <EntityId>122373501937360418</EntityId>
              <Min x="0" y="-1" z="9" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>113063854321767799</EntityId>
              <Min x="-2" y="3" z="4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>99760677592654622</EntityId>
              <Min x="2" y="3" z="4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-2" y="3" z="3" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="2" y="3" z="3" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>84565792155634040</EntityId>
              <Min x="-3" y="3" z="4" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>126472319752775341</EntityId>
              <Min x="3" y="3" z="4" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>89494659045188233</EntityId>
              <Min x="-3" y="3" z="3" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>139248071817259467</EntityId>
              <Min x="3" y="3" z="3" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>110867240710090812</EntityId>
              <Min x="-3" y="3" z="5" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>91749737019710440</EntityId>
              <Min x="3" y="3" z="5" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="2" y="1" z="13" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="-2" y="1" z="13" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Base</SubtypeName>
              <Min x="2" y="1" z="14" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="13" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>92695143475122337</EntityId>
              <Min x="1" y="0" z="1" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>129474214603649228</EntityId>
              <Min x="-1" y="0" z="0" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>88592673578946999</EntityId>
              <Min x="1" y="0" z="0" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirVent">
              <SubtypeName />
              <EntityId>126076215091570521</EntityId>
              <Min x="0" y="0" z="1" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Mid 4 Floatation Air Vent</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <IsDepressurizing>false</IsDepressurizing>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="1" z="11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>142148678554912292</EntityId>
              <Min x="0" y="2" z="-22" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_LargeGatlingTurret">
              <SubtypeName />
              <EntityId>138151279086484070</EntityId>
              <Min x="-3" y="4" z="3" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.384</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame10</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>10</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Gatling Turret Designator</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <IsShooting>true</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>true</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <Range>800</Range>
              <RemainingAmmo>66</RemainingAmmo>
              <Target>0</Target>
              <IsPotentialTarget>true</IsPotentialTarget>
              <PreviousControlledEntityId xsi:nil="true" />
              <Rotation>0</Rotation>
              <Elevation>0</Elevation>
              <GunBase>
                <RemainingAmmo>66</RemainingAmmo>
                <CurrentAmmoMagazineName>NATO_25x184mm</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174531720840776</LastShootTime>
              </GunBase>
              <EnableIdleRotation>false</EnableIdleRotation>
              <PreviousIdleRotationState>true</PreviousIdleRotationState>
              <TargetCharacters>true</TargetCharacters>
              <TargetingGroup />
              <Flags>
                <TargetMeteors>false</TargetMeteors>
                <TargetCharacters>true</TargetCharacters>
                <TargetLargeGrids>false</TargetLargeGrids>
              </Flags>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_LargeGatlingTurret">
              <SubtypeName />
              <EntityId>88681749560382415</EntityId>
              <Min x="1" y="4" z="3" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.384</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame10</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>10</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Gatling Turret Designator</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>false</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>true</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <Range>800</Range>
              <RemainingAmmo>15</RemainingAmmo>
              <Target>0</Target>
              <IsPotentialTarget>true</IsPotentialTarget>
              <PreviousControlledEntityId xsi:nil="true" />
              <Rotation>0</Rotation>
              <Elevation>0</Elevation>
              <GunBase>
                <RemainingAmmo>15</RemainingAmmo>
                <CurrentAmmoMagazineName>NATO_25x184mm</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>637812272983329953</LastShootTime>
              </GunBase>
              <EnableIdleRotation>false</EnableIdleRotation>
              <PreviousIdleRotationState>true</PreviousIdleRotationState>
              <TargetCharacters>true</TargetCharacters>
              <TargetingGroup />
              <Flags>
                <TargetMeteors>false</TargetMeteors>
                <TargetCharacters>true</TargetCharacters>
                <TargetLargeGrids>false</TargetLargeGrids>
              </Flags>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>135101563928745173</EntityId>
              <Min x="-3" y="2" z="-17" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>107938427648159536</EntityId>
              <Min x="-1" y="0" z="-4" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="0" z="-2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>129759441734038808</EntityId>
              <Min x="1" y="0" z="-4" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="0" z="-2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>90612184853200060</EntityId>
              <Min x="3" y="2" z="3" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>126912714000607819</EntityId>
              <Min x="3" y="2" z="2" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>107616052057953371</EntityId>
              <Min x="3" y="2" z="1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>98205351156705236</EntityId>
              <Min x="-3" y="2" z="1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>113870354465229256</EntityId>
              <Min x="-3" y="2" z="0" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>91087931683012589</EntityId>
              <Min x="-3" y="2" z="-1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>94048871109059251</EntityId>
              <Min x="3" y="2" z="0" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>132050446272244158</EntityId>
              <Min x="-3" y="2" z="-2" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>140128944758957645</EntityId>
              <Min x="3" y="2" z="-1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>97031942955779776</EntityId>
              <Min x="3" y="2" z="-2" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>135718122705094563</EntityId>
              <Min x="3" y="2" z="-3" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>78299583040319930</EntityId>
              <Min x="3" y="2" z="-4" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>120712629990057130</EntityId>
              <Min x="3" y="2" z="-5" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>98678291710422385</EntityId>
              <Min x="3" y="2" z="-6" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>107233958827345104</EntityId>
              <Min x="3" y="2" z="-7" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>125994861037712579</EntityId>
              <Min x="3" y="2" z="-8" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>124132960710554544</EntityId>
              <Min x="-3" y="2" z="-13" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>91397701772218330</EntityId>
              <Min x="-3" y="2" z="-3" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>77528118755076755</EntityId>
              <Min x="-3" y="2" z="-4" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>86436105340211816</EntityId>
              <Min x="-3" y="2" z="-5" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>125601071991938670</EntityId>
              <Min x="-3" y="2" z="-6" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>101824174805023882</EntityId>
              <Min x="-3" y="2" z="-7" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>83867583690016047</EntityId>
              <Min x="-3" y="2" z="-8" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>115034685863387103</EntityId>
              <Min x="-3" y="2" z="-9" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>118735409664334427</EntityId>
              <Min x="-3" y="2" z="-10" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>82731251026342252</EntityId>
              <Min x="-3" y="2" z="-12" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="-1" y="1" z="14" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="13" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Base</SubtypeName>
              <Min x="-1" y="1" z="15" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="1" y="1" z="14" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingDiagonal</SubtypeName>
              <EntityId>122077752384456169</EntityId>
              <Min x="2" y="2" z="14" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Base</SubtypeName>
              <Min x="1" y="1" z="15" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>FireCover</SubtypeName>
              <EntityId>99021450841636021</EntityId>
              <Min x="2" y="3" z="2" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>131886917746427747</EntityId>
              <Min x="2" y="3" z="-3" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>116455553274915552</EntityId>
              <Min x="2" y="3" z="0" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>122705312607769914</EntityId>
              <Min x="-2" y="3" z="-1" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>134125326025807336</EntityId>
              <Min x="2" y="3" z="-2" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>86750499370001234</EntityId>
              <Min x="2" y="3" z="1" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>FireCover</SubtypeName>
              <EntityId>126739203836379312</EntityId>
              <Min x="2" y="3" z="-4" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>FireCover</SubtypeName>
              <EntityId>74157392407337886</EntityId>
              <Min x="-2" y="3" z="2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>77923933588367188</EntityId>
              <Min x="-2" y="3" z="-3" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>132014724670517709</EntityId>
              <Min x="-2" y="3" z="0" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>72703171985256417</EntityId>
              <Min x="2" y="3" z="-1" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>134955820971338770</EntityId>
              <Min x="-2" y="3" z="-2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>140339645388395868</EntityId>
              <Min x="-2" y="3" z="1" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>FireCover</SubtypeName>
              <EntityId>92165639612558187</EntityId>
              <Min x="-2" y="3" z="-4" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>93928233523143110</EntityId>
              <Min x="1" y="4" z="2" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>127062279124116772</EntityId>
              <Min x="-1" y="3" z="1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>134507359605439889</EntityId>
              <Min x="-1" y="3" z="0" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>106628102488613052</EntityId>
              <Min x="-1" y="3" z="-1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>117884064981304293</EntityId>
              <Min x="-1" y="3" z="-2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>99280448681885255</EntityId>
              <Min x="-1" y="3" z="-3" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>135155800055169703</EntityId>
              <Min x="-1" y="3" z="-4" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>96425841979112195</EntityId>
              <Min x="-1" y="4" z="2" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>101622945060154090</EntityId>
              <Min x="1" y="3" z="1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>89818050405354395</EntityId>
              <Min x="1" y="3" z="0" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>82629610655967487</EntityId>
              <Min x="1" y="3" z="-1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>135045835069520866</EntityId>
              <Min x="1" y="3" z="-2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>106304499871219943</EntityId>
              <Min x="1" y="3" z="-3" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>134373885231553753</EntityId>
              <Min x="1" y="3" z="-4" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>81319325450588667</EntityId>
              <Min x="0" y="3" z="2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>93367587723975876</EntityId>
              <Min x="0" y="3" z="0" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>117690898016640876</EntityId>
              <Min x="0" y="3" z="-1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>100473644564968814</EntityId>
              <Min x="0" y="3" z="-2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>87535329677397022</EntityId>
              <Min x="0" y="3" z="-4" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Door">
              <SubtypeName>LargeBlockOffsetDoor</SubtypeName>
              <EntityId>93149357105970784</EntityId>
              <Min x="2" y="2" z="-12" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <AnyoneCanUse>false</AnyoneCanUse>
              <Opening>0</Opening>
              <OpenSound>RealBlockDoorSmallOpen</OpenSound>
              <CloseSound>RealBlockDoorSmallClose</CloseSound>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Door">
              <SubtypeName>LargeBlockOffsetDoor</SubtypeName>
              <EntityId>120001589032549521</EntityId>
              <Min x="-2" y="2" z="-12" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <AnyoneCanUse>false</AnyoneCanUse>
              <Opening>0</Opening>
              <OpenSound>RealBlockDoorSmallOpen</OpenSound>
              <CloseSound>RealBlockDoorSmallClose</CloseSound>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingDiagonal</SubtypeName>
              <EntityId>80162446592214958</EntityId>
              <Min x="-2" y="2" z="14" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingDiagonal</SubtypeName>
              <EntityId>137400464247182391</EntityId>
              <Min x="1" y="2" z="15" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingDiagonal</SubtypeName>
              <EntityId>106922848985650409</EntityId>
              <Min x="-1" y="2" z="15" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>121083927434916394</EntityId>
              <Min x="-3" y="2" z="-14" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>120802828833315361</EntityId>
              <Min x="-3" y="2" z="-15" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>82405649946610530</EntityId>
              <Min x="-3" y="2" z="-11" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingCenter</SubtypeName>
              <EntityId>79350836048516243</EntityId>
              <Min x="3" y="2" z="-9" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ShipWelder">
              <SubtypeName>LargeShipWelder</SubtypeName>
              <EntityId>116910005707272972</EntityId>
              <Min x="0" y="0" z="12" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <DeformationRatio>0.5</DeformationRatio>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Depth Charge Welder</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlockWarfare2</SubtypeName>
              <EntityId>136941614032855973</EntityId>
              <Min x="0" y="1" z="13" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>144104533190874342</EntityId>
              <Min x="0" y="1" z="15" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>RailingStraight</SubtypeName>
              <EntityId>116939524922103629</EntityId>
              <Min x="0" y="2" z="15" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ShipWelder">
              <SubtypeName>LargeShipWelder</SubtypeName>
              <EntityId>111971303134111681</EntityId>
              <Min x="0" y="1" z="-4" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <DeformationRatio>0.5</DeformationRatio>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Torpedo Welder</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>126102292232373228</EntityId>
              <Min x="0" y="1" z="-3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>12</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>108615859967398254</EntityId>
              <Min x="1" y="2" z="-4" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>83813755696412659</EntityId>
              <Min x="-1" y="2" z="-4" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>102827607403408644</EntityId>
              <Min x="1" y="2" z="-3" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>74909829412115206</EntityId>
              <Min x="-1" y="2" z="-3" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>120198745625009815</EntityId>
              <Min x="-1" y="2" z="-2" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>135070858151543589</EntityId>
              <Min x="1" y="2" z="-2" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>136721651786689881</EntityId>
              <Min x="-1" y="2" z="-1" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>143751894921067299</EntityId>
              <Min x="1" y="2" z="-1" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>77364206706902636</EntityId>
              <Min x="0" y="1" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>18</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ShipWelder">
              <SubtypeName>LargeShipWelder</SubtypeName>
              <EntityId>134710725416288898</EntityId>
              <Min x="0" y="1" z="0" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <DeformationRatio>0.5</DeformationRatio>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Torpedo 2 Welder</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ShipWelder">
              <SubtypeName>LargeShipWelder</SubtypeName>
              <EntityId>120992773845426803</EntityId>
              <Min x="0" y="1" z="5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <DeformationRatio>0.5</DeformationRatio>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>LRM Welder</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>92449660188971320</EntityId>
              <Min x="0" y="1" z="1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>14</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ShipWelder">
              <SubtypeName>LargeShipWelder</SubtypeName>
              <EntityId>131119810827964228</EntityId>
              <Min x="0" y="1" z="2" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <DeformationRatio>0.5</DeformationRatio>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Torpedo 2 Welder</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ShipWelder">
              <SubtypeName>LargeShipWelder</SubtypeName>
              <EntityId>102455637856607642</EntityId>
              <Min x="0" y="1" z="-2" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <DeformationRatio>0.5</DeformationRatio>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Torpedo Welder</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyorPipeJunction</SubtypeName>
              <EntityId>110502303513208412</EntityId>
              <Min x="-1" y="3" z="4" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyorPipeJunction</SubtypeName>
              <EntityId>108420294797049241</EntityId>
              <Min x="1" y="3" z="4" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>100181095217327674</EntityId>
              <Min x="-1" y="1" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>143711862390715473</EntityId>
              <Min x="1" y="1" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyorPipeIntersection</SubtypeName>
              <EntityId>85240386595233510</EntityId>
              <Min x="0" y="2" z="3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>LargeBlockConveyorPipeEnd</SubtypeName>
              <EntityId>130547221171722310</EntityId>
              <Min x="0" y="4" z="3" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>LargeBlockConveyorPipeCorner</SubtypeName>
              <EntityId>99230213302492507</EntityId>
              <Min x="-1" y="3" z="3" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>LargeBlockConveyorPipeCorner</SubtypeName>
              <EntityId>100236729732178947</EntityId>
              <Min x="1" y="3" z="3" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ExhaustBlock">
              <SubtypeName>LargeExhaustPipe</SubtypeName>
              <EntityId>99482334882928702</EntityId>
              <Min x="-1" y="3" z="5" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <CustomName>Flame Ejection Pipe</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <ExhaustEffect>FireAndSmoke</ExhaustEffect>
              <PowerDependency>0</PowerDependency>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>ArmorInvCorner</SubtypeName>
              <EntityId>116770953787798592</EntityId>
              <Min x="1" y="3" z="5" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>134985601850040869</EntityId>
              <Min x="0" y="3" z="3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>15</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>137606846043132990</EntityId>
              <Min x="2" y="4" z="2" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>127154862189859443</EntityId>
              <Min x="-2" y="4" z="2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>135403681853897788</EntityId>
              <Min x="2" y="4" z="-4" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>96497591703346566</EntityId>
              <Min x="-2" y="4" z="-4" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfWindowCornerInv</SubtypeName>
              <EntityId>122396941116162744</EntityId>
              <Min x="1" y="3" z="2" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfWindowCornerInv</SubtypeName>
              <EntityId>132915082637111307</EntityId>
              <Min x="-1" y="3" z="2" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>102870729679381407</EntityId>
              <Min x="-1" y="4" z="-4" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>80366294523963186</EntityId>
              <Min x="1" y="4" z="-4" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>111798256038550780</EntityId>
              <Min x="0" y="1" z="-5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>LargeBlockConveyorPipeEnd</SubtypeName>
              <EntityId>115022297208442569</EntityId>
              <Min x="0" y="2" z="-5" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>93206154347594180</EntityId>
              <Min x="0" y="3" z="-5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>16</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>LargeBlockConveyorPipeCorner</SubtypeName>
              <EntityId>119237451010121813</EntityId>
              <Min x="0" y="5" z="3" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>LargeBlockConveyorPipeEnd</SubtypeName>
              <EntityId>106659804587573586</EntityId>
              <Min x="0" y="5" z="2" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ShipWelder">
              <SubtypeName>LargeShipWelder</SubtypeName>
              <EntityId>74009354204540821</EntityId>
              <Min x="0" y="4" z="1" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <DeformationRatio>0.5</DeformationRatio>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Torpedo 2 Welder</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>8</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>LargeAdvancedStator</SubtypeName>
              <EntityId>80560946221724495</EntityId>
              <Min x="0" y="3" z="6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[Turret Slaver - Rotor Config]
Use manual rest angle=false
Manual rest angle (deg)=0

[TCES - Rotor]
Rest angle (deg)=0
Enable stabilization=True
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Advanced Rotor Azi</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>112333586699677520</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0</TargetVelocity>
              <MinAngle xsi:nil="true" />
              <MaxAngle xsi:nil="true" />
              <CurrentAngle>0.0140352044</CurrentAngle>
              <LimitsActive>false</LimitsActive>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>129096284076037159</EntityId>
              <Min x="1" y="4" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>81830846097740614</EntityId>
              <Min x="-1" y="4" z="1" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_PistonTop">
              <SubtypeName>LargePistonTop</SubtypeName>
              <EntityId>127983480446964378</EntityId>
              <Min x="-1" y="5" z="1" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ParentEntityId>0</ParentEntityId>
              <YieldLastComponent>true</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_PistonTop">
              <SubtypeName>LargePistonTop</SubtypeName>
              <EntityId>117708604238424098</EntityId>
              <Min x="1" y="5" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ParentEntityId>0</ParentEntityId>
              <YieldLastComponent>true</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>84474113794194783</EntityId>
              <Min x="1" y="5" z="2" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>81220792640044008</EntityId>
              <Min x="-1" y="5" z="2" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyorPipeIntersection</SubtypeName>
              <EntityId>134948486548303436</EntityId>
              <Min x="0" y="4" z="-5" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>LargeBlockConveyorPipeCorner</SubtypeName>
              <EntityId>106875832962059789</EntityId>
              <Min x="0" y="5" z="-5" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>LargeBlockConveyorPipeEnd</SubtypeName>
              <EntityId>118176937732592816</EntityId>
              <Min x="0" y="5" z="-4" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ShipWelder">
              <SubtypeName>LargeShipWelder</SubtypeName>
              <EntityId>88761378197241254</EntityId>
              <Min x="0" y="4" z="-3" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <DeformationRatio>0.5</DeformationRatio>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Torpedo Welder</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>9</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_PistonTop">
              <SubtypeName>LargePistonTop</SubtypeName>
              <EntityId>112774155321543495</EntityId>
              <Min x="-1" y="5" z="-3" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ParentEntityId>0</ParentEntityId>
              <YieldLastComponent>true</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_PistonTop">
              <SubtypeName>LargePistonTop</SubtypeName>
              <EntityId>119963679461209181</EntityId>
              <Min x="1" y="5" z="-3" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ParentEntityId>0</ParentEntityId>
              <YieldLastComponent>true</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlockWarfare2</SubtypeName>
              <EntityId>93351127293925631</EntityId>
              <Min x="0" y="4" z="2" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>LargeHinge</SubtypeName>
              <EntityId>105287263987184267</EntityId>
              <Min x="0" y="3" z="5" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>LRM Tube Hinge</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>114648181789307347</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>-0.333333373</TargetVelocity>
              <MinAngle>0</MinAngle>
              <MaxAngle>1.36135662</MaxAngle>
              <CurrentAngle>-0.0005334543</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ExhaustBlock">
              <SubtypeName>LargeExhaustPipe</SubtypeName>
              <EntityId>83861527133438019</EntityId>
              <Min x="0" y="6" z="-3" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <ExhaustEffect>Smoke</ExhaustEffect>
              <PowerDependency>0</PowerDependency>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ExhaustBlock">
              <SubtypeName>LargeExhaustPipe</SubtypeName>
              <EntityId>88433292467045331</EntityId>
              <Min x="0" y="6" z="1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <ExhaustEffect>Smoke</ExhaustEffect>
              <PowerDependency>0</PowerDependency>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>124727853032953279</EntityId>
              <Min x="-1" y="4" z="-3" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>93366675446990462</EntityId>
              <Min x="1" y="5" z="-4" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>132561009239503617</EntityId>
              <Min x="-1" y="5" z="-4" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>78828645189083144</EntityId>
              <Min x="1" y="4" z="-3" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlockWarfare2</SubtypeName>
              <EntityId>123368153470603510</EntityId>
              <Min x="0" y="4" z="-4" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlockWarfare2</SubtypeName>
              <EntityId>140744145938009476</EntityId>
              <Min x="1" y="4" z="-5" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlockWarfare2</SubtypeName>
              <EntityId>78848606951842231</EntityId>
              <Min x="-1" y="4" z="-5" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="5" z="-6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="5" z="-6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="5" z="-6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="5" z="-5" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="5" z="-5" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="5" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="5" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="5" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="5" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="5" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>GratedHalfStairs</SubtypeName>
              <EntityId>77556807639499903</EntityId>
              <Min x="0" y="3" z="-9" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>LargeAdvancedStator</SubtypeName>
              <EntityId>72540818361891437</EntityId>
              <Min x="0" y="5" z="-8" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[Turret Slaver - Rotor Config]
Use manual rest angle=false
Manual rest angle (deg)=0

[TCES - Rotor]
Rest angle (deg)=0
Enable stabilization=True
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Front AA Advanced Rotor Azi</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>111955687308109308</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0</TargetVelocity>
              <MinAngle xsi:nil="true" />
              <MaxAngle xsi:nil="true" />
              <CurrentAngle>6.268272</CurrentAngle>
              <LimitsActive>false</LimitsActive>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>LargeHinge</SubtypeName>
              <EntityId>90687337251110892</EntityId>
              <Min x="0" y="5" z="-2" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Antenna Hinge</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>118012806360755192</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>-0.0333333351</TargetVelocity>
              <MinAngle>0.87266463</MinAngle>
              <MaxAngle>1.57079637</MaxAngle>
              <CurrentAngle>0.872308433</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>117522235910547897</EntityId>
              <Min x="0" y="5" z="0" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>121979316382445599</EntityId>
              <Min x="0" y="4" z="0" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>128625328418800246</EntityId>
              <Min x="1" y="4" z="-2" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>121693543545067255</EntityId>
              <Min x="-1" y="4" z="-2" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>83800479959783938</EntityId>
              <Min x="-1" y="4" z="0" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>93313644749355742</EntityId>
              <Min x="1" y="4" z="0" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Beacon">
              <SubtypeName>LargeBlockBeacon</SubtypeName>
              <EntityId>138663533527389625</EntityId>
              <Min x="0" y="6" z="-6" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <BroadcastRadius>20000</BroadcastRadius>
              <HudText />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ExtendedPistonBase">
              <SubtypeName>LargePistonBase</SubtypeName>
              <EntityId>98109484871477920</EntityId>
              <Min x="0" y="6" z="-4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Parascope Piston</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>119345776416273407</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <Velocity>-0.1</Velocity>
              <MaxLimit>1</MaxLimit>
              <MinLimit>0</MinLimit>
              <Reverse>false</Reverse>
              <CurrentPosition>0</CurrentPosition>
              <MaxImpulseAxis>50000</MaxImpulseAxis>
              <MaxImpulseNonAxis>50000</MaxImpulseNonAxis>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>142657225241074969</EntityId>
              <Min x="-1" y="6" z="-4" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>142123024627849483</EntityId>
              <Min x="1" y="6" z="-4" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>97011958209855917</EntityId>
              <Min x="-1" y="7" z="-4" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>91017332296987165</EntityId>
              <Min x="1" y="7" z="-4" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="0" y="6" z="-7" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Searchlight">
              <SubtypeName>LargeSearchlight</SubtypeName>
              <EntityId>127323986079675821</EntityId>
              <Min x="1" y="6" z="-6" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame10</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>10</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <Radius>7.5</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.5</Falloff>
              <Intensity>1</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
              <PreviousControlledEntityId xsi:nil="true" />
              <RotationSpeed>0.08</RotationSpeed>
              <Rotation>0</Rotation>
              <Elevation>0</Elevation>
              <TargetCharacters>true</TargetCharacters>
              <Flags>
                <TargetCharacters>true</TargetCharacters>
              </Flags>
              <Range>800</Range>
              <TargetingGroup />
              <Target>0</Target>
              <IsPotentialTarget>true</IsPotentialTarget>
              <EnableIdleRotation>false</EnableIdleRotation>
              <PreviousIdleRotationState>true</PreviousIdleRotationState>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Searchlight">
              <SubtypeName>LargeSearchlight</SubtypeName>
              <EntityId>118517686399822192</EntityId>
              <Min x="-1" y="6" z="-6" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame10</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>10</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>false</Enabled>
              <Radius>7.5</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.5</Falloff>
              <Intensity>1</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
              <PreviousControlledEntityId xsi:nil="true" />
              <RotationSpeed>0.08</RotationSpeed>
              <Rotation>0</Rotation>
              <Elevation>0</Elevation>
              <TargetCharacters>true</TargetCharacters>
              <Flags>
                <TargetCharacters>true</TargetCharacters>
              </Flags>
              <Range>800</Range>
              <TargetingGroup />
              <Target>0</Target>
              <IsPotentialTarget>true</IsPotentialTarget>
              <EnableIdleRotation>false</EnableIdleRotation>
              <PreviousIdleRotationState>true</PreviousIdleRotationState>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="-1" y="6" z="-7" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="1" y="6" z="-7" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="-1" y="6" z="-5" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="1" y="6" z="-5" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorStator">
              <SubtypeName>LargeStator</SubtypeName>
              <EntityId>135667571910400827</EntityId>
              <Min x="0" y="7" z="-6" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Radar Rotor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>120448036180972741</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0.166666627</TargetVelocity>
              <MinAngle xsi:nil="true" />
              <MaxAngle xsi:nil="true" />
              <CurrentAngle>2.69740772</CurrentAngle>
              <LimitsActive>false</LimitsActive>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>135765783155351446</EntityId>
              <Min x="0" y="-4" z="-17" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>79133159437582461</EntityId>
              <Min x="1" y="-3" z="5" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>128681452556838029</EntityId>
              <Min x="1" y="-3" z="3" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="2" y="0" z="13" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>141293719534712980</EntityId>
              <Min x="0" y="-4" z="-16" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>130876447834163134</EntityId>
              <Min x="1" y="-3" z="6" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>90757815871401336</EntityId>
              <Min x="1" y="-3" z="4" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="2" y="1" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="-2" y="0" z="13" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="-2" y="0" z="14" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="2" y="0" z="14" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="0" z="13" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope</SubtypeName>
              <Min x="0" y="0" z="14" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="9" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="1" y="-1" z="10" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="9" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Base</SubtypeName>
              <Min x="-1" y="-1" z="10" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="10" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="10" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>LargeBlockLargeAtmosphericThrustSciFi</SubtypeName>
              <EntityId>114347104557426618</EntityId>
              <Min x="-1" y="-3" z="11" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>true</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Drive Impeller</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-2" z="11" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-2" z="11" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="-2" z="9" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="-2" z="9" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-2" z="12" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-2" z="12" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="-1" y="0" z="15" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="1" y="0" z="15" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>LargeAdvancedStator</SubtypeName>
              <EntityId>103927462724497365</EntityId>
              <Min x="0" y="2" z="-3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[TCES - Rotor]
Rest angle (deg)=0
Enable stabilization=True
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Forward Torpedo Turret Rotor Azi</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>116955620538889546</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0</TargetVelocity>
              <MinAngle xsi:nil="true" />
              <MaxAngle xsi:nil="true" />
              <CurrentAngle>0.0143969785</CurrentAngle>
              <LimitsActive>false</LimitsActive>
              <DummyDisplacement>0.11</DummyDisplacement>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>LargeAdvancedStator</SubtypeName>
              <EntityId>139639695451942676</EntityId>
              <Min x="0" y="2" z="1" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[TCES - Rotor]
Rest angle (deg)=0
Enable stabilization=True
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear Torpedo Turret Rotor Azi</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>103584696179243766</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0</TargetVelocity>
              <MinAngle xsi:nil="true" />
              <MaxAngle xsi:nil="true" />
              <CurrentAngle>0.00358257047</CurrentAngle>
              <LimitsActive>false</LimitsActive>
              <DummyDisplacement>0.11</DummyDisplacement>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>102112600497664816</EntityId>
              <Min x="-1" y="4" z="7" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>80459761440790140</EntityId>
              <Min x="1" y="4" z="7" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>133537105184860360</EntityId>
              <Min x="-1" y="4" z="6" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>128622292909683966</EntityId>
              <Min x="1" y="4" z="6" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>123320954951054660</EntityId>
              <Min x="0" y="4" z="7" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CryoChamber">
              <SubtypeName>LargeBlockBed</SubtypeName>
              <EntityId>102146509179434372</EntityId>
              <Min x="1" y="3" z="-8" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.4</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags />
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <HorizonIndicatorEnabled>false</HorizonIndicatorEnabled>
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <IsTargetLockingEnabled>false</IsTargetLockingEnabled>
              <PilotRelativeWorld xsi:nil="true" />
              <PilotGunDefinition xsi:nil="true" />
              <IsInFirstPersonView>true</IsInFirstPersonView>
              <OxygenLevel>0</OxygenLevel>
              <PilotJetpackEnabled xsi:nil="true" />
              <TargetData>
                <TargetId>0</TargetId>
                <IsTargetLocked>false</IsTargetLocked>
                <LockingProgress>0</LockingProgress>
              </TargetData>
              <SteamId xsi:nil="true" />
              <SerialId xsi:nil="true" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CryoChamber">
              <SubtypeName>LargeBlockBed</SubtypeName>
              <EntityId>87057269433546269</EntityId>
              <Min x="-1" y="3" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.4</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags />
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <HorizonIndicatorEnabled>false</HorizonIndicatorEnabled>
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <IsTargetLockingEnabled>false</IsTargetLockingEnabled>
              <PilotRelativeWorld xsi:nil="true" />
              <PilotGunDefinition xsi:nil="true" />
              <IsInFirstPersonView>true</IsInFirstPersonView>
              <OxygenLevel>0</OxygenLevel>
              <PilotJetpackEnabled xsi:nil="true" />
              <TargetData>
                <TargetId>0</TargetId>
                <IsTargetLocked>false</IsTargetLocked>
                <LockingProgress>0</LockingProgress>
              </TargetData>
              <SteamId xsi:nil="true" />
              <SerialId xsi:nil="true" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CryoChamber">
              <SubtypeName>LargeBlockBed</SubtypeName>
              <EntityId>140504060800271704</EntityId>
              <Min x="1" y="3" z="-7" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.4</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags />
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <HorizonIndicatorEnabled>false</HorizonIndicatorEnabled>
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <IsTargetLockingEnabled>false</IsTargetLockingEnabled>
              <PilotRelativeWorld xsi:nil="true" />
              <PilotGunDefinition xsi:nil="true" />
              <IsInFirstPersonView>true</IsInFirstPersonView>
              <OxygenLevel>0</OxygenLevel>
              <PilotJetpackEnabled xsi:nil="true" />
              <TargetData>
                <TargetId>0</TargetId>
                <IsTargetLocked>false</IsTargetLocked>
                <LockingProgress>0</LockingProgress>
              </TargetData>
              <SteamId xsi:nil="true" />
              <SerialId xsi:nil="true" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CryoChamber">
              <SubtypeName>LargeBlockBed</SubtypeName>
              <EntityId>105496631100971598</EntityId>
              <Min x="-1" y="3" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.4</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags />
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <HorizonIndicatorEnabled>false</HorizonIndicatorEnabled>
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <IsTargetLockingEnabled>false</IsTargetLockingEnabled>
              <PilotRelativeWorld xsi:nil="true" />
              <PilotGunDefinition xsi:nil="true" />
              <IsInFirstPersonView>true</IsInFirstPersonView>
              <OxygenLevel>0</OxygenLevel>
              <PilotJetpackEnabled xsi:nil="true" />
              <TargetData>
                <TargetId>0</TargetId>
                <IsTargetLocked>false</IsTargetLocked>
                <LockingProgress>0</LockingProgress>
              </TargetData>
              <SteamId xsi:nil="true" />
              <SerialId xsi:nil="true" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>73852806961926641</EntityId>
              <Min x="-1" y="-3" z="10" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>83514786857547402</EntityId>
              <Min x="0" y="-3" z="8" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ButtonPanel">
              <SubtypeName>VerticalButtonPanelLarge</SubtypeName>
              <EntityId>116192672535311104</EntityId>
              <Min x="-1" y="2" z="14" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Button Panel</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>TriggerNow</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>116192672535311104</BlockEntityId>
                      <GroupName>Deploy Depth Charge</GroupName>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Reverse</Action>
                      <BlockEntityId>115224574388755046</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>2</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>OnOff</Action>
                      <BlockEntityId>116910005707272972</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <AnyoneCanUse>false</AnyoneCanUse>
              <CustomButtonNames>
                <dictionary>
                  <item>
                    <Key>1</Key>
                    <Value>Depth Charges Hinge - Reverse</Value>
                  </item>
                  <item>
                    <Key>2</Key>
                    <Value>Depth Charge Welder - Toggle block On/Off</Value>
                  </item>
                  <item>
                    <Key>0</Key>
                    <Value>Deploy Depth Charge</Value>
                  </item>
                </dictionary>
              </CustomButtonNames>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>107212410748348609</EntityId>
              <Min x="-1" y="2" z="13" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorHalfPanelLight</SubtypeName>
              <EntityId>74486039667870527</EntityId>
              <Min x="1" y="2" z="13" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>91582759027304446</EntityId>
              <Min x="-1" y="2" z="12" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>75077759969578226</EntityId>
              <Min x="1" y="2" z="12" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>142545311306565876</EntityId>
              <Min x="0" y="2" z="12" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>95025924702327162</EntityId>
              <Min x="1" y="2" z="14" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>94823451377663850</EntityId>
              <Min x="1" y="2" z="-5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>107328141737366243</EntityId>
              <Min x="-1" y="2" z="-5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageScifiCorner</SubtypeName>
              <EntityId>127355110599359744</EntityId>
              <Min x="-1" y="2" z="-6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageScifiCorner</SubtypeName>
              <EntityId>73761876642675564</EntityId>
              <Min x="1" y="2" z="-6" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFiTjunction</SubtypeName>
              <EntityId>123800601925657722</EntityId>
              <Min x="0" y="2" z="-6" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>91100880462442744</EntityId>
              <Min x="0" y="1" z="-6" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirtightSlideDoor">
              <SubtypeName>LargeBlockSlideDoor</SubtypeName>
              <EntityId>113701590853341268</EntityId>
              <Min x="1" y="3" z="-5" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <AnyoneCanUse>false</AnyoneCanUse>
              <Open>false</Open>
              <CurrOpening>0</CurrOpening>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirtightSlideDoor">
              <SubtypeName>LargeBlockSlideDoor</SubtypeName>
              <EntityId>97137044933454651</EntityId>
              <Min x="-1" y="3" z="-5" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <AnyoneCanUse>false</AnyoneCanUse>
              <Open>false</Open>
              <CurrOpening>0</CurrOpening>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>109960561186852748</EntityId>
              <Min x="0" y="3" z="-6" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageScifiCorner</SubtypeName>
              <EntityId>129797087216240197</EntityId>
              <Min x="-1" y="3" z="-6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageScifiCorner</SubtypeName>
              <EntityId>97514415911474551</EntityId>
              <Min x="1" y="3" z="-6" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockReskinLarge</SubtypeName>
              <EntityId>104432751793982608</EntityId>
              <Min x="-1" y="2" z="-7" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[LAMP - Fire Timer Config]
;This timer will be triggered when this specified missile is fired
Missile number=0
;If this timer should be triggered ANY time a missile is fired
Trigger on any fire=false
; This timer will be triggered when the script enters one of the following
; targeting states:
;   None, Idle, Searching, Targeting
; The "Targeting" state is triggered when a homing lock is established
; OR when beam ride mode is activated.
Trigger on targeting state=None
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>TB 1 - Missile Silo Open</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Reverse</Action>
                      <BlockEntityId>105287263987184267</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>1000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockReskinLarge</SubtypeName>
              <EntityId>116820698643946519</EntityId>
              <Min x="1" y="2" z="-7" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[LAMP - Fire Timer Config]
;This timer will be triggered when this specified missile is fired
Missile number=0
;If this timer should be triggered ANY time a missile is fired
Trigger on any fire=false
; This timer will be triggered when the script enters one of the following
; targeting states:
;   None, Idle, Searching, Targeting
; The "Targeting" state is triggered when a homing lock is established
; OR when beam ride mode is activated.
Trigger on targeting state=None
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>TB 2 - Missile Silo Closed</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Reverse</Action>
                      <BlockEntityId>105287263987184267</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>1000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2</SubtypeName>
              <EntityId>86192410720143177</EntityId>
              <Min x="-1" y="1" z="-8" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>142743231828460638</EntityId>
              <Min x="1" y="1" z="-8" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>17</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>82389776739291381</EntityId>
              <Min x="0" y="3" z="-7" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirtightSlideDoor">
              <SubtypeName>LargeBlockSlideDoor</SubtypeName>
              <EntityId>141396151240001555</EntityId>
              <Min x="0" y="3" z="-8" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <AnyoneCanUse>false</AnyoneCanUse>
              <Open>true</Open>
              <CurrOpening>1</CurrOpening>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>LargeBlockConveyorPipeEnd</SubtypeName>
              <EntityId>143519393734670197</EntityId>
              <Min x="0" y="4" z="-6" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>LargeBlockConveyorPipeSeamless</SubtypeName>
              <EntityId>119600249264373658</EntityId>
              <Min x="0" y="4" z="-7" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>115931799468702432</EntityId>
              <Min x="0" y="4" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>75799172000976867</EntityId>
              <Min x="0" y="-2" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>20</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>142472732420196621</EntityId>
              <Min x="0" y="-2" z="-10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>21</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Assembler">
              <SubtypeName>BasicAssembler</SubtypeName>
              <EntityId>104744157316469075</EntityId>
              <Min x="-1" y="1" z="-16" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_InventoryAggregate">
                      <InventoryId>Inventory</InventoryId>
                      <Inventories>
                        <MyObjectBuilder_InventoryBase xsi:type="MyObjectBuilder_Inventory">
                          <Items />
                          <nextItemId>0</nextItemId>
                          <Volume>2</Volume>
                          <Mass>9223372036854.775807</Mass>
                          <MaxItemCount>2147483647</MaxItemCount>
                          <Size xsi:nil="true" />
                          <InventoryFlags>CanReceive</InventoryFlags>
                          <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                        </MyObjectBuilder_InventoryBase>
                        <MyObjectBuilder_InventoryBase xsi:type="MyObjectBuilder_Inventory">
                          <Items />
                          <nextItemId>0</nextItemId>
                          <Volume>2</Volume>
                          <Mass>9223372036854.775807</Mass>
                          <MaxItemCount>2147483647</MaxItemCount>
                          <Size xsi:nil="true" />
                          <InventoryFlags>CanSend</InventoryFlags>
                          <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                        </MyObjectBuilder_InventoryBase>
                      </Inventories>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>true</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame10</TimerType>
                      <FramesFromLastTrigger>50</FramesFromLastTrigger>
                      <TimerTickInFrames>60</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentProgress>0</CurrentProgress>
              <DisassembleEnabled>false</DisassembleEnabled>
              <RepeatAssembleEnabled>false</RepeatAssembleEnabled>
              <RepeatDisassembleEnabled>false</RepeatDisassembleEnabled>
              <SlaveEnabled>false</SlaveEnabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Refinery">
              <SubtypeName>Blast Furnace</SubtypeName>
              <EntityId>77819958671068639</EntityId>
              <Min x="1" y="1" z="-16" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_InventoryAggregate">
                      <InventoryId>Inventory</InventoryId>
                      <Inventories>
                        <MyObjectBuilder_InventoryBase xsi:type="MyObjectBuilder_Inventory">
                          <Items />
                          <nextItemId>0</nextItemId>
                          <Volume>4</Volume>
                          <Mass>9223372036854.775807</Mass>
                          <MaxItemCount>2147483647</MaxItemCount>
                          <Size xsi:nil="true" />
                          <InventoryFlags>CanReceive</InventoryFlags>
                          <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                        </MyObjectBuilder_InventoryBase>
                        <MyObjectBuilder_InventoryBase xsi:type="MyObjectBuilder_Inventory">
                          <Items />
                          <nextItemId>0</nextItemId>
                          <Volume>4</Volume>
                          <Mass>9223372036854.775807</Mass>
                          <MaxItemCount>2147483647</MaxItemCount>
                          <Size xsi:nil="true" />
                          <InventoryFlags>CanSend</InventoryFlags>
                          <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                        </MyObjectBuilder_InventoryBase>
                      </Inventories>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>true</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame10</TimerType>
                      <FramesFromLastTrigger>50</FramesFromLastTrigger>
                      <TimerTickInFrames>60</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlockWarfare2</SubtypeName>
              <EntityId>101326035507567260</EntityId>
              <Min x="1" y="2" z="-9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlockWarfare2</SubtypeName>
              <EntityId>127977454101228657</EntityId>
              <Min x="-1" y="2" z="-9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>GratedHalfStairs</SubtypeName>
              <EntityId>95150336278949375</EntityId>
              <Min x="0" y="2" z="-9" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>LargeBlockInsetLight</SubtypeName>
              <EntityId>85281710918481819</EntityId>
              <Min x="-1" y="3" z="-10" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <ColorRed>0.3137255</ColorRed>
              <ColorBlue>0.3137255</ColorBlue>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockSciFiWall</SubtypeName>
              <EntityId>113973437606822069</EntityId>
              <Min x="1" y="3" z="-11" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockSciFiWall</SubtypeName>
              <EntityId>97515870231713258</EntityId>
              <Min x="-1" y="3" z="-11" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>FireCoverCorner</SubtypeName>
              <EntityId>133430470864162951</EntityId>
              <Min x="0" y="4" z="-9" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockSciFiWall</SubtypeName>
              <EntityId>75368057227520775</EntityId>
              <Min x="1" y="3" z="-9" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockSciFiWall</SubtypeName>
              <EntityId>106379160100626749</EntityId>
              <Min x="-1" y="3" z="-9" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>114980238317834969</EntityId>
              <Min x="0" y="1" z="-7" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>91977351492988381</EntityId>
              <Min x="0" y="1" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>107608602013847461</EntityId>
              <Min x="0" y="1" z="-9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>138776121907325385</EntityId>
              <Min x="-1" y="0" z="5" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>119334302592925143</EntityId>
              <Min x="0" y="1" z="-10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>111772662374157459</EntityId>
              <Min x="1" y="0" z="-5" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>117208078984389146</EntityId>
              <Min x="1" y="0" z="-6" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>73412077491582804</EntityId>
              <Min x="0" y="0" z="-4" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>126324209119626752</EntityId>
              <Min x="0" y="0" z="-6" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>109373795298329639</EntityId>
              <Min x="-1" y="0" z="-5" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>105399586263014940</EntityId>
              <Min x="-1" y="0" z="-6" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirVent">
              <SubtypeName />
              <EntityId>118332580770022748</EntityId>
              <Min x="0" y="0" z="-3" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Mid 3 Floatation Air Vent</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <IsDepressurizing>false</IsDepressurizing>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>91938950908515400</EntityId>
              <Min x="0" y="0" z="-5" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFiWall</SubtypeName>
              <EntityId>119478335927548898</EntityId>
              <Min x="0" y="2" z="-10" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageScifiCorner</SubtypeName>
              <EntityId>105695094046484851</EntityId>
              <Min x="-1" y="2" z="-10" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageScifiCorner</SubtypeName>
              <EntityId>132237869099953167</EntityId>
              <Min x="1" y="2" z="-10" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>122835950041610912</EntityId>
              <Min x="-1" y="2" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>109663242692878295</EntityId>
              <Min x="1" y="2" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>118180188860081245</EntityId>
              <Min x="0" y="-1" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>LargeBlockSmallContainer</SubtypeName>
              <EntityId>119934807027048476</EntityId>
              <Min x="0" y="2" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>15.625</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>17</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>80036304036532005</EntityId>
              <Min x="-1" y="2" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>8</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>101074675499575733</EntityId>
              <Min x="1" y="2" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>9</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>107916302832675366</EntityId>
              <Min x="-1" y="2" z="1" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>101440226679986455</EntityId>
              <Min x="1" y="2" z="1" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirtightSlideDoor">
              <SubtypeName>LargeBlockSlideDoor</SubtypeName>
              <EntityId>93543561265187764</EntityId>
              <Min x="1" y="2" z="2" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <AnyoneCanUse>false</AnyoneCanUse>
              <Open>true</Open>
              <CurrOpening>1</CurrOpening>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirtightSlideDoor">
              <SubtypeName>LargeBlockSlideDoor</SubtypeName>
              <EntityId>136764869507182920</EntityId>
              <Min x="-1" y="2" z="2" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <AnyoneCanUse>false</AnyoneCanUse>
              <Open>false</Open>
              <CurrOpening>0</CurrOpening>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>127626123179366649</EntityId>
              <Min x="1" y="1" z="3" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>122678170898429712</EntityId>
              <Min x="-1" y="1" z="3" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>GratedHalfStairs</SubtypeName>
              <EntityId>78200399425450305</EntityId>
              <Min x="1" y="1" z="4" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>132547960091691870</EntityId>
              <Min x="0" y="1" z="7" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>105552260499254067</EntityId>
              <Min x="1" y="1" z="6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>10</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_HydrogenEngine">
              <SubtypeName>LargeHydrogenEngine</SubtypeName>
              <EntityId>134770704628612293</EntityId>
              <Min x="0" y="0" z="-1" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <Capacity>100000</Capacity>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>84600645441972414</EntityId>
              <Min x="0" y="0" z="6" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlockWarfare2</SubtypeName>
              <EntityId>78225255055382915</EntityId>
              <Min x="0" y="2" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>8</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlock</SubtypeName>
              <EntityId>79361151452504992</EntityId>
              <Min x="0" y="-2" z="-3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>22</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>113484230214795963</EntityId>
              <Min x="1" y="-3" z="10" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>98546548247266797</EntityId>
              <Min x="-1" y="-4" z="10" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorSlope</SubtypeName>
              <Min x="0" y="-3" z="7" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="-1" z="-17" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Gyro">
              <SubtypeName>LargeBlockGyro</SubtypeName>
              <EntityId>132286598468150783</EntityId>
              <Min x="0" y="-2" z="2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>137048087176108902</EntityId>
              <Min x="-1" y="6" z="-9" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>132801213761524814</EntityId>
              <Min x="1" y="6" z="-9" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>115073559525554630</EntityId>
              <Min x="-1" y="6" z="-10" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>93514238747387525</EntityId>
              <Min x="1" y="6" z="-10" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="5" z="-9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>LargeBlockInsetLight</SubtypeName>
              <EntityId>76063007321862893</EntityId>
              <Min x="1" y="3" z="-10" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <ColorRed>0.3137255</ColorRed>
              <ColorBlue>0.3137255</ColorBlue>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>118020596657509023</EntityId>
              <Min x="-1" y="6" z="-8" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>77097108864821326</EntityId>
              <Min x="1" y="6" z="-8" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Cockpit">
              <SubtypeName>LargeBlockCockpit</SubtypeName>
              <EntityId>78673260406162114</EntityId>
              <Min x="-1" y="4" z="-9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>1</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Control</Action>
                      <BlockEntityId>106332784081694355</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TargetingGroup_Weapons</Action>
                      <BlockEntityId>106332784081694355</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>2</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TargetingGroup_Propulsion</Action>
                      <BlockEntityId>106332784081694355</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>3</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TargetingGroup_PowerSystems</Action>
                      <BlockEntityId>106332784081694355</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>4</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>CopyTarget</Action>
                      <BlockEntityId>106332784081694355</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>5</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>ForgetTarget</Action>
                      <BlockEntityId>106332784081694355</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <PilotRelativeWorld>
                <Position x="0.99718356132507324" y="-1.2525070905685425" z="0.65310013294219971" />
                <Forward x="-0.6745543" y="0.00763139548" z="-0.7381858" />
                <Up x="0.006605099" y="0.999968946" z="0.00430198" />
                <Orientation>
                  <X>0.00320015871</X>
                  <Y>0.361796677</Y>
                  <Z>-0.002300612</Z>
                  <W>0.9322487</W>
                </Orientation>
              </PilotRelativeWorld>
              <PilotGunDefinition xsi:nil="true" />
              <IsInFirstPersonView>true</IsInFirstPersonView>
              <OxygenLevel>0</OxygenLevel>
              <PilotJetpackEnabled xsi:nil="true" />
              <TextPanels>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanels>
              <TargetData>
                <TargetId>0</TargetId>
                <IsTargetLocked>false</IsTargetLocked>
                <LockingProgress>0</LockingProgress>
              </TargetData>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Cockpit">
              <SubtypeName>LargeBlockCockpit</SubtypeName>
              <EntityId>103271454839553736</EntityId>
              <Min x="1" y="4" z="-9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>1</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Turret 1 Control</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Control</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TargetingGroup_Weapons</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>2</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TargetingGroup_Propulsion</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>3</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TargetingGroup_PowerSystems</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>4</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>CopyTarget</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>5</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>ForgetTarget</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Control</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TargetingGroup_Weapons</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>2</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TargetingGroup_Propulsion</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>3</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TargetingGroup_PowerSystems</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>4</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>CopyTarget</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>5</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>ForgetTarget</Action>
                      <BlockEntityId>104827912017309228</BlockEntityId>
                    </Data>
                  </Slot>
                </SlotsGamepad>
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <PilotRelativeWorld>
                <Position x="-1.9179662466049194" y="-3.629133939743042" z="1.4497888088226318" />
                <Forward x="0.6553269" y="0.0002888486" z="-0.755345345" />
                <Up x="0.000496399531" y="0.9999995" z="0.000813075" />
                <Orientation>
                  <X>0.000294052734</X>
                  <Y>-0.3497531</Y>
                  <Z>-0.000374711759</Z>
                  <W>0.9368418</W>
                </Orientation>
              </PilotRelativeWorld>
              <PilotGunDefinition xsi:nil="true" />
              <IsInFirstPersonView>true</IsInFirstPersonView>
              <OxygenLevel>0</OxygenLevel>
              <PilotJetpackEnabled xsi:nil="true" />
              <TextPanels>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanels>
              <TargetData>
                <TargetId>119786808450149615</TargetId>
                <IsTargetLocked>true</IsTargetLocked>
                <LockingProgress>1</LockingProgress>
              </TargetData>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlockWarfare2</SubtypeName>
              <EntityId>101645312225871722</EntityId>
              <Min x="-1" y="4" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>9</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlockWarfare2</SubtypeName>
              <EntityId>96774760588364290</EntityId>
              <Min x="1" y="4" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>10</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorStator">
              <SubtypeName>LargeStator</SubtypeName>
              <EntityId>80558352831112097</EntityId>
              <Min x="0" y="3" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>96922108326829883</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0</TargetVelocity>
              <MinAngle xsi:nil="true" />
              <MaxAngle xsi:nil="true" />
              <CurrentAngle>1.169919E-06</CurrentAngle>
              <LimitsActive>false</LimitsActive>
              <DummyDisplacement>0.11</DummyDisplacement>
              <RotorLock>true</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorSlopedSidePanelLight</SubtypeName>
              <EntityId>122891976047627385</EntityId>
              <Min x="-1" y="2" z="-22" />
              <IntegrityPercent>0.7</IntegrityPercent>
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorSlopedSidePanelLight</SubtypeName>
              <EntityId>140256353768217176</EntityId>
              <Min x="1" y="2" z="-22" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFiGate</SubtypeName>
              <EntityId>82835777769971942</EntityId>
              <Min x="-1" y="1" z="5" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>LargeBlockBatteryBlockWarfare2</SubtypeName>
              <EntityId>77840385237069416</EntityId>
              <Min x="-1" y="2" z="5" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>11</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>3</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>102585257715477873</EntityId>
              <Min x="0" y="-1" z="3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>123285330253810607</EntityId>
              <Min x="0" y="0" z="2" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>123255983701474285</EntityId>
              <Min x="0" y="0" z="11" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>88862926680283494</EntityId>
              <Min x="0" y="0" z="10" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>87642036344007813</EntityId>
              <Min x="1" y="0" z="11" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>134364161299031220</EntityId>
              <Min x="1" y="-4" z="10" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_OxygenTank">
              <SubtypeName>LargeHydrogenTankSmall</SubtypeName>
              <EntityId>72357299776277624</EntityId>
              <Min x="0" y="-1" z="0" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.75</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <IsStockpiling>false</IsStockpiling>
              <FilledRatio>1</FilledRatio>
              <AutoRefill>false</AutoRefill>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>119910517193974775</EntityId>
              <Min x="-1" y="0" z="-1" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>142138614837804624</EntityId>
              <Min x="0" y="-1" z="4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Ladder2">
              <SubtypeName />
              <EntityId>121752354328380803</EntityId>
              <Min x="0" y="2" z="8" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Ladder2">
              <SubtypeName />
              <EntityId>87974816135582204</EntityId>
              <Min x="0" y="3" z="8" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RemoteControl">
              <SubtypeName>LargeBlockRemoteControl</SubtypeName>
              <EntityId>105360902852911146</EntityId>
              <Min x="0" y="0" z="-2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyAutopilotComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_AutopilotComponent">
                      <AutoPilotEnabled>false</AutoPilotEnabled>
                      <FlightMode>0</FlightMode>
                      <CurrentWaypointIndex>-1</CurrentWaypointIndex>
                      <Waypoints />
                      <DockingModeEnabled>true</DockingModeEnabled>
                      <CollisionAvoidance>false</CollisionAvoidance>
                      <Direction>0</Direction>
                      <AutopilotSpeedLimit>100</AutopilotSpeedLimit>
                      <WaitForFreeWay>false</WaitForFreeWay>
                      <WaypointThresholdDistance>0</WaypointThresholdDistance>
                      <Coords />
                      <Names />
                      <LookAtPosition xsi:nil="true" />
                      <FacingDirection>Forward</FacingDirection>
                      <AlignToGravity>true</AlignToGravity>
                      <MinHeightAboveTerrain>25</MinHeightAboveTerrain>
                      <IsWorkAreaReturningToStart>false</IsWorkAreaReturningToStart>
                      <WorkAreaStartForward>
                        <X>0</X>
                        <Y>0</Y>
                        <Z>0</Z>
                      </WorkAreaStartForward>
                      <PitchAngle>0</PitchAngle>
                      <RollAngle>0</RollAngle>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <IsTargetLockingEnabled>false</IsTargetLockingEnabled>
              <PreviousControlledEntityId xsi:nil="true" />
              <AutoPilotEnabled>false</AutoPilotEnabled>
              <FlightMode>0</FlightMode>
              <BindedCamera>79004400858155769</BindedCamera>
              <CurrentWaypointIndex>-1</CurrentWaypointIndex>
              <Waypoints />
              <Direction>0</Direction>
              <DockingModeEnabled>false</DockingModeEnabled>
              <CollisionAvoidance>false</CollisionAvoidance>
              <Coords />
              <Names />
              <WaypointThresholdDistance>0</WaypointThresholdDistance>
              <IsMainRemoteControl>true</IsMainRemoteControl>
              <WaitForFreeWay>false</WaitForFreeWay>
              <IsUpdatedSave>true</IsUpdatedSave>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>LargeBlockConveyorPipeCorner</SubtypeName>
              <EntityId>103015168789348947</EntityId>
              <Min x="0" y="1" z="3" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>97278264399766131</EntityId>
              <Min x="0" y="0" z="-10" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>99400481931251909</EntityId>
              <Min x="-1" y="1" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>11</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>141071419194514702</EntityId>
              <Min x="1" y="1" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>12</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>122769690773517304</EntityId>
              <Min x="1" y="1" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>117530534722165171</EntityId>
              <Min x="-1" y="1" z="1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
              <SubtypeName>LargeProgrammableBlock</SubtypeName>
              <EntityId>92298139691258993</EntityId>
              <Min x="1" y="2" z="5" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[LAMP - General Config]
Fire control group name=Fire Control
Missile group name tag=Missile
Optional reference block name tag=Reference
;Accepted guidance modes are
;  CAMERA
;  TURRET
;  BEAMRIDE
Preferred guidance mode=TURRET
Enable auto-fire=true
Auto-fire remote missiles=false
Auto-fire interval (s)=30
Antenna range - Idle (m)=1
Antenna range - Active (m)=5000
Use dynamic active antenna range=true
Minimum allowed lock on range (m)=800

[LAMP - Status Screen Colors]
Title bar background color=25, 25, 25, 255
Title text color=150, 150, 150, 255
Background color=0, 0, 0, 255
Primary text color=150, 150, 150, 255
Secondary text color=75, 75, 75, 255
Status text color=150, 150, 150, 255
Status bar background color=25, 25, 25, 255
Selected guidance outline color=0, 50, 0, 255
Allowed guidance text color=150, 150, 150, 255
Disallowed guidance text color=25, 25, 25, 255

[LAMP - Sound Config - Lock Search]
Sound name=ArcSoundBlockAlert2
Duration (s)=0.5
Loop interval (s)=1
Should loop=true

[LAMP - Sound Config - Lock Good]
Sound name=ArcSoundBlockAlert2
Duration (s)=0.2
Loop interval (s)=1
Should loop=true

[LAMP - Sound Config - Lock Bad]
Sound name=ArcSoundBlockAlert1
Duration (s)=0.15
Loop interval (s)=1
Should loop=true

[LAMP - Sound Config - Lock Lost/Abort]
Sound name=ArcSoundBlockAlert1
Duration (s)=0.5
Loop interval (s)=0
Should loop=false

[LAMP - Text Surface Config]
Show on screen 0=true
Show on screen 1=false
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>PB - Missile Lamp Control</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>SCRIPT</ContentType>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <CustomizeScripts>true</CustomizeScripts>
                  <ScriptBackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <Program>
#region Script

#region DONT YOU DARE TOUCH THESE
const string VERSION = "94.11.0";const string DATE = "2022/02/03";const string COMPAT_VERSION = "169.0.0";
#endregion

/*
/ //// / LAMP | Launch A Missile Program (WHAM-FCS) / //// /

_______________________________
INSTRUCTIONS

See workshop page for instructions, there is no room left in this script!

_______________________________
NOTE

This code has been minified so that it will fit in the programmable block.
I have NOT obfuscated any of the code, so that if you copy paste this into an
IDE like Visual Studio or use a website like https://codebeautify.org/csharpviewer,

you can uncompress this and it will be human readable.

_______________________________
ARGUMENTS

fire
remote_fire
alpha
kill
stealth
stealth_switch
stealth_off
evasion
evasion_switch
evasion_on
evasion_off
spiral
spiral_switch
spiral_on
spiral_off
topdown
topdown_switch
topdown_on
topdown_off
mode_switch
mode_optical | mode_beamride
mode_semiactive | mode_camera
mode_turret
lock_on
lock_off
lock_switch
retask
precise
precise_switch
precise_on
precise_off
autofire
autofire_toggle
autofire_on
autofire_off










=================================================
DO NOT MODIFY VARIABLES IN THE SCRIPT!

USE THE CUSTOM DATA OF THIS PROGRAMMABLE BLOCK!
=================================================


























HEY! DONT EVEN THINK ABOUT TOUCHING BELOW THIS LINE!

*/

#region Fields
GuidanceMode _preferredGuidanceMode = GuidanceMode.Camera;GuidanceMode _designationMode = GuidanceMode.None;string _missileNameTag = "Missile";string _fireControlGroupName = "Fire Control";string _referenceNameTag = "Reference";bool _autoFire = false;bool _autoFireRemote = false;
double _autoFireInterval = 1; // seconds
double _timeSinceAutoFire = 141;double _idleAntennaRange = 800;double _activeAntennaRange = 5000;
double _minRaycastRange = 50; //meters
double _maxRaycastRange = 5000; //meters
double _maxTimeForLockBreak = 3;bool _stealthySemiActiveAntenna = false;bool _usePreciseAiming = false;bool _fireEnabled = true;
/*
___________________________________________________________________

============= Don't touch anything below this :) ==================
___________________________________________________________________
*/
const string IGC_TAG_IFF = "IGC_IFF_MSG",IGC_TAG_PARAMS = "IGC_MSL_PAR_MSG",IGC_TAG_HOMING = "IGC_MSL_HOM_MSG",IGC_TAG_BEAM_RIDING = "IGC_MSL_OPT_MSG",IGC_TAG_FIRE = "IGC_MSL_FIRE_MSG",IGC_TAG_REMOTE_FIRE_REQUEST = "IGC_MSL_REM_REQ",IGC_TAG_REMOTE_FIRE_RESPONSE = "IGC_MSL_REM_RSP",IGC_TAG_REGISTER = "IGC_MSL_REG_MSG",
// General config
INI_SECTION_GENERAL = "LAMP - General Config",INI_FIRE_GROUP_NAME = "Fire control group name",INI_MSL_NAME = "Missile group name tag",INI_REFERENCE_NAME = "Optional reference block name tag",INI_PREFERRED_GUID = "Preferred guidance mode",INI_PREFERRED_GUID_COMMENT = "Accepted guidance modes are\n  CAMERA\n  TURRET\n  BEAMRIDE",INI_AUTO_FIRE = "Enable auto-fire",INI_AUTO_FIRE_INTERVAL = "Auto-fire interval (s)",INI_AUTO_FIRE_REMOTE = "Auto-fire remote missiles",INI_ANTENNA_RANGE_IDLE = "Antenna range - Idle (m)",INI_ANTENNA_RANGE_ACTIVE = "Antenna range - Active (m)",INI_ANTENNA_RANGE_DYNAMIC = "Use dynamic active antenna range",INI_MIN_RAYCAST_RANGE = "Minimum allowed lock on range (m)",
// Sound config
INI_SECTION_SOUND_LOCK_SEARCH = "LAMP - Sound Config - Lock Search",INI_SECTION_SOUND_LOCK_GOOD = "LAMP - Sound Config - Lock Good",INI_SECTION_SOUND_LOCK_LOST = "LAMP - Sound Config - Lock Lost/Abort",INI_SECTION_SOUND_LOCK_BAD = "LAMP - Sound Config - Lock Bad",
// Status screen config
INI_SECTION_COLORS = "LAMP - Status Screen Colors",INI_COLOR_TOP_BAR = "Title bar background color",INI_COLOR_TITLE_TEXT = "Title text color",INI_COLOR_BACKGROUND = "Background color",INI_COLOR_TEXT = "Primary text color",INI_COLOR_TEXT_SECONDARY = "Secondary text color",INI_COLOR_TEXT_STATUS = "Status text color",INI_COLOR_STATUS_BACKGROUND = "Status bar background color",INI_COLOR_GUID_SELECTED = "Selected guidance outline color",INI_COLOR_GUID_ALLOWED = "Allowed guidance text color",INI_COLOR_GUID_DISALLOWED = "Disallowed guidance text color",
// Text surface config
INI_SECTION_TEXT_SURF = "LAMP - Text Surface Config",INI_TEXT_SURF_TEMPLATE = "Show on screen {0}",
// Silo door config
INI_SECTION_SILO_DOOR = "LAMP - Silo Door Config",INI_SILO_NUMBER_COMMENT = "This door will be opened when this specified missile is fired",INI_SILO_NUMBER = "Missile number",
// Fire timer config
INI_SECTION_FIRE_TIMER = "LAMP - Fire Timer Config",INI_FIRE_TIMER_NUMBER_COMMENT = "This timer will be triggered when this specified missile is fired",INI_FIRE_TIMER_NUMBER = "Missile number",INI_FIRE_TIMER_ANY_COMMENT = "If this timer should be triggered ANY time a missile is fired",INI_FIRE_TIMER_ANY = "Trigger on any fire",
// For storage
INI_PARAMETER_SECTION_NAME = "params",INI_SEMIACTIVE_TARGET_POS_NAME = "sa_tp",INI_SEMIACTIVE_HIT_POS_NAME = "sa_hp",INI_SEMIACTIVE_TARGET_VEL_NAME = "sa_tv",INI_SEMIACTIVE_SHOOTER_POS_NAME = "sa_sp",INI_SEMIACTIVE_TIME_SINCE_LOCK_NAME = "sa_t",TARGET_LOCKED_TEXT = "Target Locked",TARGET_NOT_LOCKED_TEXT = "No Target",TARGET_TOO_CLOSE_TEXT = "Target Too Close",TARGET_SEARCHING_TEXT = "Searching",BEAM_RIDE_ACTIVE = "Active";const double RuntimeToRealTime = (1.0 / 60.0) / 0.0166666;const double UpdatesPerSecond = 10;const double UpdateTime = 1.0 / UpdatesPerSecond;readonly Color DefaultTextColor = new Color(150, 150, 150);readonly Color TargetLockedColor = new Color(150, 150, 150);readonly Color TargetNotLockedColor = new Color(100, 0, 0);readonly Color TargetSearchingColor = new Color(100, 100, 0);readonly Color TargetTooCloseColor = new Color(100, 100, 0);string _statusText = "";Color _statusColor;float _lockStrength = 0f;ArgumentParser _args = new ArgumentParser();public enum GuidanceMode : int { None = 0, BeamRiding = 1, Camera = 1 &lt;&lt; 1, Turret = 1 &lt;&lt; 2 };bool _retask = false;bool _stealth = true;bool _spiral = false;bool _topdown = false;bool _semiActiveAllowed = false;bool _opticalAllowed = false;bool _turretAllowed = false;bool _isSetup = false;bool _killGuidance = false;bool _hasKilled = false;bool _inGravity = false;bool _showBSOD = false;bool _broadcastRangeOverride = false;const double BsodShowTime = 5 * 60;double _currentBsodShowTime = 0;GuidanceMode _allowedGuidanceEnum = GuidanceMode.None;IMyTerminalBlock _lastControlledReference = null;List&lt;GuidanceMode&gt; _allowedGuidanceModes = new List&lt;GuidanceMode&gt;();List&lt;IMyTerminalBlock&gt; _shooterReferences = new List&lt;IMyTerminalBlock&gt;();List&lt;IMySoundBlock&gt; _soundBlocks = new List&lt;IMySoundBlock&gt;();List&lt;IMyCameraBlock&gt; _cameraList = new List&lt;IMyCameraBlock&gt;();List&lt;IMyRadioAntenna&gt; _broadcastList = new List&lt;IMyRadioAntenna&gt;();List&lt;IMyTextSurface&gt; _textSurfaces = new List&lt;IMyTextSurface&gt;();List&lt;IMyShipController&gt; _shipControllers = new List&lt;IMyShipController&gt;();List&lt;IMyLargeTurretBase&gt; _turrets = new List&lt;IMyLargeTurretBase&gt;();List&lt;IMyTurretControlBlock&gt; _turretControlBlocks = new List&lt;IMyTurretControlBlock&gt;();List&lt;IMyTimerBlock&gt; _timersTriggerOnAnyFire = new List&lt;IMyTimerBlock&gt;();Dictionary&lt;int, IMyDoor&gt; _siloDoorDict = new Dictionary&lt;int, IMyDoor&gt;();Dictionary&lt;int, IMyTimerBlock&gt; _fireTimerDict = new Dictionary&lt;int, IMyTimerBlock&gt;();StringBuilder _setupStringbuilder = new StringBuilder();RuntimeTracker _runtimeTracker;RaycastHoming _raycastHoming;MissileStatusScreenHandler _screenHandler;SoundBlockManager _soundManager = new SoundBlockManager();StringBuilder _messageBuilder = new StringBuilder();MyIni _textSurfaceIni = new MyIni();MyIni _setupIni = new MyIni();Scheduler _scheduler;ScheduledAction _scheduledSetup;StringBuilder _echoBuilder = new StringBuilder();CircularBuffer&lt;Action&gt; _screenUpdateBuffer;IMyTerminalBlock _reference = null;IMyUnicastListener _unicastListener;const string UNICAST_TAG = "UNICAST";bool _clearSpriteCache = false;Dictionary&lt;string, GuidanceMode&gt; _guidanceModeDict = new Dictionary&lt;string, GuidanceMode&gt;(){{"CAMERA", GuidanceMode.Camera},{"TURRET", GuidanceMode.Turret},{"BEAMRIDE", GuidanceMode.BeamRiding},};SoundConfig _lockSearchSound = new SoundConfig("ArcSoundBlockAlert2", 0.5f, 1f, true);SoundConfig _lockGoodSound = new SoundConfig("ArcSoundBlockAlert2", 0.2f, 1f, true);SoundConfig _lockBadSound = new SoundConfig("ArcSoundBlockAlert1", 0.15f, 1f, true);SoundConfig _lockLostSound = new SoundConfig("ArcSoundBlockAlert1", 0.5f, 0f, false);public struct SoundConfig {public string Name;public float Duration;public float Interval;public bool Loop;const string INI_SOUND_NAME = "Sound name";const string INI_SOUND_DURATION = "Duration (s)";const string INI_SOUND_INTERVAL = "Loop interval (s)";const string INI_SOUND_SHOULD_LOOP = "Should loop";public SoundConfig(string name, float duration, float interval, bool loop){Name = name;Duration = duration;Interval = interval;Loop = loop;}public void UpdateFromIni(string section, MyIni ini){
// Read
Name = ini.Get(section, INI_SOUND_NAME).ToString(Name);Duration = ini.Get(section, INI_SOUND_DURATION).ToSingle(Duration);Interval = ini.Get(section, INI_SOUND_INTERVAL).ToSingle(Interval);Loop = ini.Get(section, INI_SOUND_SHOULD_LOOP).ToBoolean(Loop);
// Write
ini.Set(section, INI_SOUND_NAME, Name);ini.Set(section, INI_SOUND_DURATION, Duration);ini.Set(section, INI_SOUND_INTERVAL, Interval);ini.Set(section, INI_SOUND_SHOULD_LOOP, Loop);}}public struct StatusScreenColors {public Color TopBarColor;public Color TitleTextColor;public Color BackgroundColor;public Color TextColor;public Color SecondaryTextColor;public Color StatusTextColor;public Color StatusBarBackgroundColor;public Color GuidanceSelectedColor;public Color GuidanceAllowedColor;public Color GuidanceDisallowedColor;}StatusScreenColors _statusScreenColors = new StatusScreenColors(){TopBarColor = new Color(25, 25, 25),TitleTextColor = new Color(150, 150, 150),BackgroundColor = new Color(0, 0, 0),TextColor = new Color(150, 150, 150),SecondaryTextColor = new Color(75, 75, 75),StatusTextColor = new Color(150, 150, 150),StatusBarBackgroundColor = new Color(25, 25, 25),GuidanceSelectedColor = new Color(0, 50, 0),GuidanceAllowedColor = new Color(150, 150, 150),GuidanceDisallowedColor = new Color(25, 25, 25)};
#endregion

#region Main Methods
Program(){_unicastListener = IGC.UnicastListener;_unicastListener.SetMessageCallback(UNICAST_TAG);_raycastHoming = new RaycastHoming(_maxRaycastRange, _maxTimeForLockBreak, _minRaycastRange, Me.CubeGrid.EntityId);_raycastHoming.AddEntityTypeToFilter(MyDetectedEntityType.FloatingObject, MyDetectedEntityType.Planet, MyDetectedEntityType.Asteroid);_screenHandler = new MissileStatusScreenHandler(this, ref _statusScreenColors);_isSetup = GrabBlocks();GetLargestGridRadius();ParseStorage();Runtime.UpdateFrequency = UpdateFrequency.Update1;
_runtimeTracker = new RuntimeTracker(this, 5 * 60, 0.005); // 5 second buffer
float step = 1f / 9f;_screenUpdateBuffer = new CircularBuffer&lt;Action&gt;(10);_screenUpdateBuffer.Add(() =&gt; _screenHandler.ComputeScreenParams(_designationMode, _allowedGuidanceEnum, _lockStrength, _statusText, _statusColor, _maxRaycastRange, _inGravity, _stealth, _spiral, _topdown, _usePreciseAiming, _autoFire, _fireEnabled));_screenUpdateBuffer.Add(() =&gt; _screenHandler.DrawScreens(_textSurfaces, 0 * step, 1 * step, _clearSpriteCache));_screenUpdateBuffer.Add(() =&gt; _screenHandler.DrawScreens(_textSurfaces, 1 * step, 2 * step, _clearSpriteCache));_screenUpdateBuffer.Add(() =&gt; _screenHandler.DrawScreens(_textSurfaces, 2 * step, 3 * step, _clearSpriteCache));_screenUpdateBuffer.Add(() =&gt; _screenHandler.DrawScreens(_textSurfaces, 3 * step, 4 * step, _clearSpriteCache));_screenUpdateBuffer.Add(() =&gt; _screenHandler.DrawScreens(_textSurfaces, 4 * step, 5 * step, _clearSpriteCache));_screenUpdateBuffer.Add(() =&gt; _screenHandler.DrawScreens(_textSurfaces, 5 * step, 6 * step, _clearSpriteCache));_screenUpdateBuffer.Add(() =&gt; _screenHandler.DrawScreens(_textSurfaces, 6 * step, 7 * step, _clearSpriteCache));_screenUpdateBuffer.Add(() =&gt; _screenHandler.DrawScreens(_textSurfaces, 7 * step, 8 * step, _clearSpriteCache));_screenUpdateBuffer.Add(() =&gt; _screenHandler.DrawScreens(_textSurfaces, 8 * step, 9 * step, _clearSpriteCache));_scheduledSetup = new ScheduledAction(Setup, 0.1);_scheduler = new Scheduler(this);_scheduler.AddScheduledAction(_scheduledSetup);_scheduler.AddScheduledAction(PrintDetailedInfo, 1);_scheduler.AddScheduledAction(HandleDisplays, 60);_scheduler.AddScheduledAction(GuidanceProcess, UpdatesPerSecond);_scheduler.AddScheduledAction(NetworkTargets, 6);_scheduler.AddScheduledAction(GetLargestGridRadius, 1.0 / 30.0);_scheduler.AddScheduledAction(() =&gt; AgeFiredPrograms(1), 1);}void Main(string arg, UpdateType updateType){if (_showBSOD){++_currentBsodShowTime;if (_currentBsodShowTime &gt; BsodShowTime){_showBSOD = false;_isSetup = GrabBlocks();}return;}_runtimeTracker.AddRuntime();if ((updateType &amp; (UpdateType.Terminal | UpdateType.Trigger | UpdateType.Script)) != 0)ParseArguments(arg);if ((updateType &amp; UpdateType.IGC) != 0){if (arg.Equals(UNICAST_TAG)){ParseUnicastMessages();}}var lastRuntime = RuntimeToRealTime * Math.Max(Runtime.TimeSinceLastRun.TotalSeconds, 0);if (_autoFire)_timeSinceAutoFire += lastRuntime;try {_scheduler.Update();_soundManager.Update((float)lastRuntime);}catch (Exception e){string scriptName = "WMI Missile Fire Control";PrintBsod(Me.GetSurface(0), scriptName, VERSION, 1f, e);foreach (var surface in _textSurfaces){PrintBsod(surface, scriptName, VERSION, 1f, e);}_showBSOD = true;}_runtimeTracker.AddInstructions();}void PrintDetailedInfo(){_echoBuilder.AppendLine($"LAMP | Launch A Missile Program\n(Version {VERSION} - {DATE})");_echoBuilder.AppendLine($"\nFor use with WHAM v{COMPAT_VERSION} or later.\n");_echoBuilder.AppendLine($"Next refresh in {Math.Max(_scheduledSetup.RunInterval - _scheduledSetup.TimeSinceLastRun, 0):N0} seconds\n");_echoBuilder.AppendLine($"Text Surfaces: {_textSurfaces.Count}\n");_echoBuilder.AppendLine($"Last setup results:\n{_setupStringbuilder}");_echoBuilder.AppendLine(_runtimeTracker.Write());Echo(_echoBuilder.ToString());_echoBuilder.Clear();}void Setup(){_clearSpriteCache = !_clearSpriteCache;_isSetup = GrabBlocks();}void HandleDisplays(){_screenUpdateBuffer.MoveNext().Invoke();}void GuidanceProcess(){if (!_isSetup)return;bool shouldBroadcast = false;_statusColor = DefaultTextColor;_lockStrength = 0f;if (_shipControllers.Count &gt; 0){_inGravity = !Vector3D.IsZero(_shipControllers[0].GetNaturalGravity());}switch (_designationMode){case GuidanceMode.BeamRiding: HandleOptical(ref shouldBroadcast);break;case GuidanceMode.Camera: HandleCameraHoming(ref shouldBroadcast);break;case GuidanceMode.Turret: HandleTurretHoming(ref shouldBroadcast);break;}
if (shouldBroadcast) //or if kill command
{BroadcastParameterMessage();}else if (_broadcastRangeOverride){_scheduler.AddQueuedAction(() =&gt; ScaleAntennaRange(_activeAntennaRange), 0);_scheduler.AddQueuedAction(BroadcastParameterMessage, 1.0 / 6.0);}}void BroadcastParameterMessage(){long broadcastKey = GetBroadcastKey();bool killNow = (_killGuidance &amp;&amp; !_hasKilled);SendMissileParameterMessage(killNow,_stealth,_spiral,_topdown,_usePreciseAiming,_retask,broadcastKey);if (_retask)_retask = false;if (killNow)_hasKilled = true;if (_broadcastRangeOverride)_broadcastRangeOverride = false;}
#region Guidance Moding
void HandleOptical(ref bool shouldBroadcast){shouldBroadcast = true;OpticalGuidance();ScaleAntennaRange(_activeAntennaRange);StopAllSounds();long broadcastKey = GetBroadcastKey();SendMissileBeamRideMessage(
frontVec,    /* Front direction */

leftVec,     /* Left direction */

upVec,       /* Up direction */

originPos,   /* Shooter position */

broadcastKey /* Key code */
);
// Status
_statusText = BEAM_RIDE_ACTIVE;}void HandleCameraHoming(ref bool shouldBroadcast){_raycastHoming.Update(UpdateTime, _cameraList, _shipControllers, _reference);double antennaRange = _idleAntennaRange;if (_raycastHoming.Status == RaycastHoming.TargetingStatus.Locked){
// Antenna range
shouldBroadcast = true;if (_stealthySemiActiveAntenna)antennaRange = Vector3D.Distance(base.Me.CubeGrid.WorldAABB.Center, _raycastHoming.TargetPosition) - _raycastHoming.TargetSize;else antennaRange = _activeAntennaRange;
// Broadcast
long broadcastKey = GetBroadcastKey();SendMissileHomingMessage(
_raycastHoming.HitPosition,        /* Hit position */

_raycastHoming.TargetPosition,     /* Target position */

_raycastHoming.TargetVelocity,     /* Target velocity */

_raycastHoming.PreciseModeOffset,  /* Precision offset */

Me.CubeGrid.WorldAABB.Center,      /* Shooter position */

_raycastHoming.TimeSinceLastLock,  /* Time since last lock */

_raycastHoming.TargetId,           /* Target ID */

broadcastKey                       /* Key code */
);
// Play sound
if (!_raycastHoming.MissedLastScan)PlayLockOnSound(_soundBlocks);else if (_raycastHoming.MissedLastScan)PlayScanMissedSound(_soundBlocks);
// Status
_lockStrength = 1f - (float)((_raycastHoming.TimeSinceLastLock - _raycastHoming.AutoScanInterval) / _raycastHoming.MaxTimeForLockBreak);_lockStrength = MathHelper.Clamp(_lockStrength, 0f, 1f);_statusText = TARGET_LOCKED_TEXT;_statusColor = TargetLockedColor;
// Autofire
if (_autoFire &amp;&amp; FiringAllowed &amp;&amp; _timeSinceAutoFire &gt;= _autoFireInterval){if (_autoFireRemote)RequestRemoteMissileFire();else FireNextMissile(1);_timeSinceAutoFire = 0;}}else {
// Sound
if (_raycastHoming.IsScanning){PlayLockSearchSound(_soundBlocks);}else if (_raycastHoming.LockLost){_raycastHoming.AcknowledgeLockLost();PlayFireAbortSound(_soundBlocks);}
// Status
if (_raycastHoming.Status == RaycastHoming.TargetingStatus.NotLocked){if (!_raycastHoming.IsScanning){_statusText = TARGET_NOT_LOCKED_TEXT;_statusColor = TargetNotLockedColor;}else {_statusText = TARGET_SEARCHING_TEXT;_statusColor = TargetSearchingColor;}}else if (_raycastHoming.Status == RaycastHoming.TargetingStatus.TooClose){_statusText = TARGET_TOO_CLOSE_TEXT;_statusColor = TargetTooCloseColor;}}
// Set antenna range
if (!_broadcastRangeOverride)ScaleAntennaRange(antennaRange);}void HandleTurretHoming(ref bool shouldBroadcast){
// TODO: Make turret guidance populate fields
TurretGuidance(_turrets, _turretControlBlocks);double antennaRange = _stealthySemiActiveAntenna ? 1 : _idleAntennaRange;if (_turretLocked){
// Sound
PlayLockOnSound(_soundBlocks);
// Antenna range
shouldBroadcast = true;if (_stealthySemiActiveAntenna)antennaRange = Vector3D.Distance(Me.CubeGrid.WorldAABB.Center, _targetInfo.Position) - 10.0;else antennaRange = _activeAntennaRange;
// Broadcast
long broadcastKey = GetBroadcastKey();SendMissileHomingMessage(
_targetInfo.Position,          /* Hit position */

_targetInfo.Position,          /* Target position */

_targetInfo.Velocity,          /* Target velocity */

Vector3D.Zero,                 /* Precision offset */

Me.CubeGrid.WorldAABB.Center,  /* Shooter position */

1 / 60.0,                      /* Time since last lock */

0,                             /* Target ID */

broadcastKey                   /* Key code */
);
// Status
_lockStrength = 1f;_statusText = TARGET_LOCKED_TEXT;_statusColor = TargetLockedColor;
// Handle autofire
if (_autoFire &amp;&amp; FiringAllowed &amp;&amp; _timeSinceAutoFire &gt;= _autoFireInterval){if (_autoFireRemote)RequestRemoteMissileFire();else FireNextMissile(1);_timeSinceAutoFire = 0;}}else {
// Status
_statusText = TARGET_NOT_LOCKED_TEXT;_statusColor = TargetNotLockedColor;StopAllSounds();}
// Set antenna range
if (!_broadcastRangeOverride)ScaleAntennaRange(antennaRange);}
#endregion

#endregion

#region IGC Unicast Handling
void ParseUnicastMessages(){while (_unicastListener.HasPendingMessage){MyIGCMessage message = _unicastListener.AcceptMessage();object data = message.Data;if (message.Tag == IGC_TAG_REMOTE_FIRE_RESPONSE){if (data is MyTuple&lt;Vector3D, long&gt;){var payload = (MyTuple&lt;Vector3D, long&gt;)data;var response = new RemoteFireResponse((Vector3)payload.Item1, payload.Item2);if (!_remoteFireResponses.Contains(response))_remoteFireResponses.Add(response);}}}}
#endregion

#region Remote Fire
int _remoteFireRequests = 0;bool _awaitingResponse = false;struct RemoteFireResponse {public Vector3D Position;public long EntityId;public RemoteFireResponse(Vector3 pos, long id){Position = pos;EntityId = id;}public override bool Equals(object obj){if (!(obj is RemoteFireResponse))return false;return this.Equals((RemoteFireResponse)obj);}public bool Equals(RemoteFireResponse other){return other.EntityId == this.EntityId;}public override int GetHashCode(){return this.EntityId.GetHashCode();}}void RequestRemoteMissileFire(){_remoteFireRequests++;if (!_awaitingResponse){var payload = new MyTuple&lt;Vector3D, long&gt;();payload.Item1 = Me.GetPosition();payload.Item2 = Me.EntityId;IGC.SendBroadcastMessage(IGC_TAG_REMOTE_FIRE_REQUEST, payload);
// Delay processing (Gives missiles 20 ticks to respond)
_scheduler.AddScheduledAction(ParseRemoteFireResponses, 3, true);_awaitingResponse = true;}}List&lt;RemoteFireResponse&gt; _remoteFireResponses = new List&lt;RemoteFireResponse&gt;();void ParseRemoteFireResponses(){Vector3D referencePosition = Me.GetPosition();switch (_designationMode){case GuidanceMode.Turret: referencePosition = _targetInfo.Position;break;case GuidanceMode.Camera: referencePosition = _raycastHoming.TargetPosition;break;}_remoteFireResponses.Sort((x, y) =&gt;{var num1 = Vector3D.DistanceSquared(x.Position, referencePosition);var num2 = Vector3D.DistanceSquared(y.Position, referencePosition);return num1.CompareTo(num2);});long broadcastKey = GetBroadcastKey();if (broadcastKey &lt;= 0){PlayFireAbortSound(_soundBlocks);}else {for (int i = 0; i &lt; _remoteFireResponses.Count; ++i){if (i + 1 &gt; _remoteFireRequests)break;var response = _remoteFireResponses[i];IGC.SendUnicastMessage(response.EntityId, IGC_TAG_REGISTER, broadcastKey);IGC.SendUnicastMessage(response.EntityId, IGC_TAG_FIRE, "");}}_remoteFireResponses.Clear();_awaitingResponse = false;_remoteFireRequests = 0;}
#endregion

#region Broadcast IFF
IMyCubeGrid _biggestGrid;double _biggestGridRadius;void GetLargestGridRadius(){_biggestGridRadius = Me.CubeGrid.WorldVolume.Radius;_biggestGrid = Me.CubeGrid;GridTerminalSystem.GetBlocksOfType&lt;IMyMechanicalConnectionBlock&gt;(null, b =&gt; {var m = (IMyMechanicalConnectionBlock)b;double rad = m.CubeGrid.WorldVolume.Radius;IMyCubeGrid grid = m.CubeGrid;if (m.IsAttached){double radT = m.TopGrid.WorldVolume.Radius;if (radT &gt; rad){rad = radT;grid = m.TopGrid;}}if (rad &gt; _biggestGridRadius){_biggestGridRadius = rad;_biggestGrid = grid;}return false;});}enum TargetRelation : byte { Neutral = 0, Other = 0, Enemy = 1, Friendly = 2, Locked = 4, LargeGrid = 8, SmallGrid = 16, RelationMask = Neutral | Enemy | Friendly, TypeMask = LargeGrid | SmallGrid | Other }void NetworkTargets(){
// Broadcast own position
TargetRelation myType = _biggestGrid.GridSizeEnum == MyCubeSize.Large ? TargetRelation.LargeGrid : TargetRelation.SmallGrid;var myTuple = new MyTuple&lt;byte, long, Vector3D, double&gt;((byte)(TargetRelation.Friendly | myType), _biggestGrid.EntityId, _biggestGrid.WorldVolume.Center, _biggestGridRadius * _biggestGridRadius);IGC.SendBroadcastMessage(IGC_TAG_IFF, myTuple);
// Broadcast target pos
if ((_designationMode == GuidanceMode.Camera &amp;&amp; _raycastHoming.Status == RaycastHoming.TargetingStatus.Locked)|| (_designationMode == GuidanceMode.Turret &amp;&amp; _turretLocked)){MyRelationsBetweenPlayerAndBlock relationBetweenPlayerAndBlock;MyDetectedEntityType type;long targetId = 0;Vector3D targetPos = Vector3.Zero;switch (_designationMode){case GuidanceMode.Camera: relationBetweenPlayerAndBlock = _raycastHoming.TargetRelation;targetId = _raycastHoming.TargetId;targetPos = _raycastHoming.TargetCenter;type = _raycastHoming.TargetType;break;
default: // Turret
relationBetweenPlayerAndBlock = _targetInfo.Relationship;targetId = _targetInfo.EntityId;targetPos = _targetInfo.Position;type = _targetInfo.Type;break;}TargetRelation relation = TargetRelation.Locked;switch (relationBetweenPlayerAndBlock){case MyRelationsBetweenPlayerAndBlock.Owner: case MyRelationsBetweenPlayerAndBlock.Friends: case MyRelationsBetweenPlayerAndBlock.FactionShare: relation |= TargetRelation.Friendly;break;case MyRelationsBetweenPlayerAndBlock.Enemies: relation |= TargetRelation.Enemy;break;
// Neutral is assumed if not friendly or enemy
default: relation |= TargetRelation.Neutral;break;}switch (type){case MyDetectedEntityType.LargeGrid: relation |= TargetRelation.LargeGrid;break;case MyDetectedEntityType.SmallGrid: relation |= TargetRelation.SmallGrid;break;}myTuple = new MyTuple&lt;byte, long, Vector3D, double&gt;((byte)relation, targetId, targetPos, 0);IGC.SendBroadcastMessage(IGC_TAG_IFF, myTuple);}}
#endregion

#region Save and Argument Parsing
void Save(){
// TODO: Reimplement this properly
}void ParseStorage(){
// TODO: Reimplement this properly
}bool FiringAllowed {get {bool allowed = (_designationMode == GuidanceMode.Camera &amp;&amp; _raycastHoming.Status == RaycastHoming.TargetingStatus.Locked);allowed |= (_designationMode == GuidanceMode.Turret &amp;&amp; _turretLocked);allowed |= (_designationMode == GuidanceMode.BeamRiding);allowed &amp;= _fireEnabled;return allowed;}}void ParseArguments(string arg){if (!_args.TryParse(arg)){
// TODO: Print error msg
return;}switch (_args.Argument(0).ToLowerInvariant()){
#region fire and kill commands
case "enable_fire": _fireEnabled = true;break;case "disable_fire": _fireEnabled = false;break;case "fire": if (FiringAllowed){int count = 1, start = 0, end = -1;bool useRange = false;if (_args.HasSwitch("range")){int rangeIdx = _args.GetSwitchIndex("range");string startStr = _args.Argument(1 + rangeIdx);string endStr = _args.Argument(2 + rangeIdx);if (int.TryParse(startStr, out start) &amp;&amp; int.TryParse(endStr, out end)){useRange = true;}}if (_args.HasSwitch("count")){if (!int.TryParse(_args.Argument(1 + _args.GetSwitchIndex("count")), out count)){count = 1;}}if (useRange){FireMissileInRange(count, start, end);}else {FireNextMissile(count);}}else {PlayFireAbortSound(_soundBlocks);}break;case "remote_fire": if (FiringAllowed){
// No broadcast override needed since we have to be active to fire
RequestRemoteMissileFire();}else {PlayFireAbortSound(_soundBlocks);}break;case "kill": _killGuidance = true;_hasKilled = false;_broadcastRangeOverride = true;break;case "alpha": if (FiringAllowed){AlphaStrike();}else {PlayFireAbortSound(_soundBlocks);}break;
#endregion

#region stealth toggle
case "stealth": case "stealth_switch": _stealth = !_stealth;_broadcastRangeOverride = true;break;case "stealth_on": _stealth = true;_broadcastRangeOverride = true;break;case "stealth_off": _stealth = false;_broadcastRangeOverride = true;break;
#endregion

#region spiral trajectory toggle
case "evasion": case "evasion_switch": case "spiral": case "spiral_switch": _spiral = !_spiral;_broadcastRangeOverride = true;break;case "evasion_on": case "spiral_on": _spiral = true;_broadcastRangeOverride = true;break;case "evasion_off": case "spiral_off": _spiral = false;_broadcastRangeOverride = true;break;
#endregion

#region top down attack mode
case "topdown": case "topdown_switch": _topdown = !_topdown;_broadcastRangeOverride = true;break;case "topdown_on": _topdown = true;_broadcastRangeOverride = true;break;case "topdown_off": _topdown = false;_broadcastRangeOverride = true;break;
#endregion

#region guidance switching
case "mode_switch": CycleGuidanceModes();break;case "mode_beamride": case "mode_optical": if (_opticalAllowed)_designationMode = GuidanceMode.BeamRiding;break;case "mode_camera": case "mode_semiactive": if (_semiActiveAllowed){_raycastHoming.ClearLock();_designationMode = GuidanceMode.Camera;}break;case "mode_turret": if (_turretAllowed)_designationMode = GuidanceMode.Turret;break;
#endregion

#region lock on
case "lock_on": if (_semiActiveAllowed){_designationMode = GuidanceMode.Camera;_raycastHoming.LockOn();}break;case "lock_off": if (_semiActiveAllowed){_designationMode = GuidanceMode.Camera;_raycastHoming.ClearLock();PlayFireAbortSound(_soundBlocks);}break;case "lock_switch": if (_semiActiveAllowed){_designationMode = GuidanceMode.Camera;
if (_raycastHoming.IsScanning) //if scanning, switch
{_raycastHoming.ClearLock();PlayFireAbortSound(_soundBlocks);}else {_raycastHoming.LockOn();}}break;case "retask": _retask = true;break;
#endregion

#region Precision mode
case "precise": case "precise_switch": _usePreciseAiming = !_usePreciseAiming;_raycastHoming.OffsetTargeting = _usePreciseAiming;_broadcastRangeOverride = true;break;case "precise_on": _usePreciseAiming = true;_raycastHoming.OffsetTargeting = _usePreciseAiming;_broadcastRangeOverride = true;break;case "precise_off": _usePreciseAiming = false;_raycastHoming.OffsetTargeting = _usePreciseAiming;_broadcastRangeOverride = true;break;
#endregion

#region Auto fire toggle
case "autofire": case "autofire_toggle": _autoFire = !_autoFire;WriteAutoFire();break;case "autofire_on": _autoFire = true;WriteAutoFire();break;case "autofire_off": _autoFire = false;WriteAutoFire();break;
#endregion
}}void WriteAutoFire(){_setupIni.Clear();_setupIni.TryParse(Me.CustomData);_setupIni.Set(INI_SECTION_GENERAL, INI_AUTO_FIRE, _autoFire);string output = _setupIni.ToString();if (!string.Equals(output, Me.CustomData)){Me.CustomData = output;}}void CycleGuidanceModes(){if (_allowedGuidanceModes.Count == 0)return;int index = _allowedGuidanceModes.FindIndex(x =&gt; x == _designationMode);index = ++index % _allowedGuidanceModes.Count;_designationMode = _allowedGuidanceModes[index];if (_designationMode == GuidanceMode.Camera)_raycastHoming.ClearLock();}
#endregion

#region Block Fetching
bool GrabBlocks(){_setupStringbuilder.Clear();HandleIni();var group = GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupName);if (group == null){_setupStringbuilder.AppendLine($"ERROR: No block group named '{_fireControlGroupName}' was found");return false;}_soundBlocks.Clear();_cameraList.Clear();_broadcastList.Clear();_textSurfaces.Clear();_shipControllers.Clear();_turrets.Clear();_turretControlBlocks.Clear();_timersTriggerOnAnyFire.Clear();_siloDoorDict.Clear();_fireTimerDict.Clear();_reference = null;group.GetBlocksOfType&lt;IMyTerminalBlock&gt;(null, CollectionFunction);GridTerminalSystem.GetBlocksOfType&lt;IMyShipController&gt;(_shipControllers);if (_textSurfaces.Count == 0){_setupStringbuilder.AppendLine($"Info: No text surfaces in '{_fireControlGroupName}' group");}if (_soundBlocks.Count == 0){_setupStringbuilder.AppendLine($"Info: No sound blocks in '{_fireControlGroupName}' group");}
// Getting allowed guidance modes
_allowedGuidanceModes.Clear();
// Camera guidance checks
_semiActiveAllowed = true;if (_cameraList.Count == 0){_setupStringbuilder.AppendLine("WARNING: Camera homing unavailable.");_setupStringbuilder.AppendLine($"Info: No cameras in '{_fireControlGroupName}' group");_semiActiveAllowed = false;}else _allowedGuidanceModes.Add(GuidanceMode.Camera);
// Turret guidance checks
_turretAllowed = true;if (_turrets.Count == 0 &amp;&amp; _turretControlBlocks.Count == 0){_setupStringbuilder.AppendLine("WARNING: Turret homing unavailable.");_setupStringbuilder.AppendLine($"Info: No turrets in '{_fireControlGroupName}' group");_turretAllowed = false;}else _allowedGuidanceModes.Add(GuidanceMode.Turret);
// Optical guidance checks
_opticalAllowed = true;if (_shipControllers.Count == 0 &amp;&amp; _cameraList.Count == 0 &amp;&amp; _reference == null){_setupStringbuilder.AppendLine("WARNING: Optical guidance unavailable.");_opticalAllowed = false;}else {_allowedGuidanceModes.Add(GuidanceMode.BeamRiding);}if (_shipControllers.Count == 0){_setupStringbuilder.AppendLine("Info: No ship controllers on this ship");}
//Antenna Blocks
if (_broadcastList.Count == 0){_setupStringbuilder.AppendLine($"ERROR: No antenna named found in '{_fireControlGroupName}' group");_setupStringbuilder.AppendLine("\n&lt;&lt;&lt; SETUP FAILED &gt;&gt;&gt;");return false;}if (_allowedGuidanceModes.Count == 0){_setupStringbuilder.AppendLine("ERROR: No allowed guidance modes");_setupStringbuilder.AppendLine("\n&lt;&lt;&lt; SETUP FAILED &gt;&gt;&gt;");return false;}if (_designationMode == GuidanceMode.None){if (_allowedGuidanceModes.Contains(_preferredGuidanceMode)){_designationMode = _preferredGuidanceMode;}}if (_designationMode == GuidanceMode.None)_designationMode = _allowedGuidanceModes[0];_setupStringbuilder.AppendLine("\n&gt;&gt;&gt; SETUP SUCCESSFUL &lt;&lt;&lt;");_setupStringbuilder.AppendLine($"\nAllowed guidance modes:");_allowedGuidanceEnum = GuidanceMode.None;foreach (var mode in _allowedGuidanceModes){_allowedGuidanceEnum |= mode;_setupStringbuilder.AppendLine($" - {mode}");}return true;}void HandleIni(){_setupIni.Clear();string preferredStr = "CAMERA";if (_setupIni.TryParse(Me.CustomData)){_fireControlGroupName = _setupIni.Get(INI_SECTION_GENERAL, INI_FIRE_GROUP_NAME).ToString(_fireControlGroupName);_missileNameTag = _setupIni.Get(INI_SECTION_GENERAL, INI_MSL_NAME).ToString(_missileNameTag);_referenceNameTag = _setupIni.Get(INI_SECTION_GENERAL, INI_REFERENCE_NAME).ToString(_referenceNameTag);_autoFire = _setupIni.Get(INI_SECTION_GENERAL, INI_AUTO_FIRE).ToBoolean(_autoFire);_autoFireRemote = _setupIni.Get(INI_SECTION_GENERAL, INI_AUTO_FIRE_REMOTE).ToBoolean(_autoFireRemote);_autoFireInterval = _setupIni.Get(INI_SECTION_GENERAL, INI_AUTO_FIRE_INTERVAL).ToDouble(_autoFireInterval);_idleAntennaRange = _setupIni.Get(INI_SECTION_GENERAL, INI_ANTENNA_RANGE_IDLE).ToDouble(_idleAntennaRange);_activeAntennaRange = _setupIni.Get(INI_SECTION_GENERAL, INI_ANTENNA_RANGE_ACTIVE).ToDouble(_activeAntennaRange);_stealthySemiActiveAntenna = _setupIni.Get(INI_SECTION_GENERAL, INI_ANTENNA_RANGE_DYNAMIC).ToBoolean(_stealthySemiActiveAntenna);_minRaycastRange = _setupIni.Get(INI_SECTION_GENERAL, INI_MIN_RAYCAST_RANGE).ToDouble(_minRaycastRange);_statusScreenColors.TopBarColor = MyIniHelper.GetColor(INI_SECTION_COLORS, INI_COLOR_TOP_BAR, _setupIni, _statusScreenColors.TopBarColor);_statusScreenColors.TitleTextColor = MyIniHelper.GetColor(INI_SECTION_COLORS, INI_COLOR_TITLE_TEXT, _setupIni, _statusScreenColors.TitleTextColor);_statusScreenColors.BackgroundColor = MyIniHelper.GetColor(INI_SECTION_COLORS, INI_COLOR_BACKGROUND, _setupIni, _statusScreenColors.BackgroundColor);_statusScreenColors.TextColor = MyIniHelper.GetColor(INI_SECTION_COLORS, INI_COLOR_TEXT, _setupIni, _statusScreenColors.TextColor);_statusScreenColors.SecondaryTextColor = MyIniHelper.GetColor(INI_SECTION_COLORS, INI_COLOR_TEXT_SECONDARY, _setupIni, _statusScreenColors.SecondaryTextColor);_statusScreenColors.StatusTextColor = MyIniHelper.GetColor(INI_SECTION_COLORS, INI_COLOR_TEXT_STATUS, _setupIni, _statusScreenColors.StatusTextColor);_statusScreenColors.StatusBarBackgroundColor = MyIniHelper.GetColor(INI_SECTION_COLORS, INI_COLOR_STATUS_BACKGROUND, _setupIni, _statusScreenColors.StatusBarBackgroundColor);_statusScreenColors.GuidanceSelectedColor = MyIniHelper.GetColor(INI_SECTION_COLORS, INI_COLOR_GUID_SELECTED, _setupIni, _statusScreenColors.GuidanceSelectedColor);_statusScreenColors.GuidanceAllowedColor = MyIniHelper.GetColor(INI_SECTION_COLORS, INI_COLOR_GUID_ALLOWED, _setupIni, _statusScreenColors.GuidanceAllowedColor);_statusScreenColors.GuidanceDisallowedColor = MyIniHelper.GetColor(INI_SECTION_COLORS, INI_COLOR_GUID_DISALLOWED, _setupIni, _statusScreenColors.GuidanceDisallowedColor);
// Get preferred guidance mode
preferredStr = _setupIni.Get(INI_SECTION_GENERAL, INI_PREFERRED_GUID).ToString(preferredStr);GuidanceMode preferredMode = GuidanceMode.None;if (_guidanceModeDict.TryGetValue(preferredStr, out preferredMode)){_preferredGuidanceMode = preferredMode;}}else if (!string.IsNullOrWhiteSpace(Me.CustomData)){_setupIni.Clear();_setupIni.EndContent = Me.CustomData;}_setupIni.Set(INI_SECTION_GENERAL, INI_FIRE_GROUP_NAME, _fireControlGroupName);_setupIni.Set(INI_SECTION_GENERAL, INI_MSL_NAME, _missileNameTag);_setupIni.Set(INI_SECTION_GENERAL, INI_REFERENCE_NAME, _referenceNameTag);_setupIni.Set(INI_SECTION_GENERAL, INI_PREFERRED_GUID, preferredStr);_setupIni.SetComment(INI_SECTION_GENERAL, INI_PREFERRED_GUID, INI_PREFERRED_GUID_COMMENT);_setupIni.Set(INI_SECTION_GENERAL, INI_AUTO_FIRE, _autoFire);_setupIni.Set(INI_SECTION_GENERAL, INI_AUTO_FIRE_REMOTE, _autoFireRemote);_setupIni.Set(INI_SECTION_GENERAL, INI_AUTO_FIRE_INTERVAL, _autoFireInterval);_setupIni.Set(INI_SECTION_GENERAL, INI_ANTENNA_RANGE_IDLE, _idleAntennaRange);_setupIni.Set(INI_SECTION_GENERAL, INI_ANTENNA_RANGE_ACTIVE, _activeAntennaRange);_setupIni.Set(INI_SECTION_GENERAL, INI_ANTENNA_RANGE_DYNAMIC, _stealthySemiActiveAntenna);_setupIni.Set(INI_SECTION_GENERAL, INI_MIN_RAYCAST_RANGE, _minRaycastRange);MyIniHelper.SetColor(INI_SECTION_COLORS, INI_COLOR_TOP_BAR, _setupIni, _statusScreenColors.TopBarColor);MyIniHelper.SetColor(INI_SECTION_COLORS, INI_COLOR_TITLE_TEXT, _setupIni, _statusScreenColors.TitleTextColor);MyIniHelper.SetColor(INI_SECTION_COLORS, INI_COLOR_BACKGROUND, _setupIni, _statusScreenColors.BackgroundColor);MyIniHelper.SetColor(INI_SECTION_COLORS, INI_COLOR_TEXT, _setupIni, _statusScreenColors.TextColor);MyIniHelper.SetColor(INI_SECTION_COLORS, INI_COLOR_TEXT_SECONDARY, _setupIni, _statusScreenColors.SecondaryTextColor);MyIniHelper.SetColor(INI_SECTION_COLORS, INI_COLOR_TEXT_STATUS, _setupIni, _statusScreenColors.StatusTextColor);MyIniHelper.SetColor(INI_SECTION_COLORS, INI_COLOR_STATUS_BACKGROUND, _setupIni, _statusScreenColors.StatusBarBackgroundColor);MyIniHelper.SetColor(INI_SECTION_COLORS, INI_COLOR_GUID_SELECTED, _setupIni, _statusScreenColors.GuidanceSelectedColor);MyIniHelper.SetColor(INI_SECTION_COLORS, INI_COLOR_GUID_ALLOWED, _setupIni, _statusScreenColors.GuidanceAllowedColor);MyIniHelper.SetColor(INI_SECTION_COLORS, INI_COLOR_GUID_DISALLOWED, _setupIni, _statusScreenColors.GuidanceDisallowedColor);_screenHandler.UpdateColors(ref _statusScreenColors);_lockSearchSound.UpdateFromIni(INI_SECTION_SOUND_LOCK_SEARCH, _setupIni);_lockGoodSound.UpdateFromIni(INI_SECTION_SOUND_LOCK_GOOD, _setupIni);_lockBadSound.UpdateFromIni(INI_SECTION_SOUND_LOCK_BAD, _setupIni);_lockLostSound.UpdateFromIni(INI_SECTION_SOUND_LOCK_LOST, _setupIni);string output = _setupIni.ToString();if (!string.Equals(output, Me.CustomData)){Me.CustomData = output;}}bool CollectionFunction(IMyTerminalBlock block){if (!block.IsSameConstructAs(Me))return false;AddTextSurfaces(block, _textSurfaces);if (block.CustomName.IndexOf(_referenceNameTag, StringComparison.OrdinalIgnoreCase) &gt;= 0)_reference = block;
// TODO: Only look for ship controllers in group? Maybe prioritize those in the group?
var door = block as IMyDoor;if (door != null){_setupIni.Clear();bool parsed = _setupIni.TryParse(door.CustomData);
int siloNumber = 0; // Default value
if (parsed){siloNumber = _setupIni.Get(INI_SECTION_SILO_DOOR, INI_SILO_NUMBER).ToInt32(siloNumber);}_setupIni.Set(INI_SECTION_SILO_DOOR, INI_SILO_NUMBER, siloNumber);_setupIni.SetComment(INI_SECTION_SILO_DOOR, INI_SILO_NUMBER, INI_SILO_NUMBER_COMMENT);_siloDoorDict[siloNumber] = door;string output = _setupIni.ToString();if (!string.Equals(output, door.CustomData)){door.CustomData = output;}
// TODO: Print warn if multiple doors bound to same missile
return false;}var timer = block as IMyTimerBlock;if (timer != null){_setupIni.Clear();bool parsed = _setupIni.TryParse(timer.CustomData);
int siloNumber = 0; // Default value
bool fireAny = false;if (parsed){siloNumber = _setupIni.Get(INI_SECTION_FIRE_TIMER, INI_FIRE_TIMER_NUMBER).ToInt32(siloNumber);fireAny = _setupIni.Get(INI_SECTION_FIRE_TIMER, INI_FIRE_TIMER_ANY).ToBoolean(fireAny);}_setupIni.Set(INI_SECTION_FIRE_TIMER, INI_FIRE_TIMER_NUMBER, siloNumber);_setupIni.SetComment(INI_SECTION_FIRE_TIMER, INI_FIRE_TIMER_NUMBER, INI_FIRE_TIMER_NUMBER_COMMENT);_setupIni.Set(INI_SECTION_FIRE_TIMER, INI_FIRE_TIMER_ANY, fireAny);_setupIni.SetComment(INI_SECTION_FIRE_TIMER, INI_FIRE_TIMER_ANY, INI_FIRE_TIMER_ANY_COMMENT);if (fireAny){_timersTriggerOnAnyFire.Add(timer);}else {_fireTimerDict[siloNumber] = timer;}string output = _setupIni.ToString();if (!string.Equals(output, timer.CustomData)){timer.CustomData = output;}
// TODO: Print warn if multiple timers bound to same missile
return false;}var soundBlock = block as IMySoundBlock;if (soundBlock != null){_soundBlocks.Add(soundBlock);return false;}var camera = block as IMyCameraBlock;if (camera != null){_cameraList.Add(camera);camera.EnableRaycast = true;return false;}var antenna = block as IMyRadioAntenna;if (antenna != null){_broadcastList.Add(antenna);return false;}var turret = block as IMyLargeTurretBase;if (turret != null){_turrets.Add(turret);return false;}var tcb = block as IMyTurretControlBlock;if (tcb != null){_turretControlBlocks.Add(tcb);return false;}return false;}void AddTextSurfaces(IMyTerminalBlock block, List&lt;IMyTextSurface&gt; textSurfaces){var textSurface = block as IMyTextSurface;if (textSurface != null){textSurfaces.Add(textSurface);return;}var surfaceProvider = block as IMyTextSurfaceProvider;if (surfaceProvider == null)return;_textSurfaceIni.Clear();bool parsed = _textSurfaceIni.TryParse(block.CustomData);if (!parsed &amp;&amp; !string.IsNullOrWhiteSpace(block.CustomData)){_textSurfaceIni.Clear();_textSurfaceIni.EndContent = block.CustomData;}int surfaceCount = surfaceProvider.SurfaceCount;for (int i = 0; i &lt; surfaceCount; ++i){string iniKey = string.Format(INI_TEXT_SURF_TEMPLATE, i);bool display = _textSurfaceIni.Get(INI_SECTION_TEXT_SURF, iniKey).ToBoolean(i == 0 &amp;&amp; !(block is IMyProgrammableBlock));if (display)textSurfaces.Add(surfaceProvider.GetSurface(i));_textSurfaceIni.Set(INI_SECTION_TEXT_SURF, iniKey, display);}string output = _textSurfaceIni.ToString();if (!string.Equals(output, block.CustomData))block.CustomData = output;}
#endregion

#region Firing Methods
List&lt;IMyBlockGroup&gt; missileGroups = new List&lt;IMyBlockGroup&gt;();List&lt;int&gt; currentMissileNumbers = new List&lt;int&gt;();List&lt;IMyProgrammableBlock&gt; missilePrograms = new List&lt;IMyProgrammableBlock&gt;();Dictionary&lt;int, IMyBlockGroup&gt; missileNumberDict = new Dictionary&lt;int, IMyBlockGroup&gt;();Dictionary&lt;IMyProgrammableBlock, double&gt; firedMissileProgramAge = new Dictionary&lt;IMyProgrammableBlock, double&gt;();List&lt;IMyProgrammableBlock&gt; firedMissilesKeyList = new List&lt;IMyProgrammableBlock&gt;();List&lt;IMyProgrammableBlock&gt; firedMissileProgramKeysToRemove = new List&lt;IMyProgrammableBlock&gt;();const double MIN_PROGRAM_AGE_TO_REMOVE = 10.0;void AgeFiredPrograms(double deltaTime){firedMissilesKeyList.Clear();foreach (var key in firedMissileProgramAge.Keys){firedMissilesKeyList.Add(key);}foreach (var key in firedMissilesKeyList){double elapsed = firedMissileProgramAge[key];if (elapsed &gt; MIN_PROGRAM_AGE_TO_REMOVE){firedMissileProgramKeysToRemove.Add(key);}else {firedMissileProgramAge[key] = elapsed + deltaTime;}}foreach (var key in firedMissileProgramKeysToRemove){firedMissileProgramAge.Remove(key);}}void GetCurrentMissiles(){currentMissileNumbers.Clear();missileNumberDict.Clear();GridTerminalSystem.GetBlockGroups(null, CollectMissileNumbers);currentMissileNumbers.Sort();}bool CollectMissileNumbers(IMyBlockGroup g){var number = GetMissileNumber(g, _missileNameTag);if (number &lt; 0){return false;}currentMissileNumbers.Add(number);missileNumberDict[number] = g;return false;}int GetMissileNumber(IMyBlockGroup group, string missileTag){string groupName = group.Name;
// Check for tag
if (!groupName.StartsWith(missileTag)){return -1;}
// Check that string is long enough to have both a space and a number
if (missileTag.Length + 2 &gt; groupName.Length){return -1;}
// Check for space
if (groupName[missileTag.Length] != ' '){return -1;}
// Check for number after space
int startIdx = missileTag.Length + 1;int missileNumber;bool parsed = int.TryParse(groupName.Substring(startIdx), out missileNumber);if (!parsed){return -1;}return missileNumber;}void AlphaStrike(){GetCurrentMissiles();foreach (var missileNumber in currentMissileNumbers){FireMissilePrograms(missileNumber);}}bool FireMissilePrograms(int missileNumber){IMyBlockGroup group = null;if (!missileNumberDict.TryGetValue(missileNumber, out group))return false;missilePrograms.Clear();group.GetBlocksOfType(missilePrograms, x =&gt; !firedMissileProgramAge.ContainsKey(x));if (missilePrograms.Count == 0){
return false; // Could not fire
}foreach (var pb in missilePrograms){IGC.SendUnicastMessage(pb.EntityId, IGC_TAG_FIRE, "");firedMissileProgramAge[pb] = 0;}OpenSiloDoor(missileNumber);TriggerFireTimer(missileNumber);return true;}void FireMissileInRange(int numberToFire, int start, int end){GetCurrentMissiles();int numberFired = 0;foreach (var missileNumber in currentMissileNumbers){if (missileNumber &lt; start || missileNumber &gt; end){continue;}bool fired = FireMissilePrograms(missileNumber);if (fired){numberFired++;}if (numberFired &gt;= numberToFire){break;}}}void FireNextMissile(int numberToFire){GetCurrentMissiles();int numberFired = 0;foreach (var missileNumber in currentMissileNumbers){bool fired = FireMissilePrograms(missileNumber);if (fired){numberFired++;}if (numberFired &gt;= numberToFire){break;}}}void OpenSiloDoor(int missileNumber){IMyDoor siloDoor = null;bool exists = _siloDoorDict.TryGetValue(missileNumber, out siloDoor);if (exists){siloDoor.Enabled = true;siloDoor.OpenDoor();}}void TriggerFireTimer(int missileNumber){IMyTimerBlock timer = null;bool exists = _fireTimerDict.TryGetValue(missileNumber, out timer);if (exists){timer.Trigger();}foreach (var t in _timersTriggerOnAnyFire){t.Trigger();}}
#endregion

#region Optical Guidance
Vector3D originPos = new Vector3D(0, 0, 0);Vector3D frontVec = new Vector3D(0, 0, 0);Vector3D leftVec = new Vector3D(0, 0, 0);Vector3D upVec = new Vector3D(0, 0, 0);void OpticalGuidance(){
/*
* The following prioritizes references in the following hierchy:
* 1. Reference block (if any is specified)
* 2. Currently used camera
* 3. Currently used control seat
* 4. Last active control seat
* 5. First control seat that is found
* 6. First camera that is found
*/
IMyTerminalBlock reference = _reference;if (reference == null)reference = GetControlledCamera(_cameraList);if (reference == null)reference = GetControlledShipController(_shipControllers);if (reference == null){if (_lastControlledReference != null){reference = _lastControlledReference;}else if (_shipControllers.Count &gt; 0){reference = _shipControllers[0];}else if (_cameraList.Count &gt; 0){reference = _cameraList[0];}else {return;}}_lastControlledReference = reference;originPos = reference.GetPosition();frontVec = reference.WorldMatrix.Forward;leftVec = reference.WorldMatrix.Left;upVec = reference.WorldMatrix.Up;}
#endregion

#region Raycast Homing
class RaycastHoming {public TargetingStatus Status { get; private set; } = TargetingStatus.NotLocked;public Vector3D TargetPosition {get {return OffsetTargeting ? OffsetTargetPosition : TargetCenter;}}public Vector3D TargetCenter { get; private set; } = Vector3D.Zero;public Vector3D OffsetTargetPosition { get; private set; } = Vector3D.Zero;public Vector3D TargetVelocity { get; private set; } = Vector3D.Zero;public Vector3D HitPosition { get; private set; } = Vector3D.Zero;public Vector3D PreciseModeOffset { get; private set; } = Vector3D.Zero;public bool OffsetTargeting = false;public bool MissedLastScan { get; private set; } = false;public bool LockLost { get; private set; } = false;public bool IsScanning { get; private set; } = false;public double TimeSinceLastLock { get; private set; } = 0;public double TargetSize { get; private set; } = 0;public double MaxRange { get; private set; }public double MinRange { get; private set; }public long TargetId { get; private set; } = 0;public double AutoScanInterval { get; private set; } = 0;public double MaxTimeForLockBreak { get; private set; }public MyRelationsBetweenPlayerAndBlock TargetRelation { get; private set; }public MyDetectedEntityType TargetType { get; private set; }public enum TargetingStatus { NotLocked, Locked, TooClose };enum AimMode { None = 0, Center = 1, Offset = 2, OffsetRelative = 4 };AimMode _currentAimMode = AimMode.Center;readonly HashSet&lt;MyDetectedEntityType&gt; _targetFilter = new HashSet&lt;MyDetectedEntityType&gt;();readonly List&lt;IMyCameraBlock&gt; _availableCameras = new List&lt;IMyCameraBlock&gt;();readonly Random _rngeesus = new Random();MyDetectedEntityInfo _targetInfo = default(MyDetectedEntityInfo);MatrixD _targetOrientation;Vector3D _targetPosCached;Vector3D _targetPositionOverride;HashSet&lt;long&gt; _gridIDsToIgnore = new HashSet&lt;long&gt;();double _timeSinceLastScan = 0;bool _manualLockOverride = false;bool _fudgeVectorSwitch = false;public RaycastHoming(double maxRange, double maxTimeForLockBreak, double minRange = 0, long gridIDToIgnore = 0){MinRange = minRange;MaxRange = maxRange;MaxTimeForLockBreak = maxTimeForLockBreak;AddIgnoredGridID(gridIDToIgnore);}public void SetInitialLockParameters(Vector3D hitPosition, Vector3D targetVelocity, Vector3D offset, double timeSinceLastLock, long targetId){_targetPositionOverride = hitPosition;TargetCenter = hitPosition;HitPosition = hitPosition;OffsetTargetPosition = hitPosition;PreciseModeOffset = offset;TargetVelocity = targetVelocity;TimeSinceLastLock = timeSinceLastLock;_manualLockOverride = true;IsScanning = true;TargetId = targetId;}public void AddIgnoredGridID(long id){_gridIDsToIgnore.Add(id);}public void ClearIgnoredGridIDs(){_gridIDsToIgnore.Clear();}public void AddEntityTypeToFilter(params MyDetectedEntityType[] types){foreach (var type in types){_targetFilter.Add(type);}}public void RemoveEntityTypeToFilter(params MyDetectedEntityType[] types){foreach (var type in types){_targetFilter.Remove(type);}}public void AcknowledgeLockLost(){LockLost = false;}public void LockOn(){ClearLockInternal();LockLost = false;IsScanning = true;}public void ClearLock(){ClearLockInternal();LockLost = false;}void ClearLockInternal(){_targetInfo = default(MyDetectedEntityInfo);IsScanning = false;Status = TargetingStatus.NotLocked;MissedLastScan = false;TimeSinceLastLock = 0;TargetSize = 0;HitPosition = Vector3D.Zero;TargetId = 0;_timeSinceLastScan = 141;_targetPosCached = Vector3D.Zero;_currentAimMode = AimMode.Center;TargetRelation = MyRelationsBetweenPlayerAndBlock.NoOwnership;TargetType = MyDetectedEntityType.None;}Vector3D CalculateFudgeVector(Vector3D targetDirection, double fudgeFactor = 5){_fudgeVectorSwitch = !_fudgeVectorSwitch;if (!_fudgeVectorSwitch)return Vector3D.Zero;var perpVector1 = Vector3D.CalculatePerpendicularVector(targetDirection);var perpVector2 = Vector3D.Cross(perpVector1, targetDirection);if (!Vector3D.IsUnit(ref perpVector2))perpVector2.Normalize();var randomVector = (2.0 * _rngeesus.NextDouble() - 1.0) * perpVector1 + (2.0 * _rngeesus.NextDouble() - 1.0) * perpVector2;return randomVector * fudgeFactor * TimeSinceLastLock;}public void Update(double timeStep, List&lt;IMyCameraBlock&gt; cameraList, List&lt;IMyShipController&gt; shipControllers, IMyTerminalBlock referenceBlock = null){_timeSinceLastScan += timeStep;if (!IsScanning)return;TimeSinceLastLock += timeStep;_targetInfo = default(MyDetectedEntityInfo);_availableCameras.Clear();
//Check for lock lost
if (TimeSinceLastLock &gt; (MaxTimeForLockBreak + AutoScanInterval) &amp;&amp; Status == TargetingStatus.Locked){LockLost = true;ClearLockInternal();return;}
// Determine where to scan next
var scanPosition = Vector3D.Zero;if (_currentAimMode == AimMode.Offset){scanPosition = HitPosition + TargetVelocity * TimeSinceLastLock;}else if (_currentAimMode == AimMode.OffsetRelative){scanPosition = OffsetTargetPosition + TargetVelocity * TimeSinceLastLock;}else {scanPosition = TargetCenter + TargetVelocity * TimeSinceLastLock;}if (MissedLastScan &amp;&amp; cameraList.Count &gt; 0){scanPosition += CalculateFudgeVector(scanPosition - cameraList[0].GetPosition());}
// Trim out cameras that cant see our next scan position
Vector3D testDirection = Vector3D.Zero;IMyTerminalBlock reference = null;if (Status == TargetingStatus.Locked || _manualLockOverride){GetAvailableCameras(cameraList, _availableCameras, scanPosition, true);}else {
/*
* The following prioritizes references in the following hierarchy:
* 1. Currently used camera
* 2. Reference block
* 3. Currently used control seat
*/
if (reference == null)reference = GetControlledCamera(cameraList);if (reference == null)reference = referenceBlock;if (reference == null)reference = GetControlledShipController(shipControllers);if (reference != null){testDirection = reference.WorldMatrix.Forward;GetAvailableCameras(cameraList, _availableCameras, testDirection);}else {_availableCameras.AddRange(cameraList);}}
// Check for transition between faces
if (_availableCameras.Count == 0) //transition between faces
{
_timeSinceLastScan = 100000; // Set to scan immediately on the next cycle
MissedLastScan = true;return;}
//Get camera with maximum available range
var thisCamera = GetCameraWithMaxRange(_availableCameras);var cameraMatrix = thisCamera.WorldMatrix;
// Determine scan range
double scanRange;Vector3D adjustedTargetPos = Vector3D.Zero;if (Status == TargetingStatus.Locked || _manualLockOverride){
// We adjust the scan position to scan a bit past the target so we are more likely to hit if it is moving away
adjustedTargetPos = scanPosition + Vector3D.Normalize(scanPosition - cameraMatrix.Translation) * 2 * TargetSize;scanRange = (adjustedTargetPos - cameraMatrix.Translation).Length();}else {scanRange = MaxRange;}
// This operates under the assumption that raycast charges at 2km/s
AutoScanInterval = scanRange / 2000 / _availableCameras.Count * 1.1; // Give a fudge factor for safety
var availableScanRange = thisCamera.AvailableScanRange;
//Attempt to scan adjusted target position
if (availableScanRange &gt; scanRange &amp;&amp; _timeSinceLastScan &gt;= AutoScanInterval){if (Status == TargetingStatus.Locked || _manualLockOverride)_targetInfo = thisCamera.Raycast(adjustedTargetPos);else if (!Vector3D.IsZero(testDirection))_targetInfo = thisCamera.Raycast(cameraMatrix.Translation + testDirection * MaxRange);else _targetInfo = thisCamera.Raycast(MaxRange);_timeSinceLastScan = 0;}
else // Not enough charge stored up yet
{return;}
// Validate target and assign values
if (!_targetInfo.IsEmpty() &amp;&amp; !_targetFilter.Contains(_targetInfo.Type) &amp;&amp; 
!_gridIDsToIgnore.Contains(_targetInfo.EntityId)) //target lock
{if (Vector3D.DistanceSquared(_targetInfo.Position, thisCamera.GetPosition()) &lt; MinRange * MinRange &amp;&amp; Status != TargetingStatus.Locked){Status = TargetingStatus.TooClose;return;}
else if (Status == TargetingStatus.Locked) // Target already locked
{if (_targetInfo.EntityId == TargetId){TargetCenter = _targetInfo.Position;HitPosition = _targetInfo.HitPosition.Value;_targetOrientation = _targetInfo.Orientation;OffsetTargetPosition = TargetCenter + Vector3D.TransformNormal(PreciseModeOffset, _targetOrientation);TargetVelocity = _targetInfo.Velocity;TargetSize = _targetInfo.BoundingBox.Size.Length();TimeSinceLastLock = 0;if (_manualLockOverride){TargetId = _targetInfo.EntityId;_manualLockOverride = false;}MissedLastScan = false;TargetRelation = _targetInfo.Relationship;TargetType = _targetInfo.Type;}else {MissedLastScan = true;}}
else // Target not yet locked: initial lockon
{if (_manualLockOverride &amp;&amp; TargetId != _targetInfo.EntityId &amp;&amp; TargetId != 0)return;if (_manualLockOverride &amp;&amp; TargetId == 0){double maxDispPerTickSq = 100 + _targetInfo.Velocity.LengthSquared() * timeStep * timeStep;if (Vector3D.DistanceSquared(_targetPositionOverride, _targetInfo.HitPosition.Value) &gt; maxDispPerTickSq){
return; // Abort lock since it is not locked onto what we want
}}Status = TargetingStatus.Locked;TargetId = _targetInfo.EntityId;TargetCenter = _targetInfo.Position;HitPosition = _targetInfo.HitPosition.Value;TargetVelocity = _targetInfo.Velocity;TargetSize = _targetInfo.BoundingBox.Size.Length();TimeSinceLastLock = 0;var aimingCamera = GetControlledCamera(_availableCameras);Vector3D hitPosOffset = Vector3D.Zero;if (aimingCamera != null){hitPosOffset = aimingCamera.GetPosition() - thisCamera.GetPosition();}else if (reference != null){hitPosOffset = reference.GetPosition() - thisCamera.GetPosition();}if (!Vector3D.IsZero(hitPosOffset)){hitPosOffset = VectorRejection(hitPosOffset, HitPosition - thisCamera.GetPosition());}var hitPos = _targetInfo.HitPosition.Value + hitPosOffset;_targetOrientation = _targetInfo.Orientation;if (_manualLockOverride){_manualLockOverride = false;}else {PreciseModeOffset = Vector3D.TransformNormal(hitPos - TargetCenter, MatrixD.Transpose(_targetOrientation));OffsetTargetPosition = hitPos;}MissedLastScan = false;TargetRelation = _targetInfo.Relationship;TargetType = _targetInfo.Type;}_targetPosCached = _targetInfo.Position;}else {
//TODO: Investigate if we should only count a miss when we are LOCKED
MissedLastScan = true;}if (MissedLastScan){
// If scan missed, switch aim mode
if (_currentAimMode == AimMode.Center){_currentAimMode = AimMode.Offset;}else if (_currentAimMode == AimMode.Offset){_currentAimMode = AimMode.OffsetRelative;}else {_currentAimMode = AimMode.Center;}
_timeSinceLastScan = 1000000; // Make sure we scan as fast as we can to try and re-establish lock.
}}void GetAvailableCameras(List&lt;IMyCameraBlock&gt; allCameras, List&lt;IMyCameraBlock&gt; availableCameras, Vector3D testVector, bool vectorIsPosition = false){availableCameras.Clear();foreach (var block in allCameras){if (block.Closed)continue;if (TestCameraAngles(block, vectorIsPosition ? testVector - block.GetPosition() : testVector))availableCameras.Add(block);}}bool TestCameraAngles(IMyCameraBlock camera, Vector3D direction){Vector3D localDirection = Vector3D.Rotate(direction, MatrixD.Transpose(camera.WorldMatrix));
if (localDirection.Z &gt; 0) //pointing backwards
return false;var yawTan = Math.Abs(localDirection.X / localDirection.Z);var pitchTanSq = localDirection.Y * localDirection.Y / (localDirection.X * localDirection.X + localDirection.Z * localDirection.Z);return yawTan &lt;= 1 &amp;&amp; pitchTanSq &lt;= 1;}IMyCameraBlock GetCameraWithMaxRange(List&lt;IMyCameraBlock&gt; cameraList){double maxRange = double.MinValue;IMyCameraBlock maxRangeCamera = default(IMyCameraBlock);foreach (IMyCameraBlock thisCamera in cameraList){if (thisCamera.AvailableScanRange &gt; maxRange){maxRangeCamera = thisCamera;maxRange = maxRangeCamera.AvailableScanRange;}}return maxRangeCamera;}IMyCameraBlock GetControlledCamera(List&lt;IMyCameraBlock&gt; cameras){foreach (var block in cameras){if (block.Closed)continue;if (block.IsActive)return block;}return null;}IMyShipController GetControlledShipController(List&lt;IMyShipController&gt; shipControllers){if (shipControllers.Count == 0)return null;IMyShipController mainController = null;IMyShipController controlled = null;foreach (IMyShipController thisController in shipControllers){if (thisController.IsUnderControl &amp;&amp; thisController.CanControlShip){if (controlled == null){controlled = thisController;}if (thisController.IsMainCockpit){
mainController = thisController; // Only one per grid so no null check needed
}}}if (mainController != null)return mainController;if (controlled != null)return controlled;return shipControllers[0];}public static Vector3D VectorRejection(Vector3D a, Vector3D b){if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return Vector3D.Zero;return a - a.Dot(b) / b.LengthSquared() * b;}}
#endregion

#region Turret Guidance
List&lt;MyDetectedEntityInfo&gt; _targetInfoList = new List&lt;MyDetectedEntityInfo&gt;();MyDetectedEntityInfo _targetInfo = new MyDetectedEntityInfo();double _maxTurretRange = 0;bool _turretLocked = false;void TurretGuidance(List&lt;IMyLargeTurretBase&gt; turrets, List&lt;IMyTurretControlBlock&gt; turretControlBlocks){
//get targets
_targetInfoList.Clear();_maxTurretRange = 0;foreach (var block in turrets){if (block.HasTarget &amp;&amp; !block.GetTargetedEntity().IsEmpty()){_targetInfoList.Add(block.GetTargetedEntity());}if (block.IsWorking &amp;&amp; block.AIEnabled){var thisRange = block.Range;if (thisRange &gt; _maxTurretRange)_maxTurretRange = thisRange;}}foreach (var block in turretControlBlocks){if (block.HasTarget &amp;&amp; !block.GetTargetedEntity().IsEmpty()){_targetInfoList.Add(block.GetTargetedEntity());}if (block.IsWorking &amp;&amp; block.AIEnabled){var thisRange = block.Range;if (thisRange &gt; _maxTurretRange)_maxTurretRange = thisRange;}}if (_targetInfoList.Count == 0){if (_turretLocked){PlayScanMissedSound(_soundBlocks);}_turretLocked = false;return;}_turretLocked = true;
//prioritize targets
_targetInfoList.Sort((x, y) =&gt;{var num1 = (x.Position - Me.GetPosition()).LengthSquared();var num2 = (y.Position - Me.GetPosition()).LengthSquared();return num1.CompareTo(num2);});
//pick closest target
_targetInfo = _targetInfoList[0];Vector3D targetVelocityVec = _targetInfo.Velocity;}
#endregion

#region Sound Block Control
void StopAllSounds(){_soundManager.ShouldPlay = false;_soundManager.ShouldLoop = false;}void PlayLockSearchSound(List&lt;IMySoundBlock&gt; soundBlocks){_soundManager.ShouldPlay = true;_soundManager.ShouldLoop = _lockSearchSound.Loop;_soundManager.SoundName = _lockSearchSound.Name;_soundManager.LoopDuration = _lockSearchSound.Interval;_soundManager.SoundDuration = _lockSearchSound.Duration;_soundManager.SoundBlocks = soundBlocks;}void PlayLockOnSound(List&lt;IMySoundBlock&gt; soundBlocks){_soundManager.ShouldPlay = true;_soundManager.ShouldLoop = _lockGoodSound.Loop;_soundManager.SoundName = _lockGoodSound.Name;_soundManager.LoopDuration = _lockGoodSound.Interval;_soundManager.SoundDuration = _lockGoodSound.Duration;_soundManager.SoundBlocks = soundBlocks;}void PlayFireAbortSound(List&lt;IMySoundBlock&gt; soundBlocks){
_soundManager.ShouldPlay = false; // Force state change to cause the sound to be played immideately
_soundManager.ShouldPlay = true;_soundManager.ShouldLoop = _lockLostSound.Loop;_soundManager.SoundName = _lockLostSound.Name;_soundManager.LoopDuration = _lockLostSound.Interval;_soundManager.SoundDuration = _lockLostSound.Duration;_soundManager.SoundBlocks = soundBlocks;}void PlayScanMissedSound(List&lt;IMySoundBlock&gt; soundBlocks){_soundManager.ShouldPlay = true;_soundManager.ShouldLoop = _lockBadSound.Loop;_soundManager.SoundName = _lockBadSound.Name;_soundManager.LoopDuration = _lockBadSound.Interval;_soundManager.SoundDuration = _lockBadSound.Duration;_soundManager.SoundBlocks = soundBlocks;}class SoundBlockManager {public bool ShouldLoop = true;public float SoundDuration {get {return _soundDuration;}set {if (Math.Abs(value - _soundDuration) &lt; 1e-3){return;}_soundDuration = value;_settingsDirty = true;}}public float LoopDuration;public bool ShouldPlay {get {return _shouldPlay;}set {if (value == _shouldPlay)return;_shouldPlay = value;_hasPlayed = false;}}public string SoundName {get {return _soundName;}set {if (value == _soundName){return;}_soundName = value;_settingsDirty = true;}}public List&lt;IMySoundBlock&gt; SoundBlocks;bool _settingsDirty = false;bool _shouldPlay = false;float _soundDuration;string _soundName;bool _hasPlayed = false;float _loopTime;float _soundPlayTime;enum SoundBlockAction { None = 0, UpdateSettings = 1, Play = 2, Stop = 4 }public void Update(float dt){SoundBlockAction action = SoundBlockAction.None;if (_settingsDirty){action |= SoundBlockAction.UpdateSettings;_settingsDirty = false;}if (ShouldPlay){if (!_hasPlayed){action |= SoundBlockAction.Play;_hasPlayed = true;_soundPlayTime = 0;_loopTime = 0;}else {_loopTime += dt;_soundPlayTime += dt;if (_soundPlayTime &gt;= SoundDuration){action |= SoundBlockAction.Stop;if (!ShouldLoop){ShouldPlay = false;}}if (ShouldLoop &amp;&amp; _loopTime &gt;= LoopDuration &amp;&amp; _hasPlayed){_hasPlayed = false;}}}else {action |= SoundBlockAction.Stop;}
// Apply sound block action
if (action != SoundBlockAction.None &amp;&amp; SoundBlocks != null){foreach (var sb in SoundBlocks){if ((action &amp; SoundBlockAction.UpdateSettings) != 0){sb.LoopPeriod = 100f;sb.SelectedSound = SoundName;}if ((action &amp; SoundBlockAction.Play) != 0){sb.Play();}if ((action &amp; SoundBlockAction.Stop) != 0){sb.Stop();}}}}}
#endregion

#region Screen Display

/*
** Description:
**   Class for handling WHAM status screen displays.
**
** Dependencies:
**   MySpriteContainer
*/
public class MissileStatusScreenHandler {
#region Fields
List&lt;MySpriteContainer&gt; _spriteContainers = new List&lt;MySpriteContainer&gt;();
// Default sizes
const float DEFAULT_SCREEN_SIZE = 512;const float DEFAULT_SCREEN_HALF_SIZE = 512 * 0.5f;
// UI positions
Vector2 TOP_BAR_SIZE;Vector2 STATUS_BAR_SIZE;Vector2 TOP_BAR_POS;Vector2 TOP_BAR_TEXT_POS;Vector2 STEALTH_TEXT_POS;Vector2 AIM_POINT_POS;Vector2 RANGE_TEXT_POS;Vector2 SPIRAL_TEXT_POS;Vector2 TOPDOWN_TEXT_POS;Vector2 STATUS_BAR_POS;Vector2 STATUS_BAR_TEXT_POS;Vector2 STATUS_BAR_WEAK_TEXT_POS;Vector2 STATUS_BAR_STRONG_TEXT_POS;Vector2 SECONDARY_TEXT_POS_OFFSET;Vector2 DROP_SHADOW_OFFSET;Vector2 MODE_CAMERA_POS;Vector2 MODE_TURRET_POS;Vector2 MODE_BEAMRIDE_POS;Vector2 MODE_CAMERA_SELECT_POS;Vector2 MODE_TURRET_SELECT_POS;Vector2 MODE_BEAMRIDE_SELECT_POS;Vector2 MODE_CAMERA_SELECT_SIZE;Vector2 MODE_TURRET_SELECT_SIZE;Vector2 MODE_BEAMRIDE_SELECT_SIZE;Vector2 AUTOFIRE_TEXT_POS;Vector2 FIRE_DISABLED_POS;Vector2 FIRE_DISABLED_TEXT_BOX_SIZE;
// Constants
const float PRIMARY_TEXT_SIZE = 1.5f;const float SECONDARY_TEXT_SIZE = 1.2f;const float TERTIARY_TEXT_SIZE = 1f;const float BASE_TEXT_HEIGHT_PX = 37f;const float PRIMARY_TEXT_OFFSET = -0.5f * BASE_TEXT_HEIGHT_PX * PRIMARY_TEXT_SIZE;const float MODE_SELECT_LINE_LENGTH = 20f;const float MODE_SELECT_LINE_WIDTH = 6f;const string FONT = "DEBUG";const string TOP_TEXT = "WMI Missile Fire Control";const string MODE_TEXT = "Mode";const string MODE_CAMERA_TEXT = "Camera";const string MODE_TURRET_TEXT = "Turret";const string MODE_BEAMRIDE_TEXT = "Beam Ride";const string RANGE_TEXT = "Range";const string STEALTH_TEXT = "Stealth";const string SPIRAL_TEXT = "Evasion";const string TOPDOWN_TEXT = "Topdown";const string ENABLED_TEXT = "Enabled";const string DISABLED_TEXT = "Disabled";const string NOT_APPLICABLE_TEXT = "N/A";const string STATUS_TEXT = "Status";const string WEAK_TEXT = "Weak";const string STRONG_TEXT = "Strong";const string AIM_POINT_TEXT = "Aim Point";const string AIM_CENTER_TEXT = "Center";const string AIM_OFFSET_TEXT = "Offset";const string AUTOFIRE_TEXT = "Autofire";const string FIRE_DISABLED_TEXT = "FIRING DISABLED";
// Non-configurable colors
readonly Color STATUS_GOOD_COLOR = new Color(0, 50, 0);readonly Color STATUS_BAD_COLOR = new Color(50, 0, 0);readonly Color _warningColor = Color.Red;readonly Color _warningBackgroundColor = new Color(10, 10, 10, 200);
// Configurable colors
Color _topBarColor;Color _titleTextColor;Color _backgroundColor;Color _textColor;Color _secondaryTextColor;Color _statusTextColor;Color _statusBarBackgroundColor;Color _guidanceSelectedColor;Color _guidanceAllowedColor;Color _guidanceDisallowedColor;Program _program;
#endregion
public MissileStatusScreenHandler(Program program, ref StatusScreenColors colors){_program = program;SECONDARY_TEXT_POS_OFFSET = new Vector2(0, -1.5f * PRIMARY_TEXT_OFFSET);DROP_SHADOW_OFFSET = new Vector2(2, 2);
// Top bar
TOP_BAR_SIZE = new Vector2(512, 64);
TOP_BAR_POS = new Vector2(0, -DEFAULT_SCREEN_HALF_SIZE + 32); //TODO: compute in ctor
TOP_BAR_TEXT_POS = new Vector2(0, -DEFAULT_SCREEN_HALF_SIZE + 32 + PRIMARY_TEXT_OFFSET);
// Modes
MODE_CAMERA_SELECT_SIZE = new Vector2(130, 56);MODE_TURRET_SELECT_SIZE = new Vector2(110, 56);MODE_BEAMRIDE_SELECT_SIZE = new Vector2(170, 56);MODE_CAMERA_SELECT_POS = new Vector2(-160, -140);MODE_TURRET_SELECT_POS = new Vector2(-20, -140);MODE_BEAMRIDE_SELECT_POS = new Vector2(140, -140);float secondaryTextVeticalOffset = -0.5f * BASE_TEXT_HEIGHT_PX * SECONDARY_TEXT_SIZE;MODE_CAMERA_POS = MODE_CAMERA_SELECT_POS + new Vector2(0, secondaryTextVeticalOffset);MODE_TURRET_POS = MODE_TURRET_SELECT_POS + new Vector2(0, secondaryTextVeticalOffset);MODE_BEAMRIDE_POS = MODE_BEAMRIDE_SELECT_POS + new Vector2(0, secondaryTextVeticalOffset);
// Status bar
STATUS_BAR_POS = new Vector2(0, -70);STATUS_BAR_SIZE = new Vector2(450, 56);STATUS_BAR_TEXT_POS = STATUS_BAR_POS + new Vector2(0, PRIMARY_TEXT_OFFSET);STATUS_BAR_WEAK_TEXT_POS = STATUS_BAR_POS + new Vector2(-200, 40);STATUS_BAR_STRONG_TEXT_POS = STATUS_BAR_POS + new Vector2(200, 40);
// Left column
RANGE_TEXT_POS = new Vector2(-220, 0 + PRIMARY_TEXT_OFFSET);SPIRAL_TEXT_POS = new Vector2(-220, 90 + PRIMARY_TEXT_OFFSET);STEALTH_TEXT_POS = new Vector2(-220, 180 + PRIMARY_TEXT_OFFSET);
// Right column
AIM_POINT_POS = new Vector2(50, 0 + PRIMARY_TEXT_OFFSET);AUTOFIRE_TEXT_POS = new Vector2(50, 90 + PRIMARY_TEXT_OFFSET);TOPDOWN_TEXT_POS = new Vector2(50, 180 + PRIMARY_TEXT_OFFSET);
// Fire disabled
FIRE_DISABLED_POS = new Vector2(0, 50);FIRE_DISABLED_TEXT_BOX_SIZE = new Vector2(360, -PRIMARY_TEXT_OFFSET * PRIMARY_TEXT_SIZE + 24);UpdateColors(ref colors);}public void UpdateColors(ref StatusScreenColors colors){_topBarColor = colors.TopBarColor;_titleTextColor = colors.TitleTextColor;_backgroundColor = colors.BackgroundColor;_textColor = colors.TextColor;_secondaryTextColor = colors.SecondaryTextColor;_statusTextColor = colors.StatusTextColor;_statusBarBackgroundColor = colors.StatusBarBackgroundColor;_guidanceSelectedColor = colors.GuidanceSelectedColor;_guidanceAllowedColor = colors.GuidanceAllowedColor;_guidanceDisallowedColor = colors.GuidanceDisallowedColor;}
//For debugging
public void Echo(string content){_program.Echo(content);}public Color CustomInterpolation(Color color1, Color color2, float ratio){float scale = 2f * (1f - ratio);if (ratio &gt;= 0.5){return new Color(color1.R + (byte)(scale * (float)color2.R),color1.G + (byte)(scale * (float)color2.G),color1.B + (byte)(scale * (float)color2.B));}return new Color(color2.R + (byte)(2 * ratio * (float)color1.R),color2.G + (byte)(2 * ratio * (float)color1.G),color2.B + (byte)(2 * ratio * (float)color1.B));}public void ComputeScreenParams(GuidanceMode mode,GuidanceMode allowedModes,float lockStrength,string statusText,Color statusColor,double range,bool inGravity,bool stealth,bool spiral,bool topdown,bool precise,bool autofire,bool fireEnabled){_spriteContainers.Clear();var guidanceMode = mode;var allowedModesEnum = allowedModes;bool showTopdownAndAimMode = true;bool anyGuidanceAllowed = allowedModesEnum != GuidanceMode.None;if (!anyGuidanceAllowed){statusText = "ERROR";statusColor = STATUS_BAD_COLOR;}Vector2 modeSelectSize = Vector2.Zero;Vector2 modeSelectPos = Vector2.Zero;if (guidanceMode == GuidanceMode.BeamRiding){showTopdownAndAimMode = false;lockStrength = 1;modeSelectSize = MODE_BEAMRIDE_SELECT_SIZE;modeSelectPos = MODE_BEAMRIDE_SELECT_POS;}else {if (guidanceMode == GuidanceMode.Camera){modeSelectSize = MODE_CAMERA_SELECT_SIZE;modeSelectPos = MODE_CAMERA_SELECT_POS;}else if (guidanceMode == GuidanceMode.Turret){modeSelectSize = MODE_TURRET_SELECT_SIZE;modeSelectPos = MODE_TURRET_SELECT_POS;}}MySpriteContainer container;
// Title bar
container = new MySpriteContainer("SquareSimple", TOP_BAR_SIZE, TOP_BAR_POS, 0, _topBarColor, true);_spriteContainers.Add(container);container = new MySpriteContainer(TOP_TEXT, FONT, PRIMARY_TEXT_SIZE, TOP_BAR_TEXT_POS, _titleTextColor);_spriteContainers.Add(container);
// Status bar
container = new MySpriteContainer("SquareSimple", STATUS_BAR_SIZE, STATUS_BAR_POS, 0, _statusBarBackgroundColor);_spriteContainers.Add(container);Color lerpedStatusColor = CustomInterpolation(STATUS_GOOD_COLOR, STATUS_BAD_COLOR, lockStrength);Vector2 statusBarSize = STATUS_BAR_SIZE * new Vector2(lockStrength, 1f);
//Vector2 statusBarPos = new Vector2(-0.5f * (STATUS_BAR_SIZE.X - statusBarSize.X), STATUS_BAR_POS.Y);
container = new MySpriteContainer("SquareSimple", statusBarSize, STATUS_BAR_POS, 0, lerpedStatusColor);_spriteContainers.Add(container);container = new MySpriteContainer(statusText, FONT, PRIMARY_TEXT_SIZE, STATUS_BAR_TEXT_POS + DROP_SHADOW_OFFSET, Color.Black);_spriteContainers.Add(container);container = new MySpriteContainer(statusText, FONT, PRIMARY_TEXT_SIZE, STATUS_BAR_TEXT_POS, statusColor);_spriteContainers.Add(container);
// Modes
DrawBoxCorners(modeSelectSize, modeSelectPos, MODE_SELECT_LINE_LENGTH, MODE_SELECT_LINE_WIDTH, _guidanceSelectedColor, _spriteContainers);container = new MySpriteContainer(MODE_CAMERA_TEXT, FONT, SECONDARY_TEXT_SIZE, MODE_CAMERA_POS, (allowedModesEnum &amp; GuidanceMode.Camera) != 0 ? _guidanceAllowedColor : _guidanceDisallowedColor, TextAlignment.CENTER);_spriteContainers.Add(container);container = new MySpriteContainer(MODE_TURRET_TEXT, FONT, SECONDARY_TEXT_SIZE, MODE_TURRET_POS, (allowedModesEnum &amp; GuidanceMode.Turret) != 0 ? _guidanceAllowedColor : _guidanceDisallowedColor, TextAlignment.CENTER);_spriteContainers.Add(container);container = new MySpriteContainer(MODE_BEAMRIDE_TEXT, FONT, SECONDARY_TEXT_SIZE, MODE_BEAMRIDE_POS, (allowedModesEnum &amp; GuidanceMode.BeamRiding) != 0 ? _guidanceAllowedColor : _guidanceDisallowedColor, TextAlignment.CENTER);_spriteContainers.Add(container);
// Range
container = new MySpriteContainer(RANGE_TEXT, FONT, PRIMARY_TEXT_SIZE, RANGE_TEXT_POS, _textColor, TextAlignment.LEFT);_spriteContainers.Add(container);container = new MySpriteContainer($"{range * 0.001:n1} km", FONT, SECONDARY_TEXT_SIZE, RANGE_TEXT_POS + SECONDARY_TEXT_POS_OFFSET, _secondaryTextColor, TextAlignment.LEFT);_spriteContainers.Add(container);
// Stealth
container = new MySpriteContainer(STEALTH_TEXT, FONT, PRIMARY_TEXT_SIZE, STEALTH_TEXT_POS, _textColor, TextAlignment.LEFT);_spriteContainers.Add(container);container = new MySpriteContainer(stealth ? ENABLED_TEXT : DISABLED_TEXT, FONT, SECONDARY_TEXT_SIZE, STEALTH_TEXT_POS + SECONDARY_TEXT_POS_OFFSET, _secondaryTextColor, TextAlignment.LEFT);_spriteContainers.Add(container);
// Spiral
container = new MySpriteContainer(SPIRAL_TEXT, FONT, PRIMARY_TEXT_SIZE, SPIRAL_TEXT_POS, _textColor, TextAlignment.LEFT);_spriteContainers.Add(container);container = new MySpriteContainer(spiral ? ENABLED_TEXT : DISABLED_TEXT, FONT, SECONDARY_TEXT_SIZE, SPIRAL_TEXT_POS + SECONDARY_TEXT_POS_OFFSET, _secondaryTextColor, TextAlignment.LEFT);_spriteContainers.Add(container);
// Topdown
container = new MySpriteContainer(TOPDOWN_TEXT, FONT, PRIMARY_TEXT_SIZE, TOPDOWN_TEXT_POS, _textColor, TextAlignment.LEFT);_spriteContainers.Add(container);container = new MySpriteContainer((!inGravity || !showTopdownAndAimMode) ? NOT_APPLICABLE_TEXT : (topdown ? ENABLED_TEXT : DISABLED_TEXT), FONT, SECONDARY_TEXT_SIZE, TOPDOWN_TEXT_POS + SECONDARY_TEXT_POS_OFFSET, _secondaryTextColor, TextAlignment.LEFT);_spriteContainers.Add(container);
// Aimpoint
container = new MySpriteContainer(AIM_POINT_TEXT, FONT, PRIMARY_TEXT_SIZE, AIM_POINT_POS, _textColor, TextAlignment.LEFT);_spriteContainers.Add(container);container = new MySpriteContainer(!showTopdownAndAimMode ? NOT_APPLICABLE_TEXT : (precise ? AIM_OFFSET_TEXT : AIM_CENTER_TEXT), FONT, SECONDARY_TEXT_SIZE, AIM_POINT_POS + SECONDARY_TEXT_POS_OFFSET, _secondaryTextColor, TextAlignment.LEFT);_spriteContainers.Add(container);
// Autofire
container = new MySpriteContainer(AUTOFIRE_TEXT, FONT, PRIMARY_TEXT_SIZE, AUTOFIRE_TEXT_POS, _textColor, TextAlignment.LEFT);_spriteContainers.Add(container);container = new MySpriteContainer(!showTopdownAndAimMode ? NOT_APPLICABLE_TEXT : (autofire ? ENABLED_TEXT : DISABLED_TEXT), FONT, SECONDARY_TEXT_SIZE, AUTOFIRE_TEXT_POS + SECONDARY_TEXT_POS_OFFSET, _secondaryTextColor, TextAlignment.LEFT);_spriteContainers.Add(container);
// Fire Disabled Warning
if (!fireEnabled){container = new MySpriteContainer("SquareSimple", FIRE_DISABLED_TEXT_BOX_SIZE, FIRE_DISABLED_POS, 0, _warningBackgroundColor);_spriteContainers.Add(container);container = new MySpriteContainer("AH_TextBox", FIRE_DISABLED_TEXT_BOX_SIZE, FIRE_DISABLED_POS, 0, _warningColor);_spriteContainers.Add(container);container = new MySpriteContainer(FIRE_DISABLED_TEXT, FONT, PRIMARY_TEXT_SIZE, FIRE_DISABLED_POS + new Vector2(0, -22), _warningColor, TextAlignment.CENTER);_spriteContainers.Add(container);}}public void DrawScreens(List&lt;IMyTextSurface&gt; surfaces, float startProportion, float endProportion, bool clearSpriteCache){int startInt = (int)Math.Round(startProportion * surfaces.Count);int endInt = (int)Math.Round(endProportion * surfaces.Count);for (int i = startInt; i &lt; endInt; ++i){var surface = surfaces[i];surface.ContentType = ContentType.SCRIPT;surface.Script = "";surface.ScriptBackgroundColor = _backgroundColor;Vector2 textureSize = surface.TextureSize;Vector2 screenCenter = textureSize * 0.5f;Vector2 viewportSize = surface.SurfaceSize;Vector2 scale = viewportSize / 512f;float minScale = Math.Min(scale.X, scale.Y);using (var frame = surface.DrawFrame()){if (clearSpriteCache){frame.Add(new MySprite());}foreach (var spriteContainer in _spriteContainers){frame.Add(spriteContainer.CreateSprite(minScale, ref screenCenter, ref viewportSize));}}}}
/*
Draws a box that looks like this:
__        __
|            |

|__        __|
*/
static void DrawBoxCorners(Vector2 boxSize, Vector2 centerPos, float lineLength, float lineWidth, Color color, List&lt;MySpriteContainer&gt; spriteContainers){Vector2 horizontalSize = new Vector2(lineLength, lineWidth);Vector2 verticalSize = new Vector2(lineWidth, lineLength);Vector2 horizontalOffset = 0.5f * horizontalSize;Vector2 verticalOffset = 0.5f * verticalSize;Vector2 boxHalfSize = 0.5f * boxSize;Vector2 boxTopLeft = centerPos - boxHalfSize;Vector2 boxBottomRight = centerPos + boxHalfSize;Vector2 boxTopRight = centerPos + new Vector2(boxHalfSize.X, -boxHalfSize.Y);Vector2 boxBottomLeft = centerPos + new Vector2(-boxHalfSize.X, boxHalfSize.Y);MySpriteContainer container;
// Top left
container = new MySpriteContainer("SquareSimple", horizontalSize, boxTopLeft + horizontalOffset, 0, color);spriteContainers.Add(container);container = new MySpriteContainer("SquareSimple", verticalSize, boxTopLeft + verticalOffset, 0, color);spriteContainers.Add(container);
// Top right
container = new MySpriteContainer("SquareSimple", horizontalSize, boxTopRight + new Vector2(-horizontalOffset.X, horizontalOffset.Y), 0, color);spriteContainers.Add(container);container = new MySpriteContainer("SquareSimple", verticalSize, boxTopRight + new Vector2(-verticalOffset.X, verticalOffset.Y), 0, color);spriteContainers.Add(container);
// Bottom left
container = new MySpriteContainer("SquareSimple", horizontalSize, boxBottomLeft + new Vector2(horizontalOffset.X, -horizontalOffset.Y), 0, color);spriteContainers.Add(container);container = new MySpriteContainer("SquareSimple", verticalSize, boxBottomLeft + new Vector2(verticalOffset.X, -verticalOffset.Y), 0, color);spriteContainers.Add(container);
// Bottom right
container = new MySpriteContainer("SquareSimple", horizontalSize, boxBottomRight - horizontalOffset, 0, color);spriteContainers.Add(container);container = new MySpriteContainer("SquareSimple", verticalSize, boxBottomRight - verticalOffset, 0, color);spriteContainers.Add(container);}}public struct MySpriteContainer {readonly string _spriteName;readonly Vector2 _size;readonly Vector2 _positionFromCenter;readonly float _rotationOrScale;readonly Color _color;readonly string _font;readonly string _text;readonly float _scale;readonly bool _isText;readonly TextAlignment _textAlign;readonly bool _fillWidth;public MySpriteContainer(string spriteName, Vector2 size, Vector2 positionFromCenter, float rotation, Color color, bool fillWidth = false){_spriteName = spriteName;_size = size;_positionFromCenter = positionFromCenter;_rotationOrScale = rotation;_color = color;_isText = false;_font = "";_text = "";_scale = 0f;_textAlign = TextAlignment.CENTER;_fillWidth = fillWidth;}public MySpriteContainer(string text, string font, float scale, Vector2 positionFromCenter, Color color, TextAlignment textAlign = TextAlignment.CENTER){_text = text;_font = font;_scale = scale;_positionFromCenter = positionFromCenter;_rotationOrScale = scale;_color = color;_isText = true;_textAlign = textAlign;_spriteName = "";_size = Vector2.Zero;_fillWidth = false;}public MySprite CreateSprite(float scale, ref Vector2 center, ref Vector2 viewportSize){if (!_isText){if (_fillWidth){Vector2 sizeAdjusted = new Vector2(viewportSize.X, _size.Y * scale);return new MySprite(SpriteType.TEXTURE, _spriteName, center + _positionFromCenter * scale, sizeAdjusted, _color, rotation: _rotationOrScale);}return new MySprite(SpriteType.TEXTURE, _spriteName, center + _positionFromCenter * scale, _size * scale, _color, rotation: _rotationOrScale);}else return new MySprite(SpriteType.TEXT, _text, center + _positionFromCenter * scale, null, _color, _font, rotation: _rotationOrScale * scale, alignment: _textAlign);}}
#endregion

#region Antenna Broadcasting
void PopulateMatrix3x3Columns(ref Matrix3x3 mat, ref Vector3D col0, ref Vector3D col1, ref Vector3D col2){mat.M11 = (float)col0.X;mat.M21 = (float)col0.Y;mat.M31 = (float)col0.Z;mat.M12 = (float)col1.X;mat.M22 = (float)col1.Y;mat.M32 = (float)col1.Z;mat.M13 = (float)col2.X;mat.M23 = (float)col2.Y;mat.M33 = (float)col2.Z;}void SendMissileHomingMessage(Vector3D lastHitPosition, Vector3D targetPosition, Vector3D targetVelocity, Vector3D preciseOffset, Vector3D shooterPosition, double timeSinceLastLock, long targetId, long keycode){Matrix3x3 matrix1 = new Matrix3x3();PopulateMatrix3x3Columns(ref matrix1, ref lastHitPosition, ref targetPosition, ref targetVelocity);Matrix3x3 matrix2 = new Matrix3x3();PopulateMatrix3x3Columns(ref matrix2, ref preciseOffset, ref shooterPosition, ref Vector3D.Zero);var payload = new MyTuple&lt;Matrix3x3, Matrix3x3, float, long, long&gt;{Item1 = matrix1,Item2 = matrix2,Item3 = (float)timeSinceLastLock,Item4 = targetId,Item5 = keycode,};IGC.SendBroadcastMessage(IGC_TAG_HOMING, payload);}void SendMissileBeamRideMessage(Vector3D forward, Vector3D left, Vector3D up, Vector3D shooterPosition, long keycode){var payload = new MyTuple&lt;Vector3, Vector3, Vector3, Vector3, long&gt;{Item1 = (Vector3)forward,Item2 = (Vector3)left,Item3 = (Vector3)up,Item4 = (Vector3)shooterPosition,Item5 = keycode };IGC.SendBroadcastMessage(IGC_TAG_BEAM_RIDING, payload);}void SendMissileParameterMessage(bool kill, bool stealth, bool spiral, bool topdown, bool precise, bool retask, long keycode){byte packedBools = 0;packedBools |= BoolToByte(kill);packedBools |= (byte)(BoolToByte(stealth) &lt;&lt; 1);packedBools |= (byte)(BoolToByte(spiral) &lt;&lt; 2);packedBools |= (byte)(BoolToByte(topdown) &lt;&lt; 3);packedBools |= (byte)(BoolToByte(precise) &lt;&lt; 4);packedBools |= (byte)(BoolToByte(retask) &lt;&lt; 5);var payload = new MyTuple&lt;byte, long&gt;{Item1 = packedBools,Item2 = keycode };IGC.SendBroadcastMessage(IGC_TAG_PARAMS, payload);}byte BoolToByte(bool value){return value ? (byte)1 : (byte)0;}long GetBroadcastKey(){long broadcastKey = -1;if (_broadcastList.Count &gt; 0)broadcastKey = _broadcastList[0].EntityId;return broadcastKey;}
#endregion

#region General Functions
public static class StringExtensions {public static bool Contains(string source, string toCheck, StringComparison comp = StringComparison.OrdinalIgnoreCase){return source?.IndexOf(toCheck, comp) &gt;= 0;}}Vector3D GetAverageBlockPosition&lt;T&gt;(List&lt;T&gt; blocks) where T : class, IMyTerminalBlock {Vector3D sum = Vector3D.Zero;foreach (var block in blocks){sum += block.GetPosition();}return sum / blocks.Count();}IMyCameraBlock GetControlledCamera(List&lt;IMyCameraBlock&gt; cameras){foreach (var block in cameras){if (block.IsActive)return block;}return null;}IMyLargeTurretBase GetControlledTurret(List&lt;IMyLargeTurretBase&gt; turrets){foreach (var block in turrets){if (block.IsUnderControl)return block;}return null;}IMyShipController GetControlledShipController(List&lt;IMyShipController&gt; shipControllers){if (shipControllers.Count == 0)return null;IMyShipController mainControlled = null;IMyShipController controlled = null;foreach (IMyShipController thisController in shipControllers){if (thisController.IsUnderControl &amp;&amp; thisController.CanControlShip){if (controlled == null){controlled = thisController;}if (thisController.IsMainCockpit){
mainControlled = thisController; // Only one per grid so no null check needed
}}}if (mainControlled != null)return mainControlled;if (controlled != null)return controlled;
return null; //shipControllers[0];
}void ScaleAntennaRange(double dist){foreach (IMyRadioAntenna thisAntenna in _broadcastList){thisAntenna.EnableBroadcasting = true;thisAntenna.Radius = (float)dist;}}
#endregion

#region Runtime Tracking

// Class that tracks runtime history.
public class RuntimeTracker {public int Capacity { get; set; }public double Sensitivity { get; set; }public double MaxRuntime { get; private set; }public double MaxInstructions { get; private set; }public double AverageRuntime { get; private set; }public double AverageInstructions { get; private set; }private readonly Queue&lt;double&gt; _runtimes = new Queue&lt;double&gt;();private readonly Queue&lt;double&gt; _instructions = new Queue&lt;double&gt;();private readonly StringBuilder _sb = new StringBuilder();private readonly int _instructionLimit;private readonly Program _program;public RuntimeTracker(Program program, int capacity = 100, double sensitivity = 0.01){_program = program;Capacity = capacity;Sensitivity = sensitivity;_instructionLimit = _program.Runtime.MaxInstructionCount;}public void AddRuntime(){double runtime = _program.Runtime.LastRunTimeMs;AverageRuntime = Sensitivity * (runtime - AverageRuntime) + AverageRuntime;_runtimes.Enqueue(runtime);if (_runtimes.Count == Capacity){_runtimes.Dequeue();}MaxRuntime = _runtimes.Max();}public void AddInstructions(){double instructions = _program.Runtime.CurrentInstructionCount;AverageInstructions = Sensitivity * (instructions - AverageInstructions) + AverageInstructions;_instructions.Enqueue(instructions);if (_instructions.Count == Capacity){_instructions.Dequeue();}MaxInstructions = _instructions.Max();}public string Write(){_sb.Clear();_sb.AppendLine("\n_____________________________\nGeneral Runtime Info\n");_sb.AppendLine($"Avg instructions: {AverageInstructions:n2}");_sb.AppendLine($"Max instructions: {MaxInstructions:n0}");_sb.AppendLine($"Avg complexity: {MaxInstructions / _instructionLimit:0.000}%");_sb.AppendLine($"Avg runtime: {AverageRuntime:n4} ms");_sb.AppendLine($"Max runtime: {MaxRuntime:n4} ms");return _sb.ToString();}}
#endregion

#region Ini Helper
public static class MyIniHelper {public static void SetVector3D(string sectionName, string vectorName, ref Vector3D vector, MyIni ini){ini.Set(sectionName, vectorName, vector.ToString());}public static Vector3D GetVector3D(string sectionName, string vectorName, MyIni ini){var vector = Vector3D.Zero;Vector3D.TryParse(ini.Get(sectionName, vectorName).ToString(), out vector);return vector;}public static void SetColor(string sectionName, string itemName, MyIni ini, Color color){string colorString = string.Format("{0}, {1}, {2}, {3}", color.R, color.G, color.B, color.A);ini.Set(sectionName, itemName, colorString);}public static Color GetColor(string sectionName, string itemName, MyIni ini, Color? defaultChar = null){string rgbString = ini.Get(sectionName, itemName).ToString("null");string[] rgbSplit = rgbString.Split(',');int r = 0, g = 0, b = 0, a = 0;if (rgbSplit.Length != 4){if (defaultChar.HasValue)return defaultChar.Value;else return Color.Transparent;}int.TryParse(rgbSplit[0].Trim(), out r);int.TryParse(rgbSplit[1].Trim(), out g);int.TryParse(rgbSplit[2].Trim(), out b);bool hasAlpha = int.TryParse(rgbSplit[3].Trim(), out a);if (!hasAlpha)a = 255;r = MathHelper.Clamp(r, 0, 255);g = MathHelper.Clamp(g, 0, 255);b = MathHelper.Clamp(b, 0, 255);a = MathHelper.Clamp(a, 0, 255);return new Color(r, g, b, a);}}
#endregion

#region Scheduler
public class Scheduler {public double CurrentTimeSinceLastRun { get; private set; } = 0;public long CurrentTicksSinceLastRun { get; private set; } = 0;ScheduledAction _currentlyQueuedAction = null;bool _firstRun = true;bool _inUpdate = false;readonly bool _ignoreFirstRun;readonly List&lt;ScheduledAction&gt; _actionsToAdd = new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt; _scheduledActions = new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt; _actionsToDispose = new List&lt;ScheduledAction&gt;();readonly Queue&lt;QueuedAction&gt; _queuedActions = new Queue&lt;QueuedAction&gt;();readonly Program _program;public const long TicksPerSecond = 60;public const double TickDurationSeconds = 1.0 / TicksPerSecond;const long ClockTicksPerGameTick = 166666L;public Scheduler(Program program, bool ignoreFirstRun = false){_program = program;_ignoreFirstRun = ignoreFirstRun;}public void Update(){_inUpdate = true;long deltaTicks = Math.Max(0, _program.Runtime.TimeSinceLastRun.Ticks / ClockTicksPerGameTick);if (_firstRun){if (_ignoreFirstRun){deltaTicks = 0;}_firstRun = false;}_actionsToDispose.Clear();foreach (ScheduledAction action in _scheduledActions){CurrentTicksSinceLastRun = action.TicksSinceLastRun + deltaTicks;CurrentTimeSinceLastRun = action.TimeSinceLastRun + deltaTicks * TickDurationSeconds;action.Update(deltaTicks);if (action.JustRan &amp;&amp; action.DisposeAfterRun){_actionsToDispose.Add(action);}}if (_actionsToDispose.Count &gt; 0){_scheduledActions.RemoveAll((x) =&gt; _actionsToDispose.Contains(x));}if (_currentlyQueuedAction == null){if (_queuedActions.Count != 0)_currentlyQueuedAction = _queuedActions.Dequeue();}if (_currentlyQueuedAction != null){_currentlyQueuedAction.Update(deltaTicks);if (_currentlyQueuedAction.JustRan){_currentlyQueuedAction = null;}}_inUpdate = false;if (_actionsToAdd.Count &gt; 0){_scheduledActions.AddRange(_actionsToAdd);_actionsToAdd.Clear();}}public void AddScheduledAction(Action action, double updateFrequency, bool disposeAfterRun = false, double timeOffset = 0){ScheduledAction scheduledAction = new ScheduledAction(action, updateFrequency, disposeAfterRun, timeOffset);if (!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}public void AddScheduledAction(ScheduledAction scheduledAction){if (!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}public void AddQueuedAction(Action action, double updateInterval){if (updateInterval &lt;= 0){updateInterval = 0.001;}QueuedAction scheduledAction = new QueuedAction(action, updateInterval);_queuedActions.Enqueue(scheduledAction);}public void AddQueuedAction(QueuedAction scheduledAction){_queuedActions.Enqueue(scheduledAction);}}public class QueuedAction : ScheduledAction {public QueuedAction(Action action, double runInterval): base(action, 1.0 / runInterval, removeAfterRun: true, timeOffset: 0){ }}public class ScheduledAction {public bool JustRan { get; private set; } = false;public bool DisposeAfterRun { get; private set; } = false;public double TimeSinceLastRun { get { return TicksSinceLastRun * Scheduler.TickDurationSeconds; } }public long TicksSinceLastRun { get; private set; } = 0;public double RunInterval {get {return RunIntervalTicks * Scheduler.TickDurationSeconds;}set {RunIntervalTicks = (long)Math.Round(value * Scheduler.TicksPerSecond);}}public long RunIntervalTicks {get {return _runIntervalTicks;}set {if (value == _runIntervalTicks)return;_runIntervalTicks = value &lt; 0 ? 0 : value;_runFrequency = value == 0 ? double.MaxValue : 1.0 / _runIntervalTicks;}}public double RunFrequency {get {return _runFrequency;}set {if (value == _runFrequency)return;if (value == 0)RunIntervalTicks = long.MaxValue;else RunIntervalTicks = (long)Math.Round(Scheduler.TicksPerSecond / value);}}long _runIntervalTicks;double _runFrequency;readonly Action _action;public ScheduledAction(Action action, double runFrequency, bool removeAfterRun = false, double timeOffset = 0){_action = action;
RunFrequency = runFrequency; // Implicitly sets RunInterval
DisposeAfterRun = removeAfterRun;TicksSinceLastRun = (long)Math.Round(timeOffset * Scheduler.TicksPerSecond);}public void Update(long deltaTicks){TicksSinceLastRun += deltaTicks;if (TicksSinceLastRun &gt;= RunIntervalTicks){_action.Invoke();TicksSinceLastRun = 0;JustRan = true;}else {JustRan = false;}}}
#endregion

#region Circular Buffer
public class CircularBuffer&lt;T&gt;{public readonly int Capacity;T[] _array = null;int _setIndex = 0;int _getIndex = 0;public CircularBuffer(int capacity){if (capacity &lt; 1)throw new Exception($"Capacity of CircularBuffer ({capacity}) can not be less than 1");Capacity = capacity;_array = new T[Capacity];}public void Add(T item){_array[_setIndex] = item;_setIndex = ++_setIndex % Capacity;}public T MoveNext(){T val = _array[_getIndex];_getIndex = ++_getIndex % Capacity;return val;}public T Peek(){return _array[_getIndex];}}
#endregion

#region Argument Parser
class ArgumentParser {public int ArgumentCount {get;private set;} = 0;public string ErrorMessage {get;private set;}const char Quote = '"';List&lt;string&gt; _arguments = new List&lt;string&gt;();HashSet&lt;string&gt; _argHash = new HashSet&lt;string&gt;();HashSet&lt;string&gt; _switchHash = new HashSet&lt;string&gt;();Dictionary&lt;string, int&gt; _switchIndexDict = new Dictionary&lt;string, int&gt;();enum ReturnCode { EndOfStream = -1, Nominal = 0, NoArgs = 1, NonAlphaSwitch = 2, NoEndQuote = 3, NoSwitchName = 4 }string _raw;public bool InRange(int index){if (index &lt; 0 || index &gt;= _arguments.Count){return false;}return true;}public string Argument(int index){if (!InRange(index)){return "";}return _arguments[index];}public bool IsSwitch(int index){if (!InRange(index)){return false;}return _switchHash.Contains(_arguments[index]);}public int GetSwitchIndex(string switchName){int idx;if (_switchIndexDict.TryGetValue(switchName, out idx)){return idx;}return -1;}ReturnCode GetArgStartIdx(int startIdx, out int idx, out bool isQuoted, out bool isSwitch){idx = -1;isQuoted = false;isSwitch = false;for (int i = startIdx; i &lt; _raw.Length; ++i){char c = _raw[i];if (c != ' '){if (c == Quote){isQuoted = true;idx = i + 1;return ReturnCode.Nominal;}if (c == '-' &amp;&amp; i + 1 &lt; _raw.Length &amp;&amp; _raw[i + 1] == '-'){isSwitch = true;idx = i + 2;return ReturnCode.Nominal;}idx = i;return ReturnCode.Nominal;}}return ReturnCode.NoArgs;}ReturnCode GetArgLength(int startIdx, bool isQuoted, bool isSwitch, out int length){length = 0;for (int i = startIdx; i &lt; _raw.Length; ++i){char c = _raw[i];if (isQuoted){if (c == Quote){return ReturnCode.Nominal;}}else {if (c == ' '){if (isSwitch &amp;&amp; length == 0){return ReturnCode.NoSwitchName;}return ReturnCode.Nominal;}if (isSwitch){if (!char.IsLetter(c)){return ReturnCode.NonAlphaSwitch;}}}length++;}if (isQuoted){return ReturnCode.NoEndQuote;}if (length == 0 &amp;&amp; isSwitch){return ReturnCode.NoSwitchName;}
return ReturnCode.EndOfStream; // Reached end of stream
}void ClearArguments(){ArgumentCount = 0;_arguments.Clear();_switchHash.Clear();_argHash.Clear();_switchIndexDict.Clear();}public bool HasArgument(string argName){return _argHash.Contains(argName);}public bool HasSwitch(string switchName){return _switchHash.Contains(switchName);}public bool TryParse(string arg){ReturnCode status;_raw = arg;ClearArguments();int idx = 0;while (idx &lt; _raw.Length){bool isQuoted, isSwitch;int startIdx, length;string argString;status = GetArgStartIdx(idx, out startIdx, out isQuoted, out isSwitch);if (status == ReturnCode.NoArgs){ErrorMessage = "";return true;}status = GetArgLength(startIdx, isQuoted, isSwitch, out length);if (status == ReturnCode.NoEndQuote){ErrorMessage = $"No closing quote found! (idx: {startIdx})";ClearArguments();return false;}else if (status == ReturnCode.NonAlphaSwitch){ErrorMessage = $"Switch can not contain non-alphabet characters! (idx: {startIdx})";ClearArguments();return false;}else if (status == ReturnCode.NoSwitchName){ErrorMessage = $"Switch does not have a name (idx: {startIdx})";ClearArguments();return false;}
else if (status == ReturnCode.EndOfStream) // End of stream
{argString = _raw.Substring(startIdx);_arguments.Add(argString);_argHash.Add(argString);if (isSwitch){_switchHash.Add(argString);_switchIndexDict[argString] = ArgumentCount;}ArgumentCount++;ErrorMessage = "";return true;}argString = _raw.Substring(startIdx, length);_arguments.Add(argString);_argHash.Add(argString);if (isSwitch){_switchHash.Add(argString);_switchIndexDict[argString] = ArgumentCount;}ArgumentCount++;idx = startIdx + length;if (isQuoted){
idx++; // Move past the quote
}}ErrorMessage = "";return true;}}
#endregion

#region Print BSOD
const int MAX_BSOD_WIDTH = 40;const string BSOD_TEMPLATE = "\n" + "{0} - v{1}\n" + "A fatal exception has occured at\n" + "{2}. The current\n" + "program will be terminated.\n" + "\n" + "EXCEPTION:\n" + "{3}\n" + "\n" + "* Please REPORT this crash message to\n" + "the Bug Reports discussion of this script\n" + "\n" + "* Press RECOMPILE to restart the program";StringBuilder bsodBuilder = new StringBuilder();void PrintBsod(IMyTextSurface surface, string scriptName, string version, float fontSize, Exception e){surface.ContentType = ContentType.TEXT_AND_IMAGE;surface.Alignment = TextAlignment.LEFT;surface.FontSize = fontSize;surface.FontColor = Color.White;surface.BackgroundColor = Color.Blue;string exceptionStr = e.ToString();string[] exceptionLines = exceptionStr.Split('\n');bsodBuilder.Clear();Echo(exceptionLines.Length.ToString());foreach (string line in exceptionLines){if (line.Length &lt;= MAX_BSOD_WIDTH){bsodBuilder.Append(line).Append("\n");}else {string[] words = line.Split(' ');int lineLength = 0;foreach (string word in words){lineLength += word.Length;if (lineLength &gt;= MAX_BSOD_WIDTH){lineLength = 0;bsodBuilder.Append("\n");}bsodBuilder.Append(word).Append(" ");}bsodBuilder.Append("\n");}}surface.WriteText(string.Format(BSOD_TEMPLATE,scriptName.ToUpperInvariant(),version,DateTime.Now,bsodBuilder));}
#endregion

#endregion
</Program>
              <Storage />
              <DefaultRunArgument>setup</DefaultRunArgument>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>GratedHalfStairsMirrored</SubtypeName>
              <EntityId>122750505209296929</EntityId>
              <Min x="-1" y="1" z="4" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>99425390290836781</EntityId>
              <Min x="-1" y="7" z="-5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>129572793304797979</EntityId>
              <Min x="1" y="7" z="-5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>LargeLightPanel</SubtypeName>
              <EntityId>117567985050496251</EntityId>
              <Min x="1" y="2" z="3" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>90231603900288555</EntityId>
              <Min x="-1" y="4" z="-13" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>108654416736754596</EntityId>
              <Min x="1" y="4" z="-13" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>101729477996453554</EntityId>
              <Min x="0" y="4" z="-13" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>SmallLight</SubtypeName>
              <EntityId>130061454914584107</EntityId>
              <Min x="-1" y="2" z="-13" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>SmallLight</SubtypeName>
              <EntityId>104136104792416252</EntityId>
              <Min x="1" y="2" z="-13" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>SmallLight</SubtypeName>
              <EntityId>136237696891281811</EntityId>
              <Min x="0" y="1" z="-15" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>118722539721501993</EntityId>
              <Min x="-1" y="-3" z="9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>101328151220465956</EntityId>
              <Min x="1" y="-3" z="9" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>142483043558121805</EntityId>
              <Min x="0" y="-3" z="10" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="-2" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>96195385558868141</EntityId>
              <Min x="-1" y="-3" z="8" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>141714011566190490</EntityId>
              <Min x="1" y="-3" z="8" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>81000716846149690</EntityId>
              <Min x="1" y="-4" z="9" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>100247105420633722</EntityId>
              <Min x="-1" y="-4" z="9" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="0" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="0" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="0" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="-1" y="0" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="1" y="0" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirVent">
              <SubtypeName />
              <EntityId>112338777605157810</EntityId>
              <Min x="0" y="0" z="-8" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Mid 2 Floatation Air Vent</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>true</Enabled>
              <IsDepressurizing>false</IsDepressurizing>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>102985633035720156</EntityId>
              <Min x="-1" y="0" z="-8" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>72602994243508842</EntityId>
              <Min x="1" y="0" z="-8" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>139964967788981633</EntityId>
              <Min x="-1" y="0" z="-9" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>120773449316901834</EntityId>
              <Min x="1" y="0" z="-9" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>122411604375422496</EntityId>
              <Min x="-1" y="0" z="-10" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>138629327761344056</EntityId>
              <Min x="1" y="0" z="-10" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>143276311562142001</EntityId>
              <Min x="1" y="0" z="-11" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>73319879564827684</EntityId>
              <Min x="-1" y="0" z="-11" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>86234431798469868</EntityId>
              <Min x="0" y="0" z="-11" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorBlock</SubtypeName>
              <Min x="0" y="0" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_AirVent">
              <SubtypeName />
              <EntityId>130697400440485371</EntityId>
              <Min x="0" y="0" z="-16" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Forward Floatation Air Vent</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>true</Enabled>
              <IsDepressurizing>false</IsDepressurizing>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>77641661655487287</EntityId>
              <Min x="1" y="0" z="-16" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>112575096131916745</EntityId>
              <Min x="-1" y="0" z="-16" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>143738885584671361</EntityId>
              <Min x="1" y="0" z="-15" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>72936870863751054</EntityId>
              <Min x="-1" y="0" z="-15" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>119616685887465420</EntityId>
              <Min x="0" y="0" z="-15" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>83064659711206737</EntityId>
              <Min x="1" y="0" z="-14" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>109934276129887974</EntityId>
              <Min x="-1" y="0" z="-14" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>101468408683489812</EntityId>
              <Min x="0" y="0" z="-14" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>143718720941567887</EntityId>
              <Min x="1" y="0" z="-13" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>141528243859528105</EntityId>
              <Min x="-1" y="0" z="-13" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>84370758950769567</EntityId>
              <Min x="0" y="0" z="-13" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>GratedHalfStairs</SubtypeName>
              <EntityId>80151609474218913</EntityId>
              <Min x="0" y="1" z="-13" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="-1" z="-17" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_OxygenGenerator">
              <SubtypeName />
              <EntityId>116771223733522236</EntityId>
              <Min x="0" y="1" z="-12" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>4</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame10</TimerType>
                      <FramesFromLastTrigger>230</FramesFromLastTrigger>
                      <TimerTickInFrames>300</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>98352011084026263</EntityId>
              <Min x="1" y="-3" z="-17" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>137161653845757172</EntityId>
              <Min x="1" y="0" z="12" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Passage">
              <SubtypeName />
              <EntityId>78016626811408004</EntityId>
              <Min x="-1" y="0" z="12" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>118439596032727676</EntityId>
              <Min x="-1" y="0" z="13" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>115438975392702773</EntityId>
              <Min x="1" y="0" z="13" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="-1" y="0" z="14" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="1" y="0" z="14" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>LargeBlockInsetLight</SubtypeName>
              <EntityId>74298915907542429</EntityId>
              <Min x="-1" y="0" z="4" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>LargeBlockInsetLight</SubtypeName>
              <EntityId>115175147616980711</EntityId>
              <Min x="1" y="0" z="4" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>78246240458814395</EntityId>
              <Min x="0" y="0" z="3" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>121305576355431272</EntityId>
              <Min x="-1" y="0" z="3" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>LargeBlockConveyor</SubtypeName>
              <EntityId>103489664070022260</EntityId>
              <Min x="1" y="0" z="3" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>114247089486687763</EntityId>
              <Min x="-1" y="0" z="6" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>120491705877469384</EntityId>
              <Min x="1" y="0" z="6" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>83769617482297735</EntityId>
              <Min x="1" y="-3" z="-19" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-14" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-13" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-7" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-6" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="-2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopeTransitionTip</SubtypeName>
              <Min x="-2" y="-1" z="-19" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopeTransitionTipMirrored</SubtypeName>
              <Min x="2" y="-1" z="-19" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-20" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="2" y="-1" z="-20" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-18" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-17" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-16" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-15" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-14" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-13" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-12" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-11" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-10" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-9" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-8" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-7" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-6" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-5" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-4" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-3" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-2" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="-1" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="0" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="1" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="2" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="3" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="4" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="5" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="6" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="7" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="8" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="9" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="10" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="11" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="12" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-18" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-17" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-16" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-15" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-14" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-13" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-12" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-11" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-10" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-9" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-8" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-7" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-6" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-5" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-4" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-3" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-2" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="-1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="0" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="2" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="3" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="4" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="5" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="6" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="7" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="8" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="9" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="10" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="11" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-1" z="12" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="2" y="-1" z="13" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-2" y="-1" z="13" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="3" y="0" z="13" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="-3" y="0" z="13" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="12" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="11" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="10" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>80642983385056031</EntityId>
              <Min x="0" y="-4" z="-14" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="8" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="7" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="6" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="5" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="4" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="3" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="2" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="1" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="0" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-1" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-2" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-3" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-4" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-5" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-6" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-7" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-8" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-9" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-10" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-11" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-12" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-13" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-14" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-15" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-16" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-17" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-18" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-3" y="0" z="-19" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="12" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="11" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="10" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>75914146582103876</EntityId>
              <Min x="0" y="-4" z="-15" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="8" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="7" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="6" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="5" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="4" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="3" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="2" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="0" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-2" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-3" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-4" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-5" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-6" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-7" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-8" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-9" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-10" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-11" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-12" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-13" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-14" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-15" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="3" y="0" z="-16" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-17" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="0" z="-18" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="3" y="0" z="-19" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="12" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="11" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="10" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="9" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="8" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="7" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="6" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="5" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="4" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="3" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="2" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="0" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-2" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-3" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-4" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-5" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-6" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-7" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-8" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-9" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-10" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-11" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-12" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-13" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-14" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-15" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-16" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-17" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="-18" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-3" y="1" z="-19" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="3" y="1" z="12" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="11" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="10" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="9" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="8" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="7" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="6" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="5" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="4" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="3" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="2" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="0" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-2" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-3" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-4" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-5" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-6" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-7" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-8" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-9" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-10" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-11" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-12" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-13" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-14" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-15" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-16" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-17" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHalfArmorBlock</SubtypeName>
              <Min x="-3" y="1" z="-18" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="3" y="1" z="-19" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="3" y="1" z="-20" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-3" y="1" z="-20" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>131800385896770286</EntityId>
              <Min x="0" y="-4" z="-13" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>108502743518294215</EntityId>
              <Min x="0" y="-4" z="-12" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>119585735878739908</EntityId>
              <Min x="0" y="-4" z="-11" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>80238641454654969</EntityId>
              <Min x="0" y="-4" z="-10" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>85704702733745059</EntityId>
              <Min x="0" y="-4" z="-9" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>100349059783715183</EntityId>
              <Min x="0" y="-4" z="-8" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>138822632951250310</EntityId>
              <Min x="0" y="-4" z="-7" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>127308141845371457</EntityId>
              <Min x="0" y="-4" z="-6" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>107354611038927890</EntityId>
              <Min x="0" y="-4" z="-5" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>96681052477284695</EntityId>
              <Min x="0" y="-4" z="-4" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>99398293393662144</EntityId>
              <Min x="0" y="-4" z="-3" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>129361694611272589</EntityId>
              <Min x="0" y="-4" z="-2" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>96603676589374501</EntityId>
              <Min x="0" y="-4" z="0" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>84512612928491135</EntityId>
              <Min x="0" y="-4" z="1" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>107561136753884419</EntityId>
              <Min x="0" y="-4" z="2" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>109175519595038811</EntityId>
              <Min x="0" y="-4" z="3" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeHeavyBlockArmorBlock</SubtypeName>
              <Min x="0" y="-3" z="3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>139087532284987285</EntityId>
              <Min x="0" y="-4" z="4" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>119716465252360969</EntityId>
              <Min x="0" y="-4" z="5" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>134008178837492167</EntityId>
              <Min x="0" y="-4" z="6" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0.6333333" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>113108492035304381</EntityId>
              <Min x="-1" y="1" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>13</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>101192141756883467</EntityId>
              <Min x="1" y="1" z="-11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>14</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>104378843831881294</EntityId>
              <Min x="1" y="1" z="-5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>15</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>74303082342142942</EntityId>
              <Min x="-1" y="1" z="-5" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>16</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2</SubtypeName>
              <EntityId>142406865721853290</EntityId>
              <Min x="-1" y="1" z="-12" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2</SubtypeName>
              <EntityId>114324842238345297</EntityId>
              <Min x="1" y="1" z="-12" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFi</SubtypeName>
              <EntityId>72188905888791465</EntityId>
              <Min x="-1" y="1" z="-13" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFi</SubtypeName>
              <EntityId>98538366284451512</EntityId>
              <Min x="1" y="1" z="-13" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>113772602162805979</EntityId>
              <Min x="-1" y="1" z="-6" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>86369071478831189</EntityId>
              <Min x="1" y="1" z="-6" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFiTjunction</SubtypeName>
              <EntityId>76732444880040636</EntityId>
              <Min x="1" y="1" z="-10" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFiTjunction</SubtypeName>
              <EntityId>77328435826590852</EntityId>
              <Min x="-1" y="1" z="-10" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SensorBlock">
              <SubtypeName>LargeBlockSensor</SubtypeName>
              <EntityId>121989805159451937</EntityId>
              <Min x="0" y="3" z="4" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>LRM Hatch Safety Sensor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <FieldMin x="-0.1" y="-0.1" z="-1" />
              <FieldMax x="0.1" y="2" z="0.1" />
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>OnOff_Off</Action>
                      <BlockEntityId>92298139691258993</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>OnOff_On</Action>
                      <BlockEntityId>92298139691258993</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <PlaySound>false</PlaySound>
              <DetectPlayers>false</DetectPlayers>
              <DetectFloatingObjects>false</DetectFloatingObjects>
              <DetectSmallShips>false</DetectSmallShips>
              <DetectLargeShips>false</DetectLargeShips>
              <DetectStations>false</DetectStations>
              <DetectSubgrids>true</DetectSubgrids>
              <IsActive>true</IsActive>
              <DetectAsteroids>false</DetectAsteroids>
              <DetectOwner>true</DetectOwner>
              <DetectFriendly>true</DetectFriendly>
              <DetectNeutral>true</DetectNeutral>
              <DetectEnemy>false</DetectEnemy>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>LargeLightPanel</SubtypeName>
              <EntityId>122300211477862694</EntityId>
              <Min x="-1" y="2" z="3" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>94811174025194651</EntityId>
              <Min x="1" y="1" z="-14" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Passage2Wall</SubtypeName>
              <EntityId>113461592282899179</EntityId>
              <Min x="-1" y="1" z="-14" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>LargeLightPanel</SubtypeName>
              <EntityId>117190453255722341</EntityId>
              <Min x="0" y="1" z="-14" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorStator">
              <SubtypeName>LargeStator</SubtypeName>
              <EntityId>112057298362326208</EntityId>
              <Min x="0" y="3" z="-10" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0.197222218" y="-0.66" z="0.55" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Stand Rotor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>142820201226869585</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>-0.192531586</TargetVelocity>
              <MinAngle>0</MinAngle>
              <MaxAngle>0.5660192</MaxAngle>
              <CurrentAngle>-0.0125950919</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <DummyDisplacement>0.000594645739</DummyDisplacement>
              <RotorLock>true</RotorLock>
              <Torque>2486475.5</Torque>
              <BrakingTorque>12511382</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Catwalk</SubtypeName>
              <EntityId>125576017357995836</EntityId>
              <Min x="0" y="2" z="-12" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>CatwalkHalf</SubtypeName>
              <EntityId>128081145543752518</EntityId>
              <Min x="0" y="2" z="-13" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TextPanel">
              <SubtypeName>LargeTextPanel</SubtypeName>
              <EntityId>125090849044048587</EntityId>
              <Min x="-1" y="2" z="-14" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Description />
              <Title>Title</Title>
              <AccessFlag>READ_AND_WRITE_FACTION</AccessFlag>
              <ChangeInterval>0</ChangeInterval>
              <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
              <FontSize>1</FontSize>
              <PublicDescription />
              <PublicTitle>Public title</PublicTitle>
              <ShowText>NONE</ShowText>
              <FontColor>
                <PackedValue>4294967295</PackedValue>
                <X>255</X>
                <Y>255</Y>
                <Z>255</Z>
                <R>255</R>
                <G>255</G>
                <B>255</B>
                <A>255</A>
              </FontColor>
              <BackgroundColor>
                <PackedValue>4278190080</PackedValue>
                <X>0</X>
                <Y>0</Y>
                <Z>0</Z>
                <R>0</R>
                <G>0</G>
                <B>0</B>
                <A>255</A>
              </BackgroundColor>
              <CurrentShownTexture>0</CurrentShownTexture>
              <SelectedScript />
              <TextPadding>2</TextPadding>
              <Version>1</Version>
              <ScriptBackgroundColor>
                <PackedValue>4288108544</PackedValue>
                <X>0</X>
                <Y>88</Y>
                <Z>151</Z>
                <R>0</R>
                <G>88</G>
                <B>151</B>
                <A>255</A>
              </ScriptBackgroundColor>
              <ScriptForegroundColor>
                <PackedValue>4294962611</PackedValue>
                <X>179</X>
                <Y>237</Y>
                <Z>255</Z>
                <R>179</R>
                <G>237</G>
                <B>255</B>
                <A>255</A>
              </ScriptForegroundColor>
              <Sprites>
                <Length>0</Length>
              </Sprites>
              <SelectedRotationIndex>0</SelectedRotationIndex>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TextPanel">
              <SubtypeName>LargeTextPanel</SubtypeName>
              <EntityId>100260308282419091</EntityId>
              <Min x="0" y="2" z="-14" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <Description />
              <Title>Title</Title>
              <AccessFlag>READ_AND_WRITE_FACTION</AccessFlag>
              <ChangeInterval>0</ChangeInterval>
              <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
              <FontSize>1</FontSize>
              <PublicDescription />
              <PublicTitle>Public title</PublicTitle>
              <ShowText>NONE</ShowText>
              <FontColor>
                <PackedValue>4294967295</PackedValue>
                <X>255</X>
                <Y>255</Y>
                <Z>255</Z>
                <R>255</R>
                <G>255</G>
                <B>255</B>
                <A>255</A>
              </FontColor>
              <BackgroundColor>
                <PackedValue>4278190080</PackedValue>
                <X>0</X>
                <Y>0</Y>
                <Z>0</Z>
                <R>0</R>
                <G>0</G>
                <B>0</B>
                <A>255</A>
              </BackgroundColor>
              <CurrentShownTexture>0</CurrentShownTexture>
              <SelectedScript />
              <TextPadding>2</TextPadding>
              <Version>1</Version>
              <ScriptBackgroundColor>
                <PackedValue>4288108544</PackedValue>
                <X>0</X>
                <Y>88</Y>
                <Z>151</Z>
                <R>0</R>
                <G>88</G>
                <B>151</B>
                <A>255</A>
              </ScriptBackgroundColor>
              <ScriptForegroundColor>
                <PackedValue>4294962611</PackedValue>
                <X>179</X>
                <Y>237</Y>
                <Z>255</Z>
                <R>179</R>
                <G>237</G>
                <B>255</B>
                <A>255</A>
              </ScriptForegroundColor>
              <Sprites>
                <Length>0</Length>
              </Sprites>
              <SelectedRotationIndex>0</SelectedRotationIndex>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TurretControlBlock">
              <SubtypeName>LargeTurretControlBlock</SubtypeName>
              <EntityId>117003883903784154</EntityId>
              <Min x="1" y="2" z="-14" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MySunTrackingComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_SunTrackingComponent">
                      <SunTrackingEnabled>false</SunTrackingEnabled>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[LAMP - Text Surface Config]
Show on screen 0=true
Show on screen 1=false
Show on screen 2=false
Show on screen 3=false
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Targeting Camera CTC Designator</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>SCRIPT</ContentType>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <CustomizeScripts>true</CustomizeScripts>
                  <ScriptBackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <AzimuthId>136796336314995357</AzimuthId>
              <ElevationId>131753903041846483</ElevationId>
              <CameraId>132190860209954499</CameraId>
              <ToolIds />
              <VelocityMultiplierAzimuth>0.3</VelocityMultiplierAzimuth>
              <VelocityMultiplierElevation>0.3</VelocityMultiplierElevation>
              <PreviousControlledEntityId xsi:nil="true" />
              <Range>800</Range>
              <IsCorrect>true</IsCorrect>
              <TargetingGroup>Weapons</TargetingGroup>
              <AngleDeviation>0.087222</AngleDeviation>
              <DirectionBlockId>126583255447909492</DirectionBlockId>
              <AreWeaponsMismatched>false</AreWeaponsMismatched>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Start</Action>
                      <BlockEntityId>133470386706944023</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Start</Action>
                      <BlockEntityId>91677039597735307</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <AllowAI>true</AllowAI>
              <Flags>
                <TargetMeteors>false</TargetMeteors>
                <TargetCharacters>false</TargetCharacters>
              </Flags>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
              <SubtypeName>LargeProgrammableBlock</SubtypeName>
              <EntityId>109590100367242689</EntityId>
              <Min x="-1" y="1" z="-15" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[Turret Slaver - General Parameters]
- Game max speed (m/s)=100
- Rotor turret group name tag=TG
- Slaved AI turret group name tag=Slaved Group
- Designator name tag=Designator
- Draw title screen=true

[Targeting Camera TG]
- Muzzle velocity (m/s)=300000000
- Is rocket=false
- Rocket initial velocity (m/s)=0
- Rocket acceleration (m/s^2)=0
- Avoid friendly fire (own ship)=true
- Avoid friendly fire (other ships)=true
- Fire tolerance angle (deg)=2.5
- Manual convergence range (m)=800
- Autofire range (m)=800
- Only shoot when designator shoots=false
- Gravity multiplier (for mods)=0
- Max rotor speed (rpm)=60
- Proportional constant=75
- Integral constant=0
- Integral decay ratio=0.25
- Derivative constant=0
- Return to rest position speed (rpm)=10
- Return to rest delay (s)=2


[AA Front TG]
- Muzzle velocity (m/s)=400
- Is rocket=false
- Rocket initial velocity (m/s)=0
- Rocket acceleration (m/s^2)=0
- Avoid friendly fire (own ship)=true
- Avoid friendly fire (other ships)=true
- Fire tolerance angle (deg)=2.5
- Manual convergence range (m)=800
- Autofire range (m)=800
- Only shoot when designator shoots=false
- Gravity multiplier (for mods)=0
- Max rotor speed (rpm)=60
- Proportional constant=75
- Integral constant=0
- Integral decay ratio=0.25
- Derivative constant=0
- Return to rest position speed (rpm)=10
- Return to rest delay (s)=2

[AA Rear TG]
- Muzzle velocity (m/s)=400
- Is rocket=false
- Rocket initial velocity (m/s)=0
- Rocket acceleration (m/s^2)=0
- Avoid friendly fire (own ship)=true
- Avoid friendly fire (other ships)=true
- Fire tolerance angle (deg)=2.5
- Manual convergence range (m)=800
- Autofire range (m)=800
- Only shoot when designator shoots=false
- Gravity multiplier (for mods)=0
- Max rotor speed (rpm)=60
- Proportional constant=75
- Integral constant=0
- Integral decay ratio=0.25
- Derivative constant=0
- Return to rest position speed (rpm)=10
- Return to rest delay (s)=2



</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>PB - Ship Turret Slaver </CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>SCRIPT</ContentType>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <CustomizeScripts>true</CustomizeScripts>
                  <ScriptBackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <Program>
#region This goes in the programmable block
const string VERSION="122.0.2";const string DATE = "2022/12/12";/*
/ //// / Whip's Turret Slaver / //// /
_______________________________________________________________________

README: https://steamcommunity.com/sharedfiles/filedetails/?id=672678005

Read the bloody online instructions. I'm out of space in this script.
Post any questions, suggestions, or issues you have on the workshop page.

FOR THE LOVE OF GOD, DON'T EDIT VARIABLES IN THE CODE!
USE THE CUSTOM DATA OF THE PROGRAMMABLE BLOCK!

_______________________________________________________________________

NOTE:

This code has been compressed and is likely very ugly to try and read in the
script editor.

You can paste this into Visual Studio and it will auto-format it for you, or
you can use a site like https://codebeautify.org/csharpviewer to uncompress it.

I did not obfuscate my code because I still want it to be readable.

_______________________________________________________________________

- Whiplash141








=================================================
No touchey anything below here!
=================================================









*/

#region Variables that you should not touch
readonly TurretVariables _defaultVars=new TurretVariables(){ToleranceAngle=2.5,ConvergenceRange=800,EquilibriumRotationSpeed=10,ProportionalGain=75,IntegralGain=0,IntegralDecayRatio=0.25,DerivativeGain=0,MaxRotationSpeed=60,GameMaxSpeed=100,TargetRefreshInterval=2,RotorTurretGroupNameTag="Turret Group",RotorGimbalGroupNameTag = "Gimbal Group",AiTurretGroupNameTag = "Slaved Group",DesignatorNameTag = "Designator",OnlyShootWhenDesignatorShoots = false,};class TurretVariables {public double ToleranceAngle;public double ConvergenceRange;public double EquilibriumRotationSpeed;public double ProportionalGain;public double IntegralGain;public double DerivativeGain;public double IntegralDecayRatio;public double MaxRotationSpeed;public double GameMaxSpeed;public double TargetRefreshInterval;public string RotorTurretGroupNameTag;public string RotorGimbalGroupNameTag;public string AiTurretGroupNameTag;public string DesignatorNameTag;public bool OnlyShootWhenDesignatorShoots;}const string IgcTag = "IGC_IFF_MSG";const string IniGeneral = "Turret Slaver - General Parameters",IniDrawTitleScreen = "- Draw title screen",IniMuzzleVelocity = "- Muzzle velocity (m/s)",IniIsRocket = "- Is rocket",IniRocketAccel = "- Rocket acceleration (m/s^2)",IniRocketInitVel = "- Rocket initial velocity (m/s)",IniAvoidFriendly = "- Avoid friendly fire (own ship)",IniAvoidFriendlyOtherShips = "- Avoid friendly fire (other ships)",IniTolerance = "- Fire tolerance angle (deg)",IniConvergence = "- Manual convergence range (m)",IniKp = "- Proportional constant",IniKi = "- Integral constant",IniKd = "- Derivative constant",IniMaxRotorSpeed = "- Max rotor speed (rpm)",IniIntegralDecayRatio = "- Integral decay ratio",IniRestRpm = "- Return to rest position speed (rpm)",IniGameMaxSpeed = "- Game max speed (m/s)",IniRotorTurretName = "- Rotor turret group name tag",IniAiTurretName = "- Slaved AI turret group name tag",IniDesignatorName = "- Designator name tag",IniEngagementRange = "- Autofire range (m)",IniRestTime = "- Return to rest delay (s)",IniShootWhenDesignatorDoes = "- Only shoot when designator shoots",IniGravityMult = "- Gravity multiplier (for mods)",IniTimerSection = "Turret Slaver - Timer Config",IniTimerTriggerState = "Trigger on state",IniCommentTimerTriggerState = " Valid trigger states: Idle, Firing, Targeting, NotIdle, NotFiring, NotTargeting",IniTimerRetrigger = "Should retrigger",IniTimerRetriggerInterval = "Retrigger interval (s)",IniRotorSection = "Turret Slaver - Rotor Config",IniRotorManualRestAngle = "Use manual rest angle",IniRotorRestAngle = "Manual rest angle (deg)",IniLightSectionTargeting = "Turret Slaver - Light Config - Targeting",IniLightSectionIdle = "Turret Slaver - Light Config - Idle",IniLightEnable = "Turn on",IniLightColor = "Color (R,G,B)",IniLightBlinkInterval = "Blink interval (s)",IniLightBlinkLength = "Blink length (%)";const string _iniMigrationKey = "[General Parameters]";Dictionary&lt;string, string&gt; _iniMigrationDictionary = new Dictionary&lt;string, string&gt;(){{"General Parameters", IniGeneral},{"muzzle_velocity", IniMuzzleVelocity},{"is_rocket", IniIsRocket},{"rocket_acceleration", IniRocketAccel},{"rocket_initial_velocity", IniRocketInitVel},{"avoid_friendly_fire", IniAvoidFriendly},{"fire_tolerance_deg", IniTolerance},{"manual_convergence_range", IniConvergence},{"proportional_gain", IniKp},{"integral_gain", IniKi},{"derivative_gain", IniKd},{"integral_decay_ratio", IniIntegralDecayRatio},{"return_to_rest_rpm", IniRestRpm},{"max_game_speed", IniGameMaxSpeed},{"rotor_turret_group_tag", IniRotorTurretName},{"ai_turret_group_tag", IniAiTurretName},{"designator_name_tag", IniDesignatorName},{"auto_fire_range", IniEngagementRange},{"return_to_rest_delay", IniRestTime},{"only_shoot_when_designator_shoots", IniShootWhenDesignatorDoes},{"gravity_multiplier",IniGravityMult}};const double UpdatesPerSecond=10;const double MainUpdateInterval=1.0/UpdatesPerSecond;const double Tick=1.0/60.0;const int MaxBlocksToCheckForFF=50;Dictionary&lt;long,FriendlyData&gt;_friendlyData=new Dictionary&lt;long,FriendlyData&gt;(),_friendlyDataBuffer=new Dictionary&lt;long,FriendlyData&gt;();List&lt;TurretInterface&gt;_designators=new List&lt;TurretInterface&gt;();List&lt;IMyShipController&gt;_shipControllers=new List&lt;IMyShipController&gt;();List&lt;IMyTextPanel&gt;_debugPanels=new List&lt;IMyTextPanel&gt;();List&lt;IMyBlockGroup&gt;_currentTurretGroups=new List&lt;IMyBlockGroup&gt;(),_lastTurretGroups=new List&lt;IMyBlockGroup&gt;();List&lt;TurretGroupBase&gt;_turretList=new List&lt;TurretGroupBase&gt;();HashSet&lt;IMyCubeGrid&gt;_allShipGrids=new HashSet&lt;IMyCubeGrid&gt;();MyIni _generalIni=new MyIni();Scheduler _scheduler;StringBuilder _iniOutput=new StringBuilder(),_echoOutput=new StringBuilder(),_turretEchoBuilder=new StringBuilder(),_turretErrorBuilder=new StringBuilder(),_turretEchoOutput=new StringBuilder(),_turretErrorOutput=new StringBuilder();RuntimeTracker _runtimeTracker;CircularBuffer&lt;Action&gt;_turretBuffer;IMyBroadcastListener _broadcastListener;IMyShipController _reference=null;Vector3D _lastGridPosition=Vector3D.Zero,_gridVelocity=Vector3D.Zero,_gravity=Vector3D.Zero;IMyCubeGrid _biggestGrid=null;double _biggestGridRadius=0;bool _debugMode=false,_writtenTurretEcho=false,_drawTitleScreen=true;int _rotorTurretCount=0,_aiTurretCount=0,_rotorGimbalCount=0;Log _setupLog=new Log();TurretSlaverScreenManager _screenManager;
#endregion

#region Entrypoints
Program(){MigrateConfig();Runtime.UpdateFrequency=UpdateFrequency.Update1;_runtimeTracker=new RuntimeTracker(this,5*60);_screenManager=new TurretSlaverScreenManager(VERSION,this);double step=UpdatesPerSecond/60.0;_turretBuffer=new CircularBuffer&lt;Action&gt;(6);_turretBuffer.Add(()=&gt;UpdateTurrets(0*step,1*step));_turretBuffer.Add(()=&gt;UpdateTurrets(1*step,2*step));_turretBuffer.Add(()=&gt;UpdateTurrets(2*step,3*step));_turretBuffer.Add(()=&gt;UpdateTurrets(3*step,4*step));_turretBuffer.Add(()=&gt;UpdateTurrets(4*step,5*step));_turretBuffer.Add(()=&gt;UpdateTurrets(5*step,6*step));_scheduler=new Scheduler(this);_scheduler.AddScheduledAction(CalculateShooterVelocity,UpdatesPerSecond);_scheduler.AddScheduledAction(PrintDetailedInfo,1);_scheduler.AddScheduledAction(NetworkTargets,6);_scheduler.AddScheduledAction(RefreshDesignatorTargeting,0.25,timeOffset:0.66);_scheduler.AddScheduledAction(MoveNextTurrets,60);_scheduler.AddScheduledAction(DrawRunningScreen,6);_scheduler.AddScheduledAction(_screenManager.Animate,0.2);_scheduler.Init();// IGC Register
_broadcastListener=IGC.RegisterBroadcastListener(IgcTag);_broadcastListener.SetMessageCallback(IgcTag);MainSetup();base.Echo("Initializing...");}void DrawRunningScreen(){if (_drawTitleScreen){_screenManager.Draw();}}void Main(string arg, UpdateType updateType){try {_runtimeTracker.AddRuntime();if (arg.Equals(IgcTag))ProcessNetworkMessage();else if (!string.IsNullOrWhiteSpace(arg))ArgumentHandling(arg);_scheduler.Update();_runtimeTracker.AddInstructions();}catch (Exception e){PrintBsod(Me.GetSurface(0), "Whip's Turret Slaver",VERSION,0.5f,e);throw e;}}
#endregion

#region Main Routines
void MoveNextTurrets(){_turretBuffer.MoveNext().Invoke();}void UpdateTurrets(double startProportion,double endProportion){int startInt=(int)Math.Round(startProportion*_turretList.Count);int endInt=(int)Math.Round(endProportion*_turretList.Count);for(int i=startInt;i&lt;endInt;++i){var turretToUpdate=_turretList[i];turretToUpdate.DoWork(ref _gridVelocity,ref _gravity,_allShipGrids,_friendlyData,_debugMode);if(turretToUpdate.Log.HasContent){_turretErrorBuilder.Append($"_____________________________\n{turretToUpdate.Group.Name} Errors/Warnings\n\n");turretToUpdate.Log.Write(_turretErrorBuilder);}if (_debugMode){_turretEchoBuilder.Append($"_____________________________\n{turretToUpdate.Group.Name} Info\n\n");_turretEchoBuilder.Append(turretToUpdate.EchoOutput);}}// End of cycle
if(endInt==_turretList.Count&amp;&amp;!_writtenTurretEcho){_writtenTurretEcho=true;if(_debugMode){_turretEchoOutput.Clear();_turretEchoOutput.Append(_turretEchoBuilder);_turretEchoBuilder.Clear();}_turretErrorOutput.Clear();_turretErrorOutput.Append(_turretErrorBuilder);_turretErrorBuilder.Clear();}else{_writtenTurretEcho=false;}}void MainSetup(){_setupLog.Clear();ParseGeneralIni();GetBlockGroups();GetVelocityReference();BuildIniOutput();}void CalculateShooterVelocity(){_gravity=Vector3D.Zero;if(_reference!=null&amp;&amp;!_reference.Closed){_gridVelocity=_reference.GetShipVelocities().LinearVelocity;_gravity=_reference.GetNaturalGravity();}else{var currentGridPosition=Me.CubeGrid.WorldAABB.Center;_gridVelocity=(currentGridPosition-_lastGridPosition)*UpdatesPerSecond;_lastGridPosition=currentGridPosition;GetVelocityReference();}}
#endregion

#region Detailed Info Printing
new void Echo(string text){_echoOutput.Append(text).Append("\n");}void PrintEcho(){base.Echo(_echoOutput.ToString());}void PrintDetailedInfo(){Echo($"Whip's Turret Slaver\n(Version {VERSION} - {DATE})");Echo("\nYou can customize turrets \nindividually in the Custom Data\nof this block.");Echo($"\nTo refresh blocks and reprocess\nblock groups, run the argument:\n\"setup\".\n");Echo($"Turret Summary:\n  {_rotorTurretCount} rotor turret group(s) found");Echo($"  {_rotorGimbalCount} rotor gimbal group(s) found");Echo($"  {_aiTurretCount} slaved AI turret group(s) found\n");Echo($"Debug mode is: {(_debugMode ? "ON" : "OFF")}\n&gt; Toggle debug output with the\n  argument: \"debug_toggle\".");if (_debugMode)Echo($"&gt; {_debugPanels.Count} debug panel(s) found\n  Name a text panel \"DEBUG\" to\n  see debug text.");_echoOutput.Append("\n");if (_setupLog.HasContent){_echoOutput.Append($"_____________________________\nMain Setup\n\n");_setupLog.Write(_echoOutput);}_echoOutput.Append(_turretErrorOutput);Echo(_runtimeTracker.Write());if(_debugMode){string finalOutput=_echoOutput.ToString()+_turretEchoOutput.ToString();foreach(var block in _debugPanels){block.WriteText(finalOutput);block.ContentType=ContentType.TEXT_AND_IMAGE;}}PrintEcho();_echoOutput.Clear();}
#endregion

#region Ini
void WriteGeneralIni(){_generalIni.Clear();_generalIni.TryParse(Me.CustomData,IniGeneral);_generalIni.Set(IniGeneral,IniGameMaxSpeed,_defaultVars.GameMaxSpeed);_generalIni.Set(IniGeneral,IniRotorTurretName,_defaultVars.RotorTurretGroupNameTag);_generalIni.Set(IniGeneral,IniAiTurretName,_defaultVars.AiTurretGroupNameTag);_generalIni.Set(IniGeneral,IniDesignatorName,_defaultVars.DesignatorNameTag);_generalIni.Set(IniGeneral,IniDrawTitleScreen,_drawTitleScreen);}void ParseGeneralIni(){_generalIni.Clear();bool parsed=_generalIni.TryParse(Me.CustomData,IniGeneral);if(!parsed)return;_defaultVars.GameMaxSpeed=_generalIni.Get(IniGeneral,IniGameMaxSpeed).ToDouble(_defaultVars.GameMaxSpeed);_defaultVars.RotorTurretGroupNameTag=_generalIni.Get(IniGeneral,IniRotorTurretName).ToString(_defaultVars.RotorTurretGroupNameTag);_defaultVars.AiTurretGroupNameTag=_generalIni.Get(IniGeneral,IniAiTurretName).ToString(_defaultVars.AiTurretGroupNameTag);_defaultVars.DesignatorNameTag=_generalIni.Get(IniGeneral,IniDesignatorName).ToString(_defaultVars.DesignatorNameTag);_drawTitleScreen=_generalIni.Get(IniGeneral,IniDrawTitleScreen).ToBoolean(_drawTitleScreen);}void BuildIniOutput(){_iniOutput.Clear();WriteGeneralIni();_iniOutput.AppendLine(_generalIni.ToString());foreach(TurretGroupBase turret in _turretList){_iniOutput.Append(turret.IniOutput).Append("\n");}Me.CustomData=_iniOutput.ToString();}
#endregion

#region Setup
bool CollectDesignatorsDebugAndMech(IMyTerminalBlock b){if(!b.IsSameConstructAs(Me))return false;_allShipGrids.Add(b.CubeGrid);double rad=b.CubeGrid.WorldVolume.Radius;if(rad&gt;_biggestGridRadius){_biggestGridRadius=rad;_biggestGrid=b.CubeGrid;}var tcb=b as IMyTurretControlBlock;if(tcb!=null&amp;&amp;StringExtensions.Contains(b.CustomName,_defaultVars.DesignatorNameTag)){_designators.Add(new TurretInterface(tcb));return false;}var t=b as IMyLargeTurretBase;if(t!=null&amp;&amp;StringExtensions.Contains(b.CustomName,_defaultVars.DesignatorNameTag)){_designators.Add(new TurretInterface(t));return false;}var sc=b as IMyShipController;if(sc!=null){_shipControllers.Add(sc);return false;}var mech=b as IMyMechanicalConnectionBlock;if(mech!=null){if(mech.IsAttached)_allShipGrids.Add(mech.TopGrid);return false;}var text=b as IMyTextPanel;if(_debugMode&amp;&amp;b!=null&amp;&amp;b.CustomName.Contains("DEBUG")){_debugPanels.Add(text);return false;}return false;}readonly char[] IllegalIniSectionChars = new char[] { '[', ']', '\r', '\n' };bool HasIllegalIniSectionChars(string s){return s.IndexOfAny(IllegalIniSectionChars) &gt;= 0;}bool CollectTurretGroups(IMyBlockGroup g){bool create = true;if (_lastTurretGroups.Contains(g)){create = false;}bool illegal = HasIllegalIniSectionChars(g.Name);bool collect = false;if (StringExtensions.Contains(g.Name, _defaultVars.AiTurretGroupNameTag)){collect = true;if (!illegal){if (create){_turretList.Add(new SlavedAIGroup(g, _defaultVars, this, _allShipGrids, _friendlyData));}_currentTurretGroups.Add(g);_aiTurretCount++;}}else if (StringExtensions.Contains(g.Name, _defaultVars.RotorTurretGroupNameTag)){collect = true;if (!illegal){if (create){_turretList.Add(new DualAxisRotorTurretGroup(g, _defaultVars, this, _allShipGrids, _friendlyData));}_currentTurretGroups.Add(g);_rotorTurretCount++;}}else if (StringExtensions.Contains(g.Name, _defaultVars.RotorGimbalGroupNameTag)){collect = true;if (!illegal){if (create){_turretList.Add(new SingleAxisRotorTurretGroup(g, _defaultVars, this, _allShipGrids, _friendlyData));}_currentTurretGroups.Add(g);_rotorGimbalCount++;}}if (collect &amp;&amp; illegal){_setupLog.Warning($"Group '{g.Name}'\nhas illegal characters! Characters\n[ ] \\r and \\n are not allowed!");}return false;}void GetBlockGroups(){_rotorTurretCount=0;_aiTurretCount=0;_rotorGimbalCount=0;_biggestGridRadius=0;_biggestGrid=null;_shipControllers.Clear();_designators.Clear();_debugPanels.Clear();_currentTurretGroups.Clear();_allShipGrids.Clear();_allShipGrids.Add(Me.CubeGrid);// Update existing
foreach(var turret in _turretList){turret.GetTurretGroupBlocks(defaultVars:_defaultVars);}GridTerminalSystem.GetBlocksOfType&lt;IMyTerminalBlock&gt;(null,CollectDesignatorsDebugAndMech);GridTerminalSystem.GetBlockGroups(null,CollectTurretGroups);// Remove dead groups
_turretList.RemoveAll(x=&gt;!_currentTurretGroups.Contains(x.Group));_lastTurretGroups.Clear();foreach(var tg in _turretList){_lastTurretGroups.Add(tg.Group);}}void GetVelocityReference(){_reference=_shipControllers.Count&gt;0 ? _shipControllers[0]:null;}void RefreshDesignatorTargeting(){foreach(var turret in _designators){var t=turret.T;if(t==null)continue;if(t.HasTarget){// Force a new target selection
if(t.TargetMeteors){t.TargetMeteors=false;t.TargetMeteors=true;}if(t.TargetMissiles){t.TargetMissiles=false;t.TargetMissiles=true;}if(t.TargetSmallGrids){t.TargetSmallGrids=false;t.TargetSmallGrids=true;}if(t.TargetLargeGrids){t.TargetLargeGrids=false;t.TargetLargeGrids=true;}if(t.TargetCharacters){t.TargetCharacters=false;t.TargetCharacters=true;}if(t.TargetStations){t.TargetStations=false;t.TargetStations=true;}}}}void ArgumentHandling(string arg){switch(arg.ToLowerInvariant()){case "reset_targeting": ResetAllDesignatorTargeting();break;case "debug_toggle": _debugMode = !_debugMode;if (_debugMode){GetBlockGroups();}break;case "setup":MainSetup();break;default:break;}}void ResetAllDesignatorTargeting(){foreach(var t in _designators){t.ResetTargeting();}}
#endregion

#region Inter-Grid Comms
struct FriendlyData{public Vector3D Position;public double Radius;public FriendlyData(Vector3D pos,double rad){Position=pos;Radius=rad;}}enum TargetRelation:byte{Neutral=0,Other=0,Enemy=1,Friendly=2,Locked=4,LargeGrid=8,SmallGrid=16,RelationMask=Neutral|Enemy|Friendly,TypeMask=LargeGrid|SmallGrid|Other}void ProcessNetworkMessage(){byte relationship=0;long entityId=0;Vector3D position=default(Vector3D);double targetRadius=0;while(_broadcastListener.HasPendingMessage){object messageData=_broadcastListener.AcceptMessage().Data;if(messageData is MyTuple&lt;byte,long,Vector3D,double&gt;){if(_biggestGrid==null)continue;var payload=(MyTuple&lt;byte,long,Vector3D,double&gt;)messageData;relationship=payload.Item1;if((relationship&amp;(byte)TargetRelation.Friendly)==0)continue;// Ignore IFF message if not friendly
entityId=payload.Item2;if(entityId==_biggestGrid.EntityId)continue;// Ignore if source ship is the same
position=payload.Item3;targetRadius=payload.Item4;if(Vector3D.DistanceSquared(position,_biggestGrid.GetPosition())&lt;targetRadius)continue;// Ignore if we are within the bounding sphere
FriendlyData friendlyData;_friendlyDataBuffer.TryGetValue(entityId,out friendlyData);if(targetRadius&gt;friendlyData.Radius){friendlyData.Radius=targetRadius;friendlyData.Position=position;_friendlyDataBuffer[entityId]=friendlyData;}}}}void NetworkTargets(){var myType=_biggestGrid.GridSizeEnum==MyCubeSize.Large ? TargetRelation.LargeGrid:TargetRelation.SmallGrid;var payload=new MyTuple&lt;byte,long,Vector3D,double&gt;((byte)(TargetRelation.Friendly|myType),_biggestGrid.EntityId,_biggestGrid.WorldVolume.Center,_biggestGridRadius*_biggestGridRadius);IGC.SendBroadcastMessage(IgcTag,payload);_friendlyData.Clear();foreach(var kvp in _friendlyDataBuffer){_friendlyData[kvp.Key]=kvp.Value;}_friendlyDataBuffer.Clear();}
#endregion

#region Turret Group Classes

#region Rotor Turrets
class DualAxisRotorTurretGroup:RotorTurretGroupBase{HashSet&lt;IMyCubeGrid&gt;_elevationRotorHeadGrids=new HashSet&lt;IMyCubeGrid&gt;();List&lt;IMyMotorStator&gt;_secondaryElevationRotors=new List&lt;IMyMotorStator&gt;();IMyMotorStator _mainElevationRotor;DecayingIntegralPID _elevationPID=new DecayingIntegralPID(0,0,0,MainUpdateInterval,0);MatrixD _lastElevationMatrix;public DualAxisRotorTurretGroup(IMyBlockGroup group,TurretVariables defaultVars,Program program,HashSet&lt;IMyCubeGrid&gt;shipGrids,Dictionary&lt;long,FriendlyData&gt;friendlyData):base(group,defaultVars,program,shipGrids,friendlyData){}protected override void ClearBlocks(){base.ClearBlocks();_elevationRotorHeadGrids.Clear();_secondaryElevationRotors.Clear();_azimuthTopGrid=null;_mainElevationRotor=null;}protected override bool SortBlocks(List&lt;IMyTerminalBlock&gt;_groupBlocks,bool verbose){ClearBlocks();Log.Clear();foreach(var block in _groupBlocks){CollectBlocks(block);}// Find azimuth rotors by finding which rotors have rotors atop them
for(int i=_unsortedRotors.Count-1;i&gt;=0;--i){var rotor=_unsortedRotors[i];if(!rotor.IsAttached){Log.Warning($"No rotor head for rotor\n named '{rotor.CustomName}'\n Skipping this rotor...");continue;}// Found a azimuth rotor
if(_rotorGrids.Contains(rotor.TopGrid)){if(_azimuthRotor==null){_azimuthRotor=rotor;_azimuthTopGrid=rotor.TopGrid;GetRotorRestAngle(rotor);AddRotorGridsToHash(rotor,false);}else{_duplicateAzimuths.Add(rotor);}_unsortedRotors.RemoveAt(i);}}// Find elevation rotors
for(int i=_unsortedRotors.Count-1;i&gt;=0;--i){var rotor=_unsortedRotors[i];if(!rotor.IsAttached){continue;}// Check that this rotor resides on the azimuth's top grid
if(rotor.CubeGrid!=_azimuthTopGrid){continue;}// Check if elevation rotor has weapons
if(!_weaponGrids.Contains(rotor.TopGrid)){continue;}// This is an elevation rotor
if(_mainElevationRotor==null){_rotorTurretReference=GetTurretReferenceOnRotorHead(rotor);if(_rotorTurretReference!=null){_mainElevationRotor=rotor;}}_secondaryElevationRotors.Add(rotor);_elevationRotorHeadGrids.Add(rotor.TopGrid);GetRotorRestAngle(rotor);AddRotorGridsToHash(rotor,true);_unsortedRotors.RemoveAt(i);}// Check for orphaned rotors
if(_unsortedRotors.Count&gt;0){Log.Warning("Unsorted rotor(s) found:", false);foreach (var r in _unsortedRotors){Log.WarningOutput.Append($"  - \"{r.CustomName}\"\n");}Log.WarningOutput.Append("\n");}if (_duplicateAzimuths.Count &gt; 0){Log.Warning("Only one base rotor is\n allowed per turret. Additional ones\n will be ignored:", false);foreach (var r in _duplicateAzimuths){Log.WarningOutput.Append($"  - \"{r.CustomName}\"\n");}Log.WarningOutput.Append("\n");}bool noErrors = true;if (_guns.Count == 0 &amp;&amp; _tools.Count == 0 &amp;&amp; _cameras.Count == 0 &amp;&amp; _lightConfigs.Count == 0){Log.Error("No weapons, tools, lights or\ncameras found");noErrors = false;}if (_designators.Count == 0){Log.Error("No designators found");noErrors = false;}if (_azimuthRotor == null){Log.Error("No base rotor found");noErrors = false;}if (_mainElevationRotor == null){if (_secondaryElevationRotors.Count == 0)Log.Error("No secondary rotor(s) found");else Log.Error($"None of the {_secondaryElevationRotors.Count} secondary\nrotor(s) has weapons/tools attached to them");noErrors=false;}else{_secondaryElevationRotors.Remove(_mainElevationRotor);// Remove main elevation rotor from the list so it isnt double counted.
}_vitalBlocks.Add(_mainElevationRotor);_vitalBlocks.Add(_azimuthRotor);_vitalBlocks.Add(_rotorTurretReference);_vitalBlocks.AddRange(_guns);_vitalBlocks.AddRange(_tools);_vitalBlocks.AddRange(_cameras);foreach(var lightConfig in _lightConfigs){_vitalBlocks.Add(lightConfig.Light);}return noErrors;}protected override void SetPidValues(){base.SetPidValues();_elevationPID.Kp=_proportionalGain;_elevationPID.Ki=_integralGain;_elevationPID.Kd=_derivativeGain;_elevationPID.DecayRatio=_integralDecayRatio;}public override void UpdateGeneralSettings(TurretVariables defaultVars){if(defaultVars==null)return;base.UpdateGeneralSettings(defaultVars);}protected override void RotorTurretTargeting(){if(!_mainElevationRotor.IsAttached)return;Echo($"Rotor turret is targeting");Vector3D aimPosition=GetTargetPoint(ref _averageWeaponPos,_designator);Vector3D targetDirection=aimPosition-_averageWeaponPos;Vector3D turretFrontVec=_rotorTurretReference.WorldMatrix.Forward;MatrixD turretBaseMatrix=GetBaseMatrix(turretFrontVec,_azimuthRotor.WorldMatrix.Up);int elevationSign=Math.Sign(Vector3D.Dot(turretBaseMatrix.Left,_mainElevationRotor.WorldMatrix.Up));/*
* We need 2 sets of angles to be able to prevent the turret from trying to rotate over 90 deg
* vertical to get to a target behind it. This ensures that the elevation angle is always
* lies in the domain: -90 deg &lt;= elevation &lt;= 90 deg.
*/
double desiredAzimuthAngle,desiredElevationAngle,currentElevationAngle,azimuthAngle,elevationAngle;GetRotationAngles(ref targetDirection,ref turretBaseMatrix,out desiredAzimuthAngle,out desiredElevationAngle);GetElevationAngle(ref turretFrontVec,ref turretBaseMatrix,out currentElevationAngle);elevationAngle=(desiredElevationAngle-currentElevationAngle)*elevationSign;azimuthAngle=GetAllowedRotationAngle(desiredAzimuthAngle,_azimuthRotor);double azimuthSpeed=_azimuthPID.Control(azimuthAngle);double elevationSpeed=_elevationPID.Control(elevationAngle);azimuthSpeed=MathHelper.Clamp(azimuthSpeed,-_maxRotorSpeed,_maxRotorSpeed);elevationSpeed=MathHelper.Clamp(elevationSpeed,-_maxRotorSpeed,_maxRotorSpeed);/*
* Get angular error rate due to ship rotation
*/
double azimuthError,elevationError,azimuthErrorRate,elevationErrorRate;azimuthError=ComputeRotorHeadingError(_mainElevationRotor,ref _lastAzimuthMatrix);elevationError=ComputeRotorHeadingError(_mainElevationRotor,ref _lastElevationMatrix);azimuthErrorRate=azimuthError/MainUpdateInterval*MathHelper.RadiansPerSecondToRPM;elevationErrorRate=elevationError/MainUpdateInterval*MathHelper.RadiansPerSecondToRPM;_azimuthRotor.TargetVelocityRPM=(float)(azimuthSpeed+azimuthErrorRate);_mainElevationRotor.TargetVelocityRPM=(float)(elevationSpeed+elevationErrorRate);if(!_azimuthRotor.Enabled)_azimuthRotor.Enabled=true;if(!_mainElevationRotor.Enabled)_mainElevationRotor.Enabled=true;bool inRange=_autoEngagementRange*_autoEngagementRange&gt;=targetDirection.LengthSquared();bool angleWithinTolerance=VectorMath.IsDotProductWithinTolerance(turretFrontVec,targetDirection,_toleranceDotProduct);bool shootWeapons=false;if(angleWithinTolerance){if(_designator.IsUnderControl&amp;&amp;_designator.IsShooting)// If manually controlled
{shootWeapons=true;}else if(_designator.HasTarget&amp;&amp;inRange)// If AI controlled
{if(!_onlyShootWhenDesignatorShoots)shootWeapons=true;else if(_onlyShootWhenDesignatorShoots&amp;&amp;_designator.IsShooting)shootWeapons=true;}}_intersection=false;if(shootWeapons){if(_avoidFriendlyFireOtherShips){_intersection=IsOccludedByFriendlyShip(ref _averageWeaponPos,ref turretFrontVec);}if(_avoidFriendlyFire&amp;&amp;!_intersection){_intersection=CheckForFF(ref _averageWeaponPos,ref turretFrontVec,_azimuthRotor);}shootWeapons=!_intersection;}ToggleWeaponsAndTools(shootWeapons,_isTargeting,_guns);foreach(var rotor in _secondaryElevationRotors){HandleSecondaryElevationRotors(rotor,elevationSpeed,ref turretFrontVec);}}void HandleSecondaryElevationRotors(IMyMotorStator rotor,double elevationSpeed,ref Vector3D turretFrontVec){IMyTerminalBlock reference=GetTurretReferenceOnRotorHead(rotor);if(reference==null){Log.Warning($"No weapons, tools, cameras, or lights\non secondary rotor named\n'{rotor.CustomName}'\nSkipping this rotor...");return;}if (!rotor.Enabled)rotor.Enabled = true;Vector3D up = rotor.WorldMatrix.Up;Vector3D desiredFrontVec = reference.WorldMatrix.Forward;Vector3D cross = Vector3D.Cross(turretFrontVec, desiredFrontVec);double diff = 100f * VectorMath.AngleBetween(desiredFrontVec, turretFrontVec) * Math.Sign(Vector3D.Dot(cross, up));int multiplier = Math.Sign(Vector3D.Dot(up, _mainElevationRotor.WorldMatrix.Up));rotor.TargetVelocityRPM = (float)(multiplier * elevationSpeed + diff);if (!rotor.Enabled)rotor.Enabled = true;}protected override void StopRotorMovement(){base.StopRotorMovement();if (_mainElevationRotor != null)_mainElevationRotor.TargetVelocityRPM = 0;foreach (var rotor in _secondaryElevationRotors){rotor.TargetVelocityRPM = 0f;}}protected override void ReturnToEquilibrium(){base.ReturnToEquilibrium();MoveRotorToEquilibrium(_mainElevationRotor);foreach (var block in _secondaryElevationRotors){MoveRotorToEquilibrium(block);}}protected override void PrintDebugInfo(){var num = _mainElevationRotor == null ? 0 : 1;Echo($"Targeting: {_isTargeting}" + $"\nGrid intersection: {_intersection}" + $"\nBase rotor: {(_azimuthRotor == null ? "null" : _azimuthRotor.CustomName)}" + $"\nMain secondary rotor: {(_mainElevationRotor == null ? "null" : _mainElevationRotor.CustomName)}" + $"\nSecondary rotors: {_secondaryElevationRotors.Count + num}" + $"\nWeapons: {_guns.Count}" + $"\nTools: {_tools.Count}" + $"\nLights: {_lightConfigs.Count}" + $"\nTimers: {_timerConfigs.Count}" + $"\nCameras: {_cameras.Count}" + $"\nDesignators: {_designators.Count}" + $"\nMuzzle velocity: {_muzzleVelocity} m/s" + $"\nIs Firing: {_isShooting}" );}public override void OnNewTarget(){base.OnNewTarget();_elevationPID.Reset();}}class SingleAxisRotorTurretGroup : RotorTurretGroupBase {public SingleAxisRotorTurretGroup(IMyBlockGroup group, TurretVariables defaultVars, Program program, HashSet&lt;IMyCubeGrid&gt; shipGrids, Dictionary&lt;long, FriendlyData&gt; friendlyData): base(group, defaultVars, program, shipGrids, friendlyData){}protected override bool SortBlocks(List&lt;IMyTerminalBlock&gt; _groupBlocks, bool verbose){ClearBlocks();Log.Clear();foreach (var block in _groupBlocks){CollectBlocks(block);}foreach (var rotor in _unsortedRotors){if (!rotor.IsAttached){continue;}if (_azimuthRotor != null){_duplicateAzimuths.Add(rotor);continue;}_rotorTurretReference = GetTurretReferenceOnRotorHead(rotor);if (_rotorTurretReference != null){_azimuthRotor = rotor;GetRotorRestAngle(rotor);AddRotorGridsToHash(rotor, false);break;}}if (_duplicateAzimuths.Count &gt; 0){Log.Warning("Only one rotor is\n allowed per gimbal. Additional ones\n will be ignored.", false);foreach (var r in _duplicateAzimuths){Log.WarningOutput.Append($"  - \"{r.CustomName}\"\n");}Log.WarningOutput.Append("\n");}bool noErrors = true;if (_guns.Count == 0 &amp;&amp; _tools.Count == 0 &amp;&amp; _cameras.Count == 0 &amp;&amp; _lightConfigs.Count == 0){if (verbose)Log.Error("No weapons, tools, lights or\ncameras found");noErrors = false;}if (_designators.Count == 0){if (verbose)Log.Error("No designators found");noErrors = false;}if (_azimuthRotor == null){if (verbose)Log.Error("No rotor found");noErrors = false;}_vitalBlocks.Add(_azimuthRotor);_vitalBlocks.Add(_rotorTurretReference);_vitalBlocks.AddRange(_guns);_vitalBlocks.AddRange(_tools);_vitalBlocks.AddRange(_cameras);foreach (var lightConfig in _lightConfigs){_vitalBlocks.Add(lightConfig.Light);}return noErrors;}protected override void RotorTurretTargeting(){if (!_azimuthRotor.IsAttached)return;Echo($"Rotor gimbal is targeting");Vector3D aimPosition=GetTargetPoint(ref _averageWeaponPos,_designator);Vector3D targetDirection=aimPosition-_averageWeaponPos;Vector3D turretFrontVec=_rotorTurretReference.WorldMatrix.Forward;MatrixD turretBaseMatrix=GetBaseMatrix(turretFrontVec,_azimuthRotor.WorldMatrix.Up);double azimuthAngle;GetAzimuthAngle(ref targetDirection,ref turretBaseMatrix,out azimuthAngle);azimuthAngle=GetAllowedRotationAngle(azimuthAngle,_azimuthRotor);double azimuthError=ComputeRotorHeadingError(_azimuthRotor,ref _lastAzimuthMatrix);double azimuthErrorRate=azimuthError/MainUpdateInterval*MathHelper.RadiansPerSecondToRPM;double azimuthSpeed=_azimuthPID.Control(azimuthAngle);azimuthSpeed=MathHelper.Clamp(azimuthSpeed,-_maxRotorSpeed,_maxRotorSpeed);_azimuthRotor.TargetVelocityRPM=(float)(azimuthSpeed+azimuthErrorRate);if(!_azimuthRotor.Enabled)_azimuthRotor.Enabled=true;bool inRange=_autoEngagementRange*_autoEngagementRange&gt;=targetDirection.LengthSquared();bool angleWithinTolerance=VectorMath.IsDotProductWithinTolerance(turretFrontVec,targetDirection,_toleranceDotProduct);bool shootWeapons=false;if(angleWithinTolerance){if(_designator.IsUnderControl&amp;&amp;_designator.IsShooting)// If manually controlled
{shootWeapons=true;}else if(_designator.HasTarget&amp;&amp;inRange)// If AI controlled
{if(!_onlyShootWhenDesignatorShoots)shootWeapons=true;else if(_onlyShootWhenDesignatorShoots&amp;&amp;_designator.IsShooting)shootWeapons=true;}}_intersection=false;if(shootWeapons){if(_avoidFriendlyFireOtherShips){_intersection=IsOccludedByFriendlyShip(ref _averageWeaponPos,ref turretFrontVec);}if(_avoidFriendlyFire&amp;&amp;!_intersection){_intersection=CheckForFF(ref _averageWeaponPos,ref turretFrontVec,_azimuthRotor);}shootWeapons=!_intersection;}ToggleWeaponsAndTools(shootWeapons,_isTargeting,_guns);}protected override void PrintDebugInfo(){Echo($"Targeting: {_isTargeting}" + $"\nGrid intersection: {_intersection}" + $"\nWeapons: {_guns.Count}" + $"\nTools: {_tools.Count}" + $"\nLights: {_lightConfigs.Count}" + $"\nTimers: {_timerConfigs.Count}" + $"\nCameras: {_cameras.Count}" + $"\nDesignators: {_designators.Count}" + $"\nMuzzle velocity: {_muzzleVelocity} m/s" + $"\nIs Firing: {_isShooting}");}}abstract class RotorTurretGroupBase:TurretGroupBase{protected List&lt;IMyCameraBlock&gt;_cameras=new List&lt;IMyCameraBlock&gt;();protected List&lt;IMyFunctionalBlock&gt;_tools=new List&lt;IMyFunctionalBlock&gt;();protected List&lt;IMyUserControllableGun&gt;_guns=new List&lt;IMyUserControllableGun&gt;();protected Dictionary&lt;long,float&gt;_rotorRestAngles=new Dictionary&lt;long,float&gt;();protected Dictionary&lt;IMyCubeGrid,IMyTerminalBlock&gt;_gunGridDict=new Dictionary&lt;IMyCubeGrid,IMyTerminalBlock&gt;(),_toolGridDict=new Dictionary&lt;IMyCubeGrid,IMyTerminalBlock&gt;(),_lightGridDict=new Dictionary&lt;IMyCubeGrid,IMyTerminalBlock&gt;();protected HashSet&lt;IMyCubeGrid&gt;_weaponGrids=new HashSet&lt;IMyCubeGrid&gt;(),_rotorGrids=new HashSet&lt;IMyCubeGrid&gt;();protected List&lt;IMyMotorStator&gt;_unsortedRotors=new List&lt;IMyMotorStator&gt;(),_duplicateAzimuths=new List&lt;IMyMotorStator&gt;();protected IMyCubeGrid _azimuthTopGrid;protected IMyMotorStator _azimuthRotor;protected IMyTerminalBlock _rotorTurretReference;protected double _proportionalGain,_integralGain,_derivativeGain,_maxRotorSpeed,_equilibriumRotationSpeed,_integralDecayRatio;protected int _returnToRestDelay=20;protected MatrixD _lastAzimuthMatrix;protected DecayingIntegralPID _azimuthPID=new DecayingIntegralPID(0,0,0,MainUpdateInterval,0);const double RotorStopThresholdRad=0.5/180.0*Math.PI;public RotorTurretGroupBase(IMyBlockGroup group,TurretVariables defaultVars,Program program,HashSet&lt;IMyCubeGrid&gt;shipGrids,Dictionary&lt;long,FriendlyData&gt;friendlyData):base(group,defaultVars,program,shipGrids,friendlyData){}public override void UpdateGeneralSettings(TurretVariables defaultVars){if(defaultVars==null)return;base.UpdateGeneralSettings(defaultVars);_proportionalGain=defaultVars.ProportionalGain;_integralGain=defaultVars.IntegralGain;_derivativeGain=defaultVars.DerivativeGain;_maxRotorSpeed=defaultVars.MaxRotationSpeed;_equilibriumRotationSpeed=defaultVars.EquilibriumRotationSpeed;_integralDecayRatio=defaultVars.IntegralDecayRatio;SetPidValues();}protected bool CollectBlocks(IMyTerminalBlock block){if(!block.IsSameConstructAs(_program.Me))return false;var tcb=block as IMyTurretControlBlock;if(tcb!=null&amp;&amp;StringExtensions.Contains(block.CustomName,_designatorName)){if(!tcb.IsFunctional)return false;_designators.Add(new TurretInterface(tcb));tcb.AIEnabled=true;return false;}var t=block as IMyLargeTurretBase;if(t!=null&amp;&amp;StringExtensions.Contains(block.CustomName,_designatorName)){if(!t.IsFunctional)return false;_designators.Add(new TurretInterface(t));EnableTurretAI(t);return false;}var w=block as IMyUserControllableGun;if(w!=null){if(w is IMyLargeTurretBase)return false;_guns.Add(w);_gunGridDict[block.CubeGrid]=block;_weaponGrids.Add(block.CubeGrid);return false;}var c=block as IMyCameraBlock;if(c!=null){_cameras.Add(c);_toolGridDict[block.CubeGrid]=block;_weaponGrids.Add(block.CubeGrid);return false;}var tl=block as IMyShipToolBase;if(tl!=null){_tools.Add(tl);_toolGridDict[block.CubeGrid]=block;_weaponGrids.Add(block.CubeGrid);return false;}var d=block as IMyShipDrill;if(d!=null){_tools.Add(d);_toolGridDict[block.CubeGrid]=block;_weaponGrids.Add(block.CubeGrid);return false;}var l=block as IMyLightingBlock;if(l!=null){CollectLight(l);_lightGridDict[block.CubeGrid]=block;_weaponGrids.Add(block.CubeGrid);return false;}var ti=block as IMyTimerBlock;if(ti!=null){CollectTimer(ti);return false;}var r=block as IMyMotorStator;if(r!=null&amp;&amp;r.IsFunctional){_unsortedRotors.Add(r);_rotorGrids.Add(r.CubeGrid);return false;}return false;}protected void GetRotorRestAngle(IMyMotorStator r){bool useManual=false;float restAngle=0;// Migrate old configs
if(!r.CustomData.Contains(IniRotorSection)&amp;&amp;!string.IsNullOrWhiteSpace(IniRotorSection)){useManual=float.TryParse(r.CustomData,out restAngle);}Ini.Clear();if(Ini.TryParse(r.CustomData)){useManual=Ini.Get(IniRotorSection,IniRotorManualRestAngle).ToBoolean(useManual);restAngle=Ini.Get(IniRotorSection,IniRotorRestAngle).ToSingle(restAngle);}Ini.Set(IniRotorSection,IniRotorManualRestAngle,useManual);Ini.Set(IniRotorSection,IniRotorRestAngle,restAngle);string output=Ini.ToString();if(!string.Equals(output,r.CustomData)){r.CustomData=output;}if(useManual){_rotorRestAngles[r.EntityId]=MathHelper.ToRadians(restAngle)%MathHelper.TwoPi;}}protected void AddRotorGridsToHash(IMyMotorStator r,bool addBase=true){if(addBase)_thisTurretGrids.Add(r.CubeGrid);if(r.IsAttached)_thisTurretGrids.Add(r.TopGrid);}protected IMyTerminalBlock GetTurretReferenceOnRotorHead(IMyMotorStator rotor){IMyTerminalBlock block=null;IMyCubeGrid rotorHeadGrid=rotor.TopGrid;if(rotorHeadGrid==null)return null;if(_gunGridDict.TryGetValue(rotorHeadGrid,out block))return block;if(_toolGridDict.TryGetValue(rotorHeadGrid,out block))return block;if(_lightGridDict.TryGetValue(rotorHeadGrid,out block))return block;return null;}protected override void ClearBlocks(){base.ClearBlocks();_cameras.Clear();_tools.Clear();_guns.Clear();_rotorRestAngles.Clear();_gunGridDict.Clear();_toolGridDict.Clear();_lightGridDict.Clear();_weaponGrids.Clear();_unsortedRotors.Clear();_rotorGrids.Clear();_duplicateAzimuths.Clear();_rotorTurretReference=null;_designator=null;_azimuthTopGrid=null;_azimuthRotor=null;}protected virtual void SetPidValues(){_azimuthPID.Kp=_proportionalGain;_azimuthPID.Ki=_integralGain;_azimuthPID.Kd=_derivativeGain;_azimuthPID.DecayRatio=_integralDecayRatio;}protected override void ParseIni(){base.ParseIni();double kp=_proportionalGain,ki=_integralGain,kd=_derivativeGain,decay=_integralDecayRatio;string name=Group.Name;_proportionalGain=Ini.Get(name,IniKp).ToDouble(_proportionalGain);_integralGain=Ini.Get(name,IniKi).ToDouble(_integralGain);_derivativeGain=Ini.Get(name,IniKd).ToDouble(_derivativeGain);_integralDecayRatio=Ini.Get(name,IniIntegralDecayRatio).ToDouble(_integralDecayRatio);_equilibriumRotationSpeed=Ini.Get(name,IniRestRpm).ToDouble(_equilibriumRotationSpeed);_maxRotorSpeed=Ini.Get(name,IniMaxRotorSpeed).ToDouble(_maxRotorSpeed);if(kp!=_proportionalGain||ki!=_integralGain||kd!=_derivativeGain||decay!=_integralDecayRatio){SetPidValues();}_returnToRestDelay=(int)(Ini.Get(name,IniRestTime).ToDouble(_returnToRestDelay/UpdatesPerSecond)*UpdatesPerSecond);}protected override void WriteIni(){base.WriteIni();string name=Group.Name;Ini.Set(name,IniMaxRotorSpeed,_maxRotorSpeed);Ini.Set(name,IniKp,_proportionalGain);Ini.Set(name,IniKi,_integralGain);Ini.Set(name,IniIntegralDecayRatio,_integralDecayRatio);Ini.Set(name,IniKd,_derivativeGain);Ini.Set(name,IniRestRpm,_equilibriumRotationSpeed);Ini.Set(name,IniRestTime,_returnToRestDelay/UpdatesPerSecond);IniOutput.Clear();IniOutput.Append(Ini.ToString());}protected override void SetInitialWeaponParameters(){DominantWeaponType weaponType=GetDominantWeaponType(_guns);SetWeaponParameters(weaponType);}protected abstract void RotorTurretTargeting();protected override void HandleTargeting(){if(_designator==null){ToggleWeaponsAndTools(false,false,_guns);return;}if(_isTargeting&amp;&amp;_designator.IsWorking){RotorTurretTargeting();_framesSinceLastLock=0;}else{ToggleWeaponsAndTools(false,false,_guns);if(_framesSinceLastLock&lt;_returnToRestDelay){_framesSinceLastLock++;StopRotorMovement();}else{ReturnToEquilibrium();}}}protected virtual void StopRotorMovement(){if(_azimuthRotor!=null)_azimuthRotor.TargetVelocityRPM=0;}protected virtual void ReturnToEquilibrium(){MoveRotorToEquilibrium(_azimuthRotor);}protected void MoveRotorToEquilibrium(IMyMotorStator rotor){if(!rotor.Enabled)rotor.Enabled=true;float restAngle=0;float currentAngle=rotor.Angle;float lowerLimitRad=rotor.LowerLimitRad;float upperLimitRad=rotor.UpperLimitRad;if(_rotorRestAngles.TryGetValue(rotor.EntityId,out restAngle)){if(lowerLimitRad&gt;=-MathHelper.TwoPi&amp;&amp;upperLimitRad&lt;=MathHelper.TwoPi){if(restAngle&gt;upperLimitRad)restAngle-=MathHelper.TwoPi;else if(restAngle&lt;lowerLimitRad)restAngle+=MathHelper.TwoPi;}else{if(restAngle&gt;currentAngle+MathHelper.Pi)restAngle-=MathHelper.TwoPi;else if(restAngle&lt;currentAngle-MathHelper.Pi)restAngle+=MathHelper.TwoPi;}}else{if(lowerLimitRad&gt;=-MathHelper.TwoPi&amp;&amp;upperLimitRad&lt;=MathHelper.TwoPi)restAngle=(lowerLimitRad+upperLimitRad)*0.5f;else restAngle=currentAngle;}float angularDeviation=(restAngle-currentAngle);float targetVelocity=(float)Math.Round(angularDeviation*_equilibriumRotationSpeed,2);if(Math.Abs(angularDeviation)&lt;RotorStopThresholdRad){rotor.TargetVelocityRPM=0;}else{rotor.TargetVelocityRPM=targetVelocity;}}protected override void OnNotFunctional(){StopRotorMovement();}protected override void ToggleWeaponsAndTools&lt;T&gt;(bool isShooting,bool isTargeting,List&lt;T&gt;guns){base.ToggleWeaponsAndTools(isShooting,isTargeting,guns);if(_toolsOn!=isTargeting){ChangePowerState(_tools,isTargeting);_toolsOn=isTargeting;}}static void ChangePowerState&lt;T&gt;(List&lt;T&gt;list,bool stateToSet)where T:class,IMyFunctionalBlock{foreach(IMyFunctionalBlock block in list){if(block.Enabled!=stateToSet)block.Enabled=stateToSet;}}public override void OnNewTarget(){base.OnNewTarget();_azimuthPID.Reset();}protected override Vector3D GetAverageWeaponPosition(){Vector3D positionSum=Vector3D.Zero;if(_guns.Count!=0){foreach(var block in _guns){positionSum+=block.GetPosition();}return positionSum/_guns.Count;}/*
* This is a fall-through in case the user has no guns. The code will use the
* tools for alignment instead.
*/
int toolCount=_lightConfigs.Count+_cameras.Count+_tools.Count;if(toolCount==0)return positionSum;foreach(var lightConfig in _lightConfigs){positionSum+=lightConfig.Light.GetPosition();}foreach(var block in _cameras){positionSum+=block.GetPosition();}foreach(var block in _tools){positionSum+=block.GetPosition();}return positionSum/toolCount;}protected double ComputeRotorHeadingError(IMyMotorStator rotor,ref MatrixD previous){Vector3D forward=rotor.WorldMatrix.Forward;double angle=CalculateRotorDeviationAngle(ref forward,ref previous);previous=rotor.WorldMatrix;return angle;}static double CalculateRotorDeviationAngle(ref Vector3D forwardVector,ref MatrixD lastOrientation){Vector3D up=lastOrientation.Up,forward=lastOrientation.Forward;Vector3D flattenedForward=VectorMath.Rejection(forwardVector,up);return VectorMath.AngleBetween(flattenedForward,forward)*Math.Sign(flattenedForward.Dot(lastOrientation.Left));}protected double GetAllowedRotationAngle(double desiredDelta,IMyMotorStator rotor){double desiredAngle=rotor.Angle+desiredDelta;if((desiredAngle&lt;rotor.LowerLimitRad&amp;&amp;desiredAngle+MathHelper.TwoPi&lt;rotor.UpperLimitRad)||(desiredAngle&gt;rotor.UpperLimitRad&amp;&amp;desiredAngle-MathHelper.TwoPi&gt;rotor.LowerLimitRad)){return-Math.Sign(desiredDelta)*(MathHelper.TwoPi-Math.Abs(desiredDelta));}return desiredDelta;}protected MatrixD GetBaseMatrix(Vector3D front,Vector3D up){var upNorm=VectorMath.SafeNormalize(up);var left=Vector3D.Cross(up,front);var leftNorm=VectorMath.SafeNormalize(left);var forwardNorm=Vector3D.Cross(leftNorm,upNorm);// By definition, should be normalized already
return new MatrixD{Forward=forwardNorm,Left=leftNorm,Up=upNorm};}}
#endregion
class SlavedAIGroup:TurretGroupBase{List&lt;IMyLargeTurretBase&gt;_slavedTurrets=new List&lt;IMyLargeTurretBase&gt;();public SlavedAIGroup(IMyBlockGroup group,TurretVariables defaultVars,Program program,HashSet&lt;IMyCubeGrid&gt;shipGrids,Dictionary&lt;long,FriendlyData&gt;friendlyData):base(group,defaultVars,program,shipGrids,friendlyData){}protected override void ClearBlocks(){base.ClearBlocks();_slavedTurrets.Clear();_designators.Clear();_timerConfigs.Clear();_lightConfigs.Clear();}protected override bool SortBlocks(List&lt;IMyTerminalBlock&gt;_groupBlocks,bool verbose){ClearBlocks();Log.Clear();foreach(IMyTerminalBlock block in _groupBlocks){if(!block.IsSameConstructAs(_program.Me))continue;var light=block as IMyLightingBlock;if(light!=null){CollectLight(light);continue;}var timer=block as IMyTimerBlock;if(timer!=null){CollectTimer(timer);continue;}var tcb=block as IMyTurretControlBlock;if(tcb!=null&amp;&amp;StringExtensions.Contains(block.CustomName,_designatorName)){_designators.Add(new TurretInterface(tcb));continue;}var turret=block as IMyLargeTurretBase;if(turret==null)continue;if(StringExtensions.Contains(turret.CustomName,_designatorName)&amp;&amp;turret.IsFunctional){_designators.Add(new TurretInterface(turret));EnableTurretAI(turret);}else{turret.Range=1f;if(turret.EnableIdleRotation)turret.EnableIdleRotation=false;_slavedTurrets.Add(turret);}}bool setupError=false;if(_slavedTurrets.Count==0){if(verbose)Log.Error($"No slaved AI turrets found");setupError=true;}if(_designators.Count==0)/* second null check (If STILL null) */
{if(verbose)Log.Error($"No designators found");setupError = true;}_vitalBlocks.AddRange(_slavedTurrets);return !setupError;}protected override void SetInitialWeaponParameters(){DominantWeaponType weaponType = GetDominantWeaponType(_slavedTurrets);SetWeaponParameters(weaponType);}protected override void HandleTargeting(){if (_designator == null){_isShooting = false;ToggleWeaponsAndTools(false, false, _slavedTurrets);return;}if (_isTargeting &amp;&amp; _designator.IsWorking){_isShooting = false;foreach (IMyLargeTurretBase t in _slavedTurrets)SlaveAITurret(t);Echo($"Slaved turret(s) targeting");}else {if (_isShooting != false){foreach (IMyLargeTurretBase t in _slavedTurrets){t.Shoot = false;}_isShooting = false;}Echo($"Slaved turret(s) idle");}foreach(var timerConfig in _timerConfigs){timerConfig.Update(MainUpdateInterval,_isShooting,_isTargeting);}}void SlaveAITurret(IMyLargeTurretBase turret){Vector3D turretPos=turret.GetPosition();Vector3D aimPosition=GetTargetPoint(ref turretPos,_designator);MatrixD turretMatrix=turret.WorldMatrix;Vector3D turretDirection=VectorAzimuthElevation(turret);Vector3D targetDirectionNorm=Vector3D.Normalize(aimPosition-turretMatrix.Translation);double az=0;double el=0;GetRotationAngles(ref targetDirectionNorm,ref turretMatrix,out az,out el);turret.Azimuth=(float)-az;// AZ is reverse of r.h.r. convention
turret.Elevation=(float)el;turret.SyncAzimuth();// this syncs both angles
bool inRange=_autoEngagementRange*_autoEngagementRange&gt;Vector3D.DistanceSquared(aimPosition,turretMatrix.Translation);var toleranceRads=MathHelper.ToRadians(_toleranceAngle);bool withinAngleTolerance=Math.Abs(turret.Azimuth+az)&lt;toleranceRads&amp;&amp;Math.Abs(turret.Elevation-el)&lt;toleranceRads;bool shouldShoot=false;if(withinAngleTolerance){if(_designator.IsUnderControl&amp;&amp;_designator.IsShooting)shouldShoot=true;else if(_designator.HasTarget){if(inRange){if(!_onlyShootWhenDesignatorShoots)shouldShoot=true;else if(_designator.IsShooting)shouldShoot=true;}}}_intersection=false;if(shouldShoot){if(_avoidFriendlyFireOtherShips){_intersection=IsOccludedByFriendlyShip(ref turretPos,ref targetDirectionNorm);}if(_avoidFriendlyFire&amp;&amp;!_intersection){_intersection=CheckForFF(ref turretPos,ref targetDirectionNorm,turret);}shouldShoot=!_intersection;}turret.Shoot=shouldShoot;_isShooting|=shouldShoot;if(turret.EnableIdleRotation)turret.EnableIdleRotation=false;}protected override void PrintDebugInfo(){Echo($"Targeting: {_isTargeting}" + $"\nGrid intersection: {_intersection}" + $"\nSlaved turrets: {_slavedTurrets.Count}" + $"\nDesignators: {_designators.Count}" + $"\nLights: {_lightConfigs.Count}" + $"\nTimers: {_timerConfigs.Count}");}protected override void OnNotFunctional(){ResetTurretTargeting(_slavedTurrets);}static void ResetTurretTargeting(List&lt;IMyLargeTurretBase&gt;turrets){foreach(var t in turrets){if(!t.AIEnabled){t.ResetTargetingToDefault();t.EnableIdleRotation=false;t.Shoot=false;t.Range=float.MaxValue;}}}protected override Vector3D GetAverageWeaponPosition(){Vector3D positionSum=Vector3D.Zero;if(_slavedTurrets.Count!=0){foreach(var block in _slavedTurrets){positionSum+=block.GetPosition();}return positionSum/_slavedTurrets.Count;}return positionSum;}}abstract class TurretGroupBase{
#region Member Fields
public Log Log=new Log();public StringBuilder EchoOutput=new StringBuilder(),IniOutput=new StringBuilder();public MyIni Ini=new MyIni();public IMyBlockGroup Group{get;private set;}protected Program _program;protected Dictionary&lt;Vector3D,bool&gt;_scannedBlocks=new Dictionary&lt;Vector3D,bool&gt;();protected Dictionary&lt;long,FriendlyData&gt;_friendlyData=new Dictionary&lt;long,FriendlyData&gt;();protected List&lt;IMyTerminalBlock&gt;_groupBlocks=new List&lt;IMyTerminalBlock&gt;(),_vitalBlocks=new List&lt;IMyTerminalBlock&gt;();protected List&lt;TurretInterface&gt;_designators=new List&lt;TurretInterface&gt;();protected HashSet&lt;IMyCubeGrid&gt;_shipGrids=new HashSet&lt;IMyCubeGrid&gt;(),_thisTurretGrids=new HashSet&lt;IMyCubeGrid&gt;();protected Vector3D _gridVelocity,_targetVec,_averageWeaponPos,_gravity,_lastTargetVelocity=Vector3D.Zero;protected double _muzzleVelocity,_toleranceDotProduct,_toleranceAngle,_convergenceRange,_gameMaxSpeed,_autoEngagementRange=800,_gravityMultiplier,_rocketInitVelocity,_rocketAcceleration;protected bool _isSetup=false,_firstRun=true,_isRocket,_intersection=false,_avoidFriendlyFire=true,_avoidFriendlyFireOtherShips=true,_isShooting=false,_isTargeting=false,_toolsOn=true,_onlyShootWhenDesignatorShoots=false,_init=false;protected long _lastTargetEntityId=0;protected int _framesSinceLastLock=141,_errorCount=0,_warningCount=0;protected string _designatorName;protected TurretInterface _designator;protected List&lt;TimerConfig&gt;_timerConfigs=new List&lt;TimerConfig&gt;();protected List&lt;LightConfig&gt;_lightConfigs=new List&lt;LightConfig&gt;();protected enum DominantWeaponType{None=0,Projectile=1,Rocket=2};private bool _isInoperable=false;
#endregion

#region Constructor
public TurretGroupBase(IMyBlockGroup group,TurretVariables defaultVars,Program program,HashSet&lt;IMyCubeGrid&gt;shipGrids,Dictionary&lt;long,FriendlyData&gt;friendlyData){Group=group;_program=program;_shipGrids=shipGrids;_friendlyData=friendlyData;UpdateGeneralSettings(defaultVars);GetTurretGroupBlocks(true,defaultVars);}
#endregion

#region Ini Config
protected virtual void WriteIni(){Ini.Clear();string name=Group.Name;Ini.TryParse(_program.Me.CustomData,Group.Name);Ini.Set(name,IniMuzzleVelocity,_muzzleVelocity);Ini.Set(name,IniIsRocket,_isRocket);Ini.Set(name,IniRocketInitVel,_rocketInitVelocity);Ini.Set(name,IniRocketAccel,_rocketAcceleration);Ini.Set(name,IniAvoidFriendly,_avoidFriendlyFire);Ini.Set(name,IniAvoidFriendlyOtherShips,_avoidFriendlyFireOtherShips);Ini.Set(name,IniTolerance,_toleranceAngle);Ini.Set(name,IniConvergence,_convergenceRange);Ini.Set(name,IniEngagementRange,_autoEngagementRange);Ini.Set(name,IniShootWhenDesignatorDoes,_onlyShootWhenDesignatorShoots);Ini.Set(name,IniGravityMult,_gravityMultiplier);IniOutput.Clear();IniOutput.Append(Ini.ToString());}protected virtual void ParseIni(){Ini.Clear();string name=Group.Name;Ini.TryParse(_program.Me.CustomData,name);_muzzleVelocity=Ini.Get(name,IniMuzzleVelocity).ToDouble(_muzzleVelocity);_isRocket=Ini.Get(name,IniIsRocket).ToBoolean(_isRocket);_rocketInitVelocity=Ini.Get(name,IniRocketInitVel).ToDouble(_rocketInitVelocity);_rocketAcceleration=Ini.Get(name,IniRocketAccel).ToDouble(_rocketAcceleration);_avoidFriendlyFire=Ini.Get(name,IniAvoidFriendly).ToBoolean(_avoidFriendlyFire);_avoidFriendlyFireOtherShips=Ini.Get(name,IniAvoidFriendlyOtherShips).ToBoolean(_avoidFriendlyFireOtherShips);_convergenceRange=Ini.Get(name,IniConvergence).ToDouble(_convergenceRange);_autoEngagementRange=Ini.Get(name,IniEngagementRange).ToDouble(_autoEngagementRange);_onlyShootWhenDesignatorShoots=Ini.Get(name,IniShootWhenDesignatorDoes).ToBoolean(_onlyShootWhenDesignatorShoots);_gravityMultiplier=Ini.Get(name,IniGravityMult).ToDouble(_gravityMultiplier);double t=_toleranceAngle;_toleranceAngle=Ini.Get(name,IniTolerance).ToDouble(_toleranceAngle);if(t!=_toleranceAngle)_toleranceDotProduct=Math.Cos(_toleranceAngle*Math.PI/180);}
#endregion

#region Grabbing Blocks
public virtual void UpdateGeneralSettings(TurretVariables defaultVars){if(defaultVars==null)return;_designatorName=defaultVars.DesignatorNameTag;_gameMaxSpeed=defaultVars.GameMaxSpeed;_convergenceRange=defaultVars.ConvergenceRange;_onlyShootWhenDesignatorShoots=defaultVars.OnlyShootWhenDesignatorShoots;double t=_toleranceAngle;_toleranceAngle=defaultVars.ToleranceAngle;if(t!=_toleranceAngle)_toleranceDotProduct=Math.Cos(_toleranceAngle*Math.PI/180);}public void GetTurretGroupBlocks(bool verbose=false,TurretVariables defaultVars=null){UpdateGeneralSettings(defaultVars);Group.GetBlocks(_groupBlocks);//TODO optimize this away
_isSetup=SortBlocks(_groupBlocks,verbose);if(!_isSetup)return;if(_isInoperable)_isInoperable=false;if(!_init)SetInitialWeaponParameters();ParseIni();WriteIni();}protected abstract void SetInitialWeaponParameters();protected void CollectLight(IMyLightingBlock light){LightConfig lightConfig=null;bool tgtEnable=true;Color tgtColor=light.Color;float tgtBlinkInterval=light.BlinkIntervalSeconds;float tgtBlinkLength=light.BlinkLength;bool idleEnable=false;Color idleColor=light.Color;float idleBlinkInterval=light.BlinkIntervalSeconds;float idleBlinkLength=light.BlinkLength;Ini.Clear();if(Ini.TryParse(light.CustomData)){tgtEnable=Ini.Get(IniLightSectionTargeting,IniLightEnable).ToBoolean(tgtEnable);tgtColor=MyIniHelper.GetColor(IniLightSectionTargeting,IniLightColor,Ini,tgtColor);tgtBlinkInterval=Ini.Get(IniLightSectionTargeting,IniLightBlinkInterval).ToSingle(tgtBlinkInterval);tgtBlinkLength=Ini.Get(IniLightSectionTargeting,IniLightBlinkLength).ToSingle(tgtBlinkLength);idleEnable=Ini.Get(IniLightSectionIdle,IniLightEnable).ToBoolean(idleEnable);idleColor=MyIniHelper.GetColor(IniLightSectionIdle,IniLightColor,Ini,idleColor);idleBlinkInterval=Ini.Get(IniLightSectionIdle,IniLightBlinkInterval).ToSingle(idleBlinkInterval);idleBlinkLength=Ini.Get(IniLightSectionIdle,IniLightBlinkLength).ToSingle(idleBlinkLength);}Ini.Set(IniLightSectionTargeting,IniLightEnable,tgtEnable);MyIniHelper.SetColor(IniLightSectionTargeting,IniLightColor,tgtColor,Ini);Ini.Set(IniLightSectionTargeting,IniLightBlinkInterval,tgtBlinkInterval);Ini.Set(IniLightSectionTargeting,IniLightBlinkLength,tgtBlinkLength);Ini.Set(IniLightSectionIdle,IniLightEnable,idleEnable);MyIniHelper.SetColor(IniLightSectionIdle,IniLightColor,idleColor,Ini);Ini.Set(IniLightSectionIdle,IniLightBlinkInterval,idleBlinkInterval);Ini.Set(IniLightSectionIdle,IniLightBlinkLength,idleBlinkLength);lightConfig=new LightConfig(light,tgtEnable,tgtColor,tgtBlinkInterval,tgtBlinkLength,idleEnable,idleColor,idleBlinkInterval,idleBlinkLength);string output=Ini.ToString();if(!string.Equals(output,light.CustomData)){light.CustomData=output;}if(lightConfig!=null){_lightConfigs.Add(lightConfig);}}protected void CollectTimer(IMyTimerBlock timer){TimerConfig timerConfig=null;TimerConfig.TurretState triggerState=TimerConfig.TurretState.Firing;bool shouldRetrigger=true;double retriggerInterval=0.1;Ini.Clear();if(Ini.TryParse(timer.CustomData)){string triggerStateString=Ini.Get(IniTimerSection,IniTimerTriggerState).ToString();if(!Enum.TryParse(triggerStateString,true,out triggerState)){triggerState=TimerConfig.TurretState.None;}shouldRetrigger=Ini.Get(IniTimerSection,IniTimerRetrigger).ToBoolean(shouldRetrigger);retriggerInterval=Ini.Get(IniTimerSection,IniTimerRetriggerInterval).ToDouble(retriggerInterval);}Ini.Set(IniTimerSection,IniTimerTriggerState,triggerState.ToString());Ini.SetComment(IniTimerSection,IniTimerTriggerState,IniCommentTimerTriggerState);Ini.Set(IniTimerSection,IniTimerRetrigger,shouldRetrigger);Ini.Set(IniTimerSection,IniTimerRetriggerInterval,retriggerInterval);timerConfig=new TimerConfig(timer,triggerState,shouldRetrigger,retriggerInterval);string output=Ini.ToString();if(!string.Equals(output,timer.CustomData)){timer.CustomData=output;}if(timerConfig!=null){_timerConfigs.Add(timerConfig);}}protected virtual void ClearBlocks(){_timerConfigs.Clear();_lightConfigs.Clear();_thisTurretGrids.Clear();_designators.Clear();_vitalBlocks.Clear();_designator=null;}protected abstract bool SortBlocks(List&lt;IMyTerminalBlock&gt;_groupBlocks,bool verbose);protected DominantWeaponType GetDominantWeaponType&lt;T&gt;(List&lt;T&gt;weapons){int projectiles=0;int rockets=0;foreach(var b in weapons){if(b is IMySmallGatlingGun||b is IMyLargeGatlingTurret||b is IMyLargeInteriorTurret)projectiles++;else if(b is IMySmallMissileLauncher||b is IMyLargeMissileTurret)rockets++;}if(projectiles==0&amp;&amp;rockets==0)return DominantWeaponType.None;else if(rockets&gt;projectiles)return DominantWeaponType.Rocket;return DominantWeaponType.Projectile;}protected void SetWeaponParameters(DominantWeaponType weaponType){switch(weaponType){case DominantWeaponType.None:_muzzleVelocity=3e8;_isRocket=false;break;case DominantWeaponType.Projectile:_muzzleVelocity=400;_isRocket=false;break;case DominantWeaponType.Rocket:_muzzleVelocity=200;//212.8125;
_isRocket=true;_rocketAcceleration=600;_rocketInitVelocity=100;break;}}
#endregion

#region Main Entrypoint
public void DoWork(ref Vector3D gridVelocity,ref Vector3D gravity,HashSet&lt;IMyCubeGrid&gt;allShipGrids,Dictionary&lt;long,FriendlyData&gt;friendlyData,bool debugMode){EchoOutput.Clear();if(_isInoperable)return;if(_isSetup)// Verify that all vital blocks are working
_isSetup=VerifyBlocks(_vitalBlocks);// If the turret group is not functional, grab blocks and return
if(!_isSetup){GetTurretGroupBlocks(true);OnNotFunctional();if(!_isSetup)_isInoperable=true;return;}_gridVelocity=gridVelocity;_gravity=gravity;_shipGrids=allShipGrids;_friendlyData=friendlyData;_averageWeaponPos=GetAverageWeaponPosition();_designator=GetDesignatorTurret(ref _averageWeaponPos);_isTargeting=_designator.IsUnderControl||_designator.HasTarget;HandleTargeting();if(debugMode){PrintDebugInfo();Echo($"Instruction sum: {_program.Runtime.CurrentInstructionCount}");}}protected abstract void HandleTargeting();protected abstract void PrintDebugInfo();protected abstract void OnNotFunctional();
#endregion

#region Check Friendly Data
protected bool IsOccludedByFriendlyShip(ref Vector3D position,ref Vector3D direction){foreach(var kvp in _friendlyData){var friendly=kvp.Value;// Friendly out of range
if(Vector3D.DistanceSquared(friendly.Position,position)&gt;_autoEngagementRange*_autoEngagementRange)continue;Vector3D toFriendly=friendly.Position-position;// Friendly is behind you
if(Vector3D.Dot(direction,toFriendly)&lt;0)continue;Vector3D rejFriendly=VectorMath.Rejection(toFriendly,direction);double perpDist=rejFriendly.LengthSquared();if(perpDist&lt;friendly.Radius){Echo($"&gt; Occluded by friendly ship: {kvp.Key}");return true;}}return false;}
#endregion

#region Helper Functions
private bool VerifyBlocks(List&lt;IMyTerminalBlock&gt;blocks){foreach(var x in blocks){if(x.Closed)return false;}return true;}protected void Echo(string data){EchoOutput.AppendLine(data);}
#endregion

#region Targeting Functions
protected Vector3D GetTargetPoint(ref Vector3D shooterPos,TurretInterface designator){if(designator.IsUnderControl){_targetVec=designator.WorldPos+designator.Aim*_convergenceRange;_lastTargetEntityId=0;}else if(designator.HasTarget){var targetInfo=designator.GetTargetedEntity();/*
* We reset our PID controllers and make acceleration compute to zero to handle switching off targets.
*/
if(targetInfo.EntityId!=_lastTargetEntityId){_lastTargetVelocity=targetInfo.Velocity;OnNewTarget();}_lastTargetEntityId=targetInfo.EntityId;double timeToIntercept=0;double projectileInitSpeed=0;double projectileAccel=0;Vector3D gridVel;/*
** Predict a cycle ahead to overlead a slight bit. We want to overlead rather
** than under lead because the aim point is computed at the beginning of a 0.1 s
** time tick. This instead aims near the middle of the current time tick and the
** next predicted time tick.
*/
Vector3D targetPos=0.5*MainUpdateInterval*((Vector3D)targetInfo.Velocity-_gridVelocity)+targetInfo.Position;if(_isRocket){projectileInitSpeed=_rocketInitVelocity;projectileAccel=_rocketAcceleration;gridVel=Vector3D.Zero;}else{gridVel=_gridVelocity;}Vector3D targetVel=targetInfo.Velocity;timeToIntercept=CalculateTimeToIntercept(_muzzleVelocity,ref gridVel,ref shooterPos,ref targetVel,ref targetPos);Vector3D targetAccel=UpdatesPerSecond*(targetInfo.Velocity-_lastTargetVelocity);_targetVec=TrajectoryEstimation(timeToIntercept,ref targetPos,ref targetVel,ref targetAccel,_gameMaxSpeed,ref shooterPos,ref _gridVelocity,_muzzleVelocity,projectileInitSpeed,projectileAccel,_gravityMultiplier);if(targetInfo.HitPosition.HasValue)// Not aim at center
{_targetVec+=(targetInfo.HitPosition.Value-targetInfo.Position);}_lastTargetVelocity=targetInfo.Velocity;}else{_lastTargetEntityId=0;}return _targetVec;}public virtual void OnNewTarget(){}/*
** Whip's Projectile Time To Intercept - Modified 07/21/2019
*/
double CalculateTimeToIntercept(double projectileSpeed,ref Vector3D shooterVelocity,ref Vector3D shooterPosition,ref Vector3D targetVelocity,ref Vector3D targetPosition){double timeToIntercept=-1;Vector3D deltaPos=targetPosition-shooterPosition;Vector3D deltaVel=targetVelocity-shooterVelocity;Vector3D deltaPosNorm=VectorMath.SafeNormalize(deltaPos);double closingSpeed=Vector3D.Dot(deltaVel,deltaPosNorm);Vector3D closingVel=closingSpeed*deltaPosNorm;Vector3D lateralVel=deltaVel-closingVel;double diff=projectileSpeed*projectileSpeed-lateralVel.LengthSquared();if(diff&lt;0){return 0;}double projectileClosingSpeed=Math.Sqrt(diff)-closingSpeed;double closingDistance=Vector3D.Dot(deltaPos,deltaPosNorm);timeToIntercept=closingDistance/projectileClosingSpeed;return timeToIntercept;}Vector3D TrajectoryEstimation(double timeToIntercept,ref Vector3D targetPos,ref Vector3D targetVel,ref Vector3D targetAcc,double targetMaxSpeed,ref Vector3D shooterPos,ref Vector3D shooterVel,double projectileMaxSpeed,double projectileInitSpeed=0,double projectileAccMag=0,double gravityMultiplier=0){bool projectileAccelerates=projectileAccMag&gt;1e-6;bool hasGravity=gravityMultiplier&gt;1e-6;double shooterVelScaleFactor=1;if(projectileAccelerates){/*
This is a rough estimate to smooth out our initial guess based upon the missile parameters.
The reasoning is that the longer it takes to reach max velocity, the more the initial velocity
has an overall impact on the estimated impact point.
*/
shooterVelScaleFactor=Math.Min(1,(projectileMaxSpeed-projectileInitSpeed)/projectileAccMag);}/*
Estimate our predicted impact point and aim direction
*/
Vector3D estimatedImpactPoint=targetPos+timeToIntercept*(targetVel-shooterVel*shooterVelScaleFactor);if(!projectileAccelerates&amp;&amp;!hasGravity&amp;&amp;targetAcc.LengthSquared()&lt;1e-2){return estimatedImpactPoint;// No need to simulate
}Vector3D aimDirection=estimatedImpactPoint-shooterPos;Vector3D aimDirectionNorm=VectorMath.SafeNormalize(aimDirection);Vector3D projectileVel=shooterVel;Vector3D projectilePos=shooterPos;if(projectileAccelerates){projectileVel+=aimDirectionNorm*projectileInitSpeed;}else{projectileVel+=aimDirectionNorm*projectileMaxSpeed;}/*
Target trajectory estimation. We do only 10 steps since PBs are instruction limited.
*/
double dt=Math.Max(1.0/60.0,timeToIntercept*0.1);// TODO: This can be a const somewhere
double timeSum=0;double maxSpeedSq=targetMaxSpeed*targetMaxSpeed;double projectileMaxSpeedSq=projectileMaxSpeed*projectileMaxSpeed;Vector3D targetAccStep=targetAcc*dt;Vector3D projectileAccStep=aimDirectionNorm*projectileAccMag*dt;Vector3D gravityStep=_gravity*gravityMultiplier*dt;Vector3D aimOffset=Vector3D.Zero;double minDiff=double.MaxValue;for(int i=0;i&lt;10;++i){targetVel+=targetAccStep;if(targetVel.LengthSquared()&gt;maxSpeedSq)targetVel=Vector3D.Normalize(targetVel)*targetMaxSpeed;targetPos+=targetVel*dt;if(projectileAccelerates){projectileVel+=projectileAccStep;if(projectileVel.LengthSquared()&gt;projectileMaxSpeedSq){projectileVel=Vector3D.Normalize(projectileVel)*projectileMaxSpeed;projectileAccStep*=0;// FIXME: Make this configurable. This is a quick patch for 1.200 rocket behavior
}}if(hasGravity){projectileVel+=gravityStep;}projectilePos+=projectileVel*dt;Vector3D diff=(targetPos-projectilePos);double diffLenSq=diff.LengthSquared();if(diffLenSq&lt;minDiff){minDiff=diffLenSq;aimOffset=diff;}timeSum+=dt;if(timeSum&gt;timeToIntercept){break;}}Vector3D lateralOffset=VectorMath.Rejection(aimOffset,aimDirectionNorm);return estimatedImpactPoint+lateralOffset;}protected abstract Vector3D GetAverageWeaponPosition();protected static void EnableTurretAI(IMyLargeTurretBase turret){if(!turret.AIEnabled)turret.ResetTargetingToDefault();turret.EnableIdleRotation=false;}
#endregion

#region Weapon Control
protected virtual void ToggleWeaponsAndTools&lt;T&gt;(bool isShooting,bool isTargeting,List&lt;T&gt;guns)where T:IMyUserControllableGun{if(_isShooting!=isShooting){foreach(var weapon in guns){weapon.Shoot=isShooting;}_isShooting=isShooting;}foreach(var lightConfig in _lightConfigs){lightConfig.Update(isTargeting);}foreach(var timerConfig in _timerConfigs){timerConfig.Update(MainUpdateInterval,isShooting,isTargeting);}}
#endregion

#region Designator Selection
TurretInterface GetDesignatorTurret(ref Vector3D referencePos){TurretInterface closest=null;double closestDistSq=double.MaxValue;foreach(var d in _designators){if(d.IsUnderControl)return d;if(d.AiEnabled&amp;&amp;d.HasTarget){var distSq=Vector3D.DistanceSquared(d.WorldPos,referencePos);if(distSq+1e-3&lt;closestDistSq){closestDistSq=distSq;closest=d;}}}if(closest==null){closest=_designators.Count==0 ? null:_designators[0];}return closest;}
#endregion

#region Vector Math Functions
public static Vector3D VectorAzimuthElevation(IMyLargeTurretBase turret){double el=turret.Elevation;double az=turret.Azimuth;Vector3D targetDirection;Vector3D.CreateFromAzimuthAndElevation(az,el,out targetDirection);return Vector3D.TransformNormal(targetDirection,turret.WorldMatrix);}protected static void GetRotationAngles(ref Vector3D targetVector,ref MatrixD matrix,out double yaw,out double pitch){MatrixD matrixTpose;MatrixD.Transpose(ref matrix,out matrixTpose);Vector3D localTargetVector;Vector3D.TransformNormal(ref targetVector,ref matrixTpose,out localTargetVector);Vector3D flattenedTargetVector=new Vector3D(localTargetVector.X,0,localTargetVector.Z);yaw=VectorMath.AngleBetween(Vector3D.Forward,flattenedTargetVector)*Math.Sign(localTargetVector.X);//left is positive
if(Math.Abs(yaw)&lt;1E-6&amp;&amp;localTargetVector.Z&gt;0)//check for straight back case
yaw=Math.PI;if(Vector3D.IsZero(flattenedTargetVector))//check for straight up case
pitch=MathHelper.PiOver2*Math.Sign(localTargetVector.Y);else pitch=VectorMath.AngleBetween(localTargetVector,flattenedTargetVector)*Math.Sign(localTargetVector.Y);//up is positive
}protected static void GetAzimuthAngle(ref Vector3D targetVector,ref MatrixD matrix,out double azimuth){MatrixD matrixTpose;MatrixD.Transpose(ref matrix,out matrixTpose);Vector3D localTargetVector;Vector3D.TransformNormal(ref targetVector,ref matrixTpose,out localTargetVector);var flattenedTargetVector=new Vector3D(localTargetVector.X,0,localTargetVector.Z);azimuth=VectorMath.AngleBetween(Vector3D.Forward,flattenedTargetVector)*Math.Sign(localTargetVector.X);//left is positive
if(Math.Abs(azimuth)&lt;1E-6&amp;&amp;localTargetVector.Z&gt;0)//check for straight back case
azimuth=Math.PI;}protected static void GetElevationAngle(ref Vector3D targetVector,ref MatrixD matrix,out double pitch){MatrixD matrixTpose;MatrixD.Transpose(ref matrix,out matrixTpose);Vector3D localTargetVector;Vector3D.TransformNormal(ref targetVector,ref matrixTpose,out localTargetVector);var flattenedTargetVector=new Vector3D(localTargetVector.X,0,localTargetVector.Z);if(Vector3D.IsZero(flattenedTargetVector))//check for straight up case
pitch=MathHelper.PiOver2*Math.Sign(localTargetVector.Y);else pitch=VectorMath.AngleBetween(localTargetVector,flattenedTargetVector)*Math.Sign(localTargetVector.Y);//up is positive
}
#endregion

#region Intersection Checks
protected bool CheckForFF(ref Vector3D startPosWorld,ref Vector3D dirnNorm,IMyTerminalBlock ignoredBlock){Vector3D endPosWorld=startPosWorld;//This may not be precise if target is off axis by a bunch
if(_isRocket)endPosWorld+=(dirnNorm*(_muzzleVelocity-_gridVelocity.Dot(dirnNorm))-_gridVelocity)*5;else endPosWorld+=dirnNorm*1000;IMySlimBlock slim=ignoredBlock.CubeGrid.GetCubeBlock(ignoredBlock.Position);foreach(var cubeGrid in _shipGrids){if(_thisTurretGrids.Contains(cubeGrid))continue;// Inlined because profiler costs were too damn high
double radSq=cubeGrid.WorldVolume.Radius+2.5;radSq*=radSq;Vector3D startToCenter=cubeGrid.WorldVolume.Center-startPosWorld;// Fast check for when we are outside the bounding sphere
if(startToCenter.LengthSquared()&gt;radSq){Vector3D startToEnd=endPosWorld-startPosWorld;bool behindSphere=Vector3D.Dot(startToEnd,startToCenter)&gt;0;if(!behindSphere)continue;Vector3D perpDist=VectorMath.Rejection(startToCenter,startToEnd);if(perpDist.LengthSquared()&lt;radSq)return true;}Vector3D startPosGrid=WorldToGridVec(ref startPosWorld,cubeGrid);Vector3D endPosGrid=WorldToGridVec(ref endPosWorld,cubeGrid);var line=new LineD(startPosGrid,endPosGrid);Vector3D boxMin=cubeGrid.Min-Vector3I.One;Vector3D boxMax=cubeGrid.Max+Vector3I.One;var box=new BoundingBoxD(boxMin,boxMax);var intersectedLine=new LineD();if(!box.Intersect(ref line,out intersectedLine)){Echo($"&gt; No intersection");continue;}Vector3I startInt = Vector3I.Round(intersectedLine.From);Vector3I endInt = Vector3I.Round(intersectedLine.To);Vector3D diff = endInt - startInt;if (Vector3D.IsZero(diff))continue;Vector3I sign = Vector3I.Sign((Vector3)diff);Vector3D dirn = VectorMath.SafeNormalize(diff);Vector3D dirnAbs = dirn * (Vector3D)sign;Vector3D tMaxVec = 0.5 / dirnAbs;Vector3D tDelta = 2.0 * tMaxVec;Vector3I scanPos = startInt;for (int i = 0; i &lt; MaxBlocksToCheckForFF; ++i){if (i != 0 &amp;&amp; BlockExistsAtPoint(cubeGrid, ref scanPos, slim)){Echo($"&gt; Intersection at {scanPos}");return true;}if(!PointInBoxInt(ref scanPos,ref boxMin,ref boxMax))break;int idx=GetMinIndex(ref tMaxVec);switch(idx){case 0:scanPos.X+=sign.X;tMaxVec.X+=tDelta.X;break;case 1:scanPos.Y+=sign.Y;tMaxVec.Y+=tDelta.Y;break;case 2:scanPos.Z+=sign.Z;tMaxVec.Z+=tDelta.Z;break;}}}return false;}int GetMinIndex(ref Vector3D vec){var min=vec.AbsMin();if(min==vec.X)return 0;if(min==vec.Y)return 1;return 2;}static Vector3D WorldToGridVec(ref Vector3D position,IMyCubeGrid cubeGrid){var direction=position-cubeGrid.GetPosition();return Vector3D.TransformNormal(direction,MatrixD.Transpose(cubeGrid.WorldMatrix))/cubeGrid.GridSize;}static bool BlockExistsAtPoint(IMyCubeGrid cubeGrid,ref Vector3I point,IMySlimBlock blockToIgnore=null){if(!cubeGrid.CubeExists(point))return false;return cubeGrid.GetCubeBlock(point)!=blockToIgnore;}static bool PointInBoxInt(ref Vector3I point,ref Vector3D min,ref Vector3D max){return min.X&lt;=point.X&amp;&amp;point.X&lt;=max.X&amp;&amp;min.Y&lt;=point.Y&amp;&amp;point.Y&lt;=max.Y&amp;&amp;min.Z&lt;=point.Z&amp;&amp;point.Z&lt;=max.Z;}static bool PointInBox(ref Vector3D point,ref Vector3D min,ref Vector3D max){return min.X&lt;=point.X&amp;&amp;point.X&lt;=max.X&amp;&amp;min.Y&lt;=point.Y&amp;&amp;point.Y&lt;=max.Y&amp;&amp;min.Z&lt;=point.Z&amp;&amp;point.Z&lt;=max.Z;}
#endregion
}public class TurretInterface{public IMyTurretControlBlock TCB{get;private set;}=null;public IMyLargeTurretBase T{get;private set;}=null;List&lt;IMyFunctionalBlock&gt;_tools=new List&lt;IMyFunctionalBlock&gt;();List&lt;IMyUserControllableGun&gt;_weps=new List&lt;IMyUserControllableGun&gt;();private TurretInterface(){}public TurretInterface(IMyLargeTurretBase t){T=t;}public TurretInterface(IMyTurretControlBlock tcb){TCB=tcb;TCB.GetTools(_tools);foreach(var t in _tools){var w=t as IMyUserControllableGun;if(w!=null){_weps.Add(w);}}}public MyDetectedEntityInfo GetTargetedEntity(){return T!=null ? T.GetTargetedEntity():TCB.GetTargetedEntity();}public Vector3D Aim{get{if(T!=null){return TurretGroupBase.VectorAzimuthElevation(T);}return TCB.GetShootDirection();}}public void ResetTargeting(){if(T!=null){T.ResetTargetingToDefault();T.Range=float.MaxValue;return;}TCB.AIEnabled=true;TCB.Range=float.MaxValue;}public bool IsUnderControl{get{return T!=null ? T.IsUnderControl:TCB.IsUnderControl;}}public bool IsShooting{get{if(T!=null){return T.IsShooting;}foreach(var w in _weps){if(w.IsShooting){return true;}}return false;}}public bool IsWorking{get{return T!=null ? T.IsWorking:TCB.IsWorking&amp;&amp;(TCB.AzimuthRotor!=null||TCB.ElevationRotor!=null)&amp;&amp;(_tools.Count&gt;0||TCB.Camera!=null);}}public bool AiEnabled{get{return T!=null ? T.AIEnabled:TCB.AIEnabled;}}public bool HasTarget{get{return T!=null ? T.HasTarget:TCB.HasTarget;}}public Vector3D WorldPos{get{if(T!=null)return T.GetPosition();var ds=TCB.GetDirectionSource();if(ds!=null)return ds.GetPosition();return Vector3D.Zero;}}}
#endregion

#region Helper Classes/Functions

#region General Utilities
void MigrateConfig(){if(!Me.CustomData.Contains(_iniMigrationKey))return;// Hijack our INI builder for a bit...
_iniOutput.Clear();_iniOutput.Append(Me.CustomData);foreach(var keyValue in _iniMigrationDictionary){_iniOutput.Replace(keyValue.Key,keyValue.Value);}Me.CustomData=_iniOutput.ToString();_iniOutput.Clear();Echo("Config Migrated!\n");}const int MAX_BSOD_WIDTH = 40;const string BSOD_TEMPLATE = "\n" + "{0} - v{1}\n" + "A fatal exception has occured at\n" + "{2}. The current\n" + "program will be terminated.\n" + "\n" + "EXCEPTION:\n" + "{3}\n" + "\n" + "* Please REPORT this crash message to\n" + "the Bug Reports discussion of this script\n" + "\n" + "* Press RECOMPILE to restart the program";StringBuilder bsodBuilder = new StringBuilder();void PrintBsod(IMyTextSurface s, string scriptName, string version, float fontSize, Exception e){s.ContentType = ContentType.TEXT_AND_IMAGE;s.Alignment = TextAlignment.LEFT;s.Font = "Monospace";s.FontSize = fontSize;s.FontColor = Color.White;s.BackgroundColor = Color.Blue;string exceptionStr = e.ToString();string[] exceptionLines = exceptionStr.Split('\n');bsodBuilder.Clear();foreach (string line in exceptionLines){if (line.Length &lt;= MAX_BSOD_WIDTH){bsodBuilder.Append(line).Append("\n");}else {string[] words = line.Split(' ');int lineLength = 0;foreach (string word in words){lineLength += word.Length;if (lineLength &gt;= MAX_BSOD_WIDTH){lineLength = 0;bsodBuilder.Append("\n");}bsodBuilder.Append(word).Append(" ");}bsodBuilder.Append("\n");}}s.WriteText(string.Format(BSOD_TEMPLATE,scriptName.ToUpperInvariant(),version,DateTime.Now,bsodBuilder));}
#endregion

#region Turret Group Config Classes
public class TimerConfig{IMyTimerBlock _timer;double _retriggerInterval;double _timeSinceTrigger;bool _shouldRetrigger;bool _hasTriggered;public enum TurretState{None=0,Idle=1,Firing=2,Targeting=4,NotIdle=~Idle,NotFiring=~Firing,NotTargeting=~Targeting}TurretState _triggerStates;public TimerConfig(IMyTimerBlock timer,TurretState triggerState,bool shouldRetrigger,double interval){_shouldRetrigger=shouldRetrigger;_hasTriggered=false;_timer=timer;_timeSinceTrigger=10000;_retriggerInterval=interval;_triggerStates=triggerState;}public void Update(double deltaT,bool isFiring,bool isTargeting){_timeSinceTrigger+=deltaT;TurretState state=TurretState.None;if(!isFiring&amp;&amp;!isTargeting){state=TurretState.Idle;}else if(isFiring){state=TurretState.Firing;}else // isTargeting
{state=TurretState.Targeting;}if(((_triggerStates&amp;state)!=0)){if((!_hasTriggered)||// Any time where the last state was NOT triggered, we want to trigger
(_shouldRetrigger&amp;&amp;_timeSinceTrigger&gt;=_retriggerInterval)){_timer.Trigger();_timeSinceTrigger=0;_hasTriggered=true;}}else{_hasTriggered=false;}}}public class LightConfig{public IMyLightingBlock Light;bool _targetingTurnOn;Color _targetingColor;float _targetingBlinkInterval;float _targetingBlinkLength;bool _idleTurnOn;Color _idleColor;float _idleBlinkInterval;float _idleBlinkLength;bool _init=false;bool _lastState=false;public LightConfig(IMyLightingBlock light,bool targetingTurnOn,Color targetingColor,float targetingBlinkInterval,float targetingBlinkLength,bool idleTurnOn,Color idleColor,float idleBlinkInterval,float idleBlinkLength){Light=light;_targetingTurnOn=targetingTurnOn;_targetingColor=targetingColor;_targetingBlinkInterval=targetingBlinkInterval;_targetingBlinkLength=targetingBlinkLength;_idleTurnOn=idleTurnOn;_idleColor=idleColor;_idleBlinkInterval=idleBlinkInterval;_idleBlinkLength=idleBlinkLength;}public void Update(bool isTargeting){if(isTargeting==_lastState&amp;&amp;!_init)return;if(isTargeting){Light.Enabled=_targetingTurnOn;Light.Color=_targetingColor;Light.BlinkIntervalSeconds=_targetingBlinkInterval;Light.BlinkLength=_targetingBlinkLength;}else{Light.Enabled=_idleTurnOn;Light.Color=_idleColor;Light.BlinkIntervalSeconds=_idleBlinkInterval;Light.BlinkLength=_idleBlinkLength;}_lastState=isTargeting;}}
#endregion

#region Circular Buffer
public class CircularBuffer&lt;T&gt;{public readonly int Capacity;readonly T[]_array=null;int _setIndex=0;int _getIndex=0;public CircularBuffer(int capacity){if(capacity&lt;1)throw new Exception($"Capacity of CircularBuffer ({capacity}) can not be less than 1");Capacity=capacity;_array=new T[Capacity];}public void Add(T item){_array[_setIndex]=item;_setIndex=++_setIndex%Capacity;}public T MoveNext(){T val=_array[_getIndex];_getIndex=++_getIndex%Capacity;return val;}public T Peek(){return _array[_getIndex];}}
#endregion

#region Scheduler
public class Scheduler{public double CurrentTimeSinceLastRun=0;ScheduledAction _currentlyQueuedAction=null;bool _firstRun=true;bool _inUpdate=false;readonly bool _ignoreFirstRun;readonly List&lt;ScheduledAction&gt;_actionsToAdd=new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt;_scheduledActions=new List&lt;ScheduledAction&gt;();readonly Queue&lt;ScheduledAction&gt;_queuedActions=new Queue&lt;ScheduledAction&gt;();readonly Program _program;const double RUNTIME_TO_REALTIME=(1.0/60.0)/0.0166666;public Scheduler(Program program,bool ignoreFirstRun=false){_program=program;_ignoreFirstRun=ignoreFirstRun;}public void Init(){_scheduledActions.Reverse();}public void Update(){_inUpdate=true;double deltaTime=Math.Max(0,_program.Runtime.TimeSinceLastRun.TotalSeconds*RUNTIME_TO_REALTIME);if(_ignoreFirstRun&amp;&amp;_firstRun)deltaTime=0;_firstRun=false;for(int i=_scheduledActions.Count-1;i&gt;=0;--i){ScheduledAction action=_scheduledActions[i];CurrentTimeSinceLastRun=action.TimeSinceLastRun+deltaTime;action.Update(deltaTime);if(action.JustRan&amp;&amp;action.DisposeAfterRun){_scheduledActions.RemoveAt(i);}}if(_currentlyQueuedAction==null){if(_queuedActions.Count!=0)_currentlyQueuedAction=_queuedActions.Dequeue();}if(_currentlyQueuedAction!=null){_currentlyQueuedAction.Update(deltaTime);if(_currentlyQueuedAction.JustRan){_currentlyQueuedAction=null;}}_inUpdate=false;if(_actionsToAdd.Count&gt;0){_scheduledActions.AddRange(_actionsToAdd);_actionsToAdd.Clear();}}public void AddScheduledAction(Action action,double updateFrequency,bool disposeAfterRun=false,double timeOffset=0){ScheduledAction scheduledAction=new ScheduledAction(action,updateFrequency,disposeAfterRun,timeOffset);if(!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}public void AddScheduledAction(ScheduledAction scheduledAction){if(!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}public void AddQueuedAction(Action action,double updateInterval){if(updateInterval&lt;=0){updateInterval=0.001;}ScheduledAction scheduledAction=new ScheduledAction(action,1.0/updateInterval,true);_queuedActions.Enqueue(scheduledAction);}public void AddQueuedAction(ScheduledAction scheduledAction){_queuedActions.Enqueue(scheduledAction);}}public class ScheduledAction{public bool JustRan{get;private set;}=false;public bool DisposeAfterRun{get;private set;}=false;public double TimeSinceLastRun{get;private set;}=0;public double RunInterval{get{return _runInterval;}set{if(value==_runInterval)return;_runInterval=value&lt;Epsilon ? 0:value;_runFrequency=value==0 ? double.MaxValue:1.0/_runInterval;}}public double RunFrequency{get{return _runFrequency;}set{if(value==_runFrequency)return;if(value==0)RunInterval=double.MaxValue;else RunInterval=1.0/value;}}double _runInterval=-1e9;double _runFrequency=-1e9;readonly Action _action;const double Epsilon=1e-12;public ScheduledAction(Action action,double runFrequency=0,bool removeAfterRun=false,double timeOffset=0){_action=action;RunFrequency=runFrequency;DisposeAfterRun=removeAfterRun;TimeSinceLastRun=timeOffset;}public void Update(double deltaTime){TimeSinceLastRun+=deltaTime;if(TimeSinceLastRun+Epsilon&gt;=RunInterval){_action.Invoke();TimeSinceLastRun=0;JustRan=true;}else{JustRan=false;}}}
#endregion

#region PID Class
/// &lt;summary&gt;
/// Discrete time PID controller class.
/// &lt;/summary&gt;
public class PID{public double Kp=0;public double Ki=0;public double Kd=0;double _timeStep=0;double _inverseTimeStep=0;double _errorSum=0;double _lastError=0;bool _firstRun=true;public double Value{get;private set;}public double TimeStep{get{return _timeStep;}set{if(value==_timeStep)return;_timeStep=value;_inverseTimeStep=1/_timeStep;}}public PID(double kP,double kI,double kD,double timeStep){Kp=kP;Ki=kI;Kd=kD;_timeStep=timeStep;_inverseTimeStep=1/_timeStep;}protected virtual double GetIntegral(double currentError,double errorSum,double timeStep){return errorSum+currentError*timeStep;}public double Control(double error){var errorDerivative=(error-_lastError)*_inverseTimeStep;if(_firstRun){errorDerivative=0;_firstRun=false;}_errorSum=GetIntegral(error,_errorSum,_timeStep);_lastError=error;this.Value=Kp*error+Ki*_errorSum+Kd*errorDerivative;return this.Value;}public double Control(double error,double timeStep){if(timeStep!=_timeStep){_timeStep=timeStep;_inverseTimeStep=1/_timeStep;}return Control(error);}public void Reset(){_errorSum=0;_lastError=0;_firstRun=true;}}public class DecayingIntegralPID:PID{public double DecayRatio;public DecayingIntegralPID(double kP,double kI,double kD,double timeStep,double decayRatio):base(kP,kI,kD,timeStep){DecayRatio=decayRatio;}protected override double GetIntegral(double currentError,double errorSum,double timeStep){return errorSum=errorSum*(1.0-DecayRatio)+currentError*timeStep;}}
#endregion
public static class StringExtensions{public static bool Contains(string source,string toCheck,StringComparison comp=StringComparison.OrdinalIgnoreCase){return source?.IndexOf(toCheck,comp)&gt;=0;}}public static class VectorMath{public static Vector3D SafeNormalize(Vector3D a){if(Vector3D.IsZero(a))return Vector3D.Zero;if(Vector3D.IsUnit(ref a))return a;return Vector3D.Normalize(a);}public static Vector3D Rejection(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return Vector3D.Zero;return a-a.Dot(b)/b.LengthSquared()*b;}public static double AngleBetween(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;else return Math.Acos(MathHelper.Clamp(a.Dot(b)/Math.Sqrt(a.LengthSquared()*b.LengthSquared()),-1,1));}public static double CosBetween(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;else return MathHelper.Clamp(a.Dot(b)/Math.Sqrt(a.LengthSquared()*b.LengthSquared()),-1,1);}public static bool IsDotProductWithinTolerance(Vector3D a,Vector3D b,double tolerance){double dot=Vector3D.Dot(a,b);double num=a.LengthSquared()*b.LengthSquared()*tolerance*Math.Abs(tolerance);return Math.Abs(dot)*dot&gt;num;}}public class RuntimeTracker{public int Capacity{get;set;}public double Sensitivity{get;set;}public double MaxRuntime{get;private set;}public double MaxInstructions{get;private set;}public double AverageRuntime{get;private set;}public double AverageInstructions{get;private set;}public double LastRuntime{get;private set;}public double LastInstructions{get;private set;}readonly Queue&lt;double&gt;_runtimes=new Queue&lt;double&gt;();readonly Queue&lt;double&gt;_instructions=new Queue&lt;double&gt;();readonly StringBuilder _sb=new StringBuilder();readonly int _instructionLimit;readonly Program _program;const double MS_PER_TICK=16.6666;public RuntimeTracker(Program program,int capacity=100,double sensitivity=0.005){_program=program;Capacity=capacity;Sensitivity=sensitivity;_instructionLimit=_program.Runtime.MaxInstructionCount;}public void AddRuntime(){double runtime=_program.Runtime.LastRunTimeMs;LastRuntime=runtime;AverageRuntime+=(Sensitivity*runtime);int roundedTicksSinceLastRuntime=(int)Math.Round(_program.Runtime.TimeSinceLastRun.TotalMilliseconds/MS_PER_TICK);if(roundedTicksSinceLastRuntime==1){AverageRuntime*=(1-Sensitivity);}else if(roundedTicksSinceLastRuntime&gt;1){AverageRuntime*=Math.Pow((1-Sensitivity),roundedTicksSinceLastRuntime);}_runtimes.Enqueue(runtime);if(_runtimes.Count==Capacity){_runtimes.Dequeue();}MaxRuntime=_runtimes.Max();}public void AddInstructions(){double instructions=_program.Runtime.CurrentInstructionCount;LastInstructions=instructions;AverageInstructions=Sensitivity*(instructions-AverageInstructions)+AverageInstructions;_instructions.Enqueue(instructions);if(_instructions.Count==Capacity){_instructions.Dequeue();}MaxInstructions=_instructions.Max();}public string Write(){_sb.Clear();_sb.AppendLine("General Runtime Info");_sb.AppendLine($"  Avg instructions: {AverageInstructions:n2}");_sb.AppendLine($"  Last instructions: {LastInstructions:n0}");_sb.AppendLine($"  Max instructions: {MaxInstructions:n0}");_sb.AppendLine($"  Avg complexity: {MaxInstructions / _instructionLimit:0.000}%");_sb.AppendLine($"  Avg runtime: {AverageRuntime:n4} ms");_sb.AppendLine($"  Last runtime: {LastRuntime:n4} ms");_sb.AppendLine($"  Max runtime: {MaxRuntime:n4} ms");return _sb.ToString();}}public static class MyIniHelper {public static void SetColor(string sectionName, string itemName, Color color, MyIni ini){string colorString = string.Format("{0}, {1}, {2}", color.R, color.G, color.B);ini.Set(sectionName, itemName, colorString);}public static Color GetColor(string sectionName, string itemName, MyIni ini, Color? defaultChar = null){string rgbString = ini.Get(sectionName, itemName).ToString("null");string[] rgbSplit = rgbString.Split(',');int r = 0, g = 0, b = 0;if (rgbSplit.Length != 3){if (defaultChar.HasValue)return defaultChar.Value;else return Color.Transparent;}int.TryParse(rgbSplit[0].Trim(), out r);int.TryParse(rgbSplit[1].Trim(), out g);int.TryParse(rgbSplit[2].Trim(), out b);r = MathHelper.Clamp(r, 0, 255);g = MathHelper.Clamp(g, 0, 255);b = MathHelper.Clamp(b, 0, 255);return new Color(r, g, b, 255);}}public class Log {public StringBuilder ErrorOutput = new StringBuilder();public StringBuilder WarningOutput = new StringBuilder();public StringBuilder InfoOutput = new StringBuilder();public bool HasContent {get {return _errorCount != 0 || _warningCount != 0 || _infoCount != 0;}}int _errorCount;int _warningCount;int _infoCount;string _errorTag = "Error {0}:";string _warningTag = "Warning {0}:";string _infoTag = "Info {0}:";const string _prefix = "  ";public void Clear(){ErrorOutput.Clear();WarningOutput.Clear();InfoOutput.Clear();_errorCount = 0;_warningCount = 0;_infoCount = 0;}string IndentIfNeeded(string text){if (text.Contains('\n')){return text.Replace("\n", "\n" + _prefix);}return text;}public void Error(string text, bool lineBreak = true){_errorCount++;ErrorOutput.Append(string.Format(_errorTag, _errorCount)).Append("\n");ErrorOutput.Append(_prefix).Append(IndentIfNeeded(text)).Append("\n");if (lineBreak)ErrorOutput.Append("\n");}public void Warning(string text, bool lineBreak = true){_warningCount++;WarningOutput.Append(string.Format(_warningTag, _warningCount)).Append("\n");WarningOutput.Append(_prefix).Append(IndentIfNeeded(text)).Append("\n");if (lineBreak)WarningOutput.Append("\n");}public void Info(string text, bool lineBreak = true){_infoCount++;InfoOutput.Append(string.Format(_infoTag, _infoCount)).Append("\n");InfoOutput.Append(_prefix).Append(IndentIfNeeded(text)).Append("\n");if (lineBreak)InfoOutput.Append("\n");}public void Write(StringBuilder sb){sb.Append(ErrorOutput);sb.Append(WarningOutput);sb.Append(InfoOutput);}}class TurretSlaverScreenManager {readonly Color _topBarColor = new Color(25, 25, 25);readonly Color _white = new Color(200, 200, 200);readonly Color _black = Color.Black;const TextAlignment Center = TextAlignment.CENTER;const SpriteType Texture = SpriteType.TEXTURE;const float InteriorTurretSpriteScale = 0.7f;const float RotorTurretSpriteScale = 1f;const float TitleBarHeightPx = 64f;const float TextSize = 1.3f;const float BaseTextHeightPx = 37f;const string Font = "DEBUG";const string TitleFormat = "Whip's Turret Slaver - v{0}";readonly string _titleText;readonly Vector2 _interiorTurretSpritePos=new Vector2(-100,-70);readonly Vector2 _rotorTurretSpritePos=new Vector2(0,130);Program _program;int _idx=100;float[]_angles=new float[]{-9,-18,-27,-36,-45,-45,-45,-45,-45,-45,-36,-27,-18,-9};bool _clearSpriteCache=false;IMyTextSurface _surface=null;public TurretSlaverScreenManager(string version,Program program){_titleText=string.Format(TitleFormat,version);_program=program;_surface=_program.Me.GetSurface(0);}public void ForceDraw(){_clearSpriteCache=!_clearSpriteCache;}public bool Draw(){if(_surface==null)return false;float angle=0f;bool framesLeft=_idx&lt;_angles.Length;if(framesLeft){angle=MathHelper.ToRadians(_angles[_idx]);_idx++;}SetupDrawSurface(_surface);Vector2 screenCenter=_surface.TextureSize*0.5f;Vector2 scale=_surface.SurfaceSize/512f;float minScale=Math.Min(scale.X,scale.Y);using(var frame=_surface.DrawFrame()){if(_clearSpriteCache){frame.Add(new MySprite());}DrawBaseFrame(frame,screenCenter,minScale,angle);DrawTitleBar(_surface,frame,minScale);}return framesLeft;}public void Animate(){ForceDraw();_idx=0;}void DrawBaseFrame(MySpriteDrawFrame frame,Vector2 centerPos,float scale,float angle=0f){DrawRotorTurretElevation(frame,centerPos+_rotorTurretSpritePos*scale,RotorTurretSpriteScale*scale,angle);DrawRotorTurretBase(frame,centerPos+_rotorTurretSpritePos*scale,RotorTurretSpriteScale*scale);DrawInteriorTurretElevation(frame,centerPos+_interiorTurretSpritePos*scale,InteriorTurretSpriteScale*scale,angle);DrawInteriorTurretBase(frame,centerPos+_interiorTurretSpritePos*scale,InteriorTurretSpriteScale*scale);}
#region Draw Helper Functions
void DrawTitleBar(IMyTextSurface _surface,MySpriteDrawFrame frame,float scale){float titleBarHeight=scale*TitleBarHeightPx;Vector2 topLeft=0.5f*(_surface.TextureSize-_surface.SurfaceSize);Vector2 titleBarSize=new Vector2(_surface.TextureSize.X,titleBarHeight);Vector2 titleBarPos=topLeft+new Vector2(_surface.TextureSize.X*0.5f,titleBarHeight*0.5f);Vector2 titleBarTextPos=topLeft+new Vector2(_surface.TextureSize.X*0.5f,0.5f*(titleBarHeight-scale*BaseTextHeightPx));frame.Add(new MySprite(Texture,"SquareSimple",titleBarPos,titleBarSize,_topBarColor,null,Center));frame.Add(new MySprite(SpriteType.TEXT,_titleText,titleBarTextPos,null,_white,Font,Center,TextSize * scale));}void SetupDrawSurface(IMyTextSurface _surface){_surface.ScriptBackgroundColor = _black;_surface.ContentType = ContentType.SCRIPT;_surface.Script = "";}void DrawInteriorTurretBase(MySpriteDrawFrame frame, Vector2 centerPos, float scale = 1f){frame.Add(new MySprite(Texture, "SquareSimple", new Vector2(0f, 40f) * scale + centerPos, new Vector2(40f, 80f) * scale, _black, null, Center, 0f));frame.Add(new MySprite(Texture, "Circle", new Vector2(0f, 0f) * scale + centerPos, new Vector2(40f, 40f) * scale, _black, null, Center, 0f));frame.Add(new MySprite(Texture, "Triangle", new Vector2(0f, 74f) * scale + centerPos, new Vector2(100f, 30f) * scale, _white, null, Center, 0f));frame.Add(new MySprite(Texture, "SquareSimple", new Vector2(0f, 104f) * scale + centerPos, new Vector2(100f, 30f) * scale, _white, null, Center, 0f));frame.Add(new MySprite(Texture, "Circle", new Vector2(0f, 0f) * scale + centerPos, new Vector2(30f, 30f) * scale, _white, null, Center, 0f));frame.Add(new MySprite(Texture, "SquareSimple", new Vector2(0f, 40f) * scale + centerPos, new Vector2(30f, 80f) * scale, _white, null, Center, 0f));}void DrawInteriorTurretElevation(MySpriteDrawFrame frame, Vector2 centerPos, float scale = 1f, float rotation = 0f){float sin = (float)Math.Sin(rotation);float cos = (float)Math.Cos(rotation);frame.Add(new MySprite(Texture, "SquareSimple", new Vector2(cos * 50f - sin * -30f, sin * 50f + cos * -30f) * scale + centerPos, new Vector2(50f, 40f) * scale, _white, null, Center, 0f + rotation));frame.Add(new MySprite(Texture, "SquareSimple", new Vector2(cos * 82f - sin * -37f, sin * 82f + cos * -37f) * scale + centerPos, new Vector2(14f, 10f) * scale, _white, null, Center, 0f + rotation));frame.Add(new MySprite(Texture, "RightTriangle", new Vector2(cos * 62f - sin * -19f, sin * 62f + cos * -19f) * scale + centerPos, new Vector2(20f, 30f) * scale, _black, null, Center, -1.5708f + rotation));frame.Add(new MySprite(Texture, "SquareSimple", new Vector2(cos * -20f - sin * -25f, sin * -20f + cos * -25f) * scale + centerPos, new Vector2(90f, 50f) * scale, _white, null, Center, 0f + rotation));frame.Add(new MySprite(Texture, "Circle", new Vector2(cos * 0f - sin * 0f, sin * 0f + cos * 0f) * scale + centerPos, new Vector2(50f, 50f) * scale, _white, null, Center, 0f + rotation));}void DrawRotorTurretBase(MySpriteDrawFrame frame, Vector2 centerPos, float scale = 1f){frame.Add(new MySprite(Texture, "Circle", new Vector2(0f, 0f) * scale + centerPos, new Vector2(90f, 90f) * scale, _white, null, Center, 0f));frame.Add(new MySprite(Texture, "RightTriangle", new Vector2(-200f, -50f) * scale + centerPos, new Vector2(200f, 96f) * scale, _white, null, Center, -1.5708f));frame.Add(new MySprite(Texture, "RightTriangle", new Vector2(-2f, -64f) * scale + centerPos, new Vector2(96f, 200f) * scale, _black, null, Center, 0f));frame.Add(new MySprite(Texture, "RightTriangle", new Vector2(0f, -50f) * scale + centerPos, new Vector2(96f, 200f) * scale, _white, null, Center, 0f));frame.Add(new MySprite(Texture, "SquareSimple", new Vector2(-100f, 0f) * scale + centerPos, new Vector2(96f, 100f) * scale, _white, null, Center, 0f));frame.Add(new MySprite(Texture, "SquareSimple", new Vector2(-100f, -105f) * scale + centerPos, new Vector2(210f, 110f) * scale, _black, null, Center, 0f));}void DrawRotorTurretElevation(MySpriteDrawFrame frame, Vector2 centerPos, float scale = 1f, float rotation = 0f){float sin = (float)Math.Sin(rotation);float cos = (float)Math.Cos(rotation);frame.Add(new MySprite(Texture, "SquareSimple", new Vector2(cos * 149f - sin * 0f, sin * 149f + cos * 0f) * scale + centerPos, new Vector2(190f, 100f) * scale, _white, null, Center, 0f + rotation));frame.Add(new MySprite(Texture, "RightTriangle", new Vector2(cos * 242f - sin * 43f, sin * 242f + cos * 43f) * scale + centerPos, new Vector2(16f, 16f) * scale, _black, null, Center, -1.5708f + rotation));frame.Add(new MySprite(Texture, "RightTriangle", new Vector2(cos * 242f - sin * -43f, sin * 242f + cos * -43f) * scale + centerPos, new Vector2(16f, 16f) * scale, _black, null, Center, 3.1416f + rotation));frame.Add(new MySprite(Texture, "SquareSimple",new Vector2(cos*25f-sin*0f,sin*25f+cos*0f)*scale+centerPos,new Vector2(50f,70f)*scale,_white,null,Center,0f+rotation));}
#endregion
}
#endregion

#endregion
</Program>
              <Storage />
              <DefaultRunArgument>setup</DefaultRunArgument>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>124567315715299648</EntityId>
              <Min x="0" y="-4" z="-1" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-2" z="13" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="-2" z="13" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="-2" y="-2" z="14" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="2" y="-2" z="14" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="-2" y="-2" z="10" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorCorner2Tip</SubtypeName>
              <Min x="2" y="-2" z="10" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>120711314211442045</EntityId>
              <Min x="0" y="-4" z="12" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>75066734771468226</EntityId>
              <Min x="0" y="-4" z="11" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>105334699702930137</EntityId>
              <Min x="0" y="-4" z="13" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>129916472918797834</EntityId>
              <Min x="0" y="6" z="-9" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeArmorPanelLight</SubtypeName>
              <EntityId>92123415940844946</EntityId>
              <Min x="0" y="6" z="-10" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
              <SubtypeName>LargeProgrammableBlockReskin</SubtypeName>
              <EntityId>141961069338403912</EntityId>
              <Min x="1" y="2" z="-8" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[LAMP - General Config]
Fire control group name=Torpedo Fire Control
Missile group name tag=Torpedo
Optional reference block name tag=Reference
; Accepted guidance modes are: CAMERA, TURRET, or BEAMRIDE
Preferred guidance mode=TURRET
Enable auto-fire=true
Auto-fire interval (s)=30
Auto-fire remote missiles=false
Auto-fire missile limit per target=none
; Accepted values are: NUMBER, ANGLE, or DISTANCE
; Missiles will be fired smallest to largest value
Fire order=NUMBER
Antenna range - Idle (m)=1
Antenna range - Active (m)=800
Use dynamic active antenna range=true
Minimum allowed lock on range (m)=50
Randomized raycast scan spread (m)=0

[LAMP - Status Screen Colors]
Title bar background color=25, 25, 25, 255
Title text color=150, 150, 150, 255
Background color=0, 0, 0, 255
Primary text color=150, 150, 150, 255
Secondary text color=75, 75, 75, 255
Status text color=150, 150, 150, 255
Status bar background color=25, 25, 25, 255
Selected guidance outline color=0, 50, 0, 255
Allowed guidance text color=150, 150, 150, 255
Disallowed guidance text color=25, 25, 25, 255

[LAMP - Sound Config - Lock Search]
Sound name=ArcSoundBlockAlert2
Duration (s)=0.5
Loop interval (s)=1
Should loop=true

[LAMP - Sound Config - Lock Good]
Sound name=ArcSoundBlockAlert2
Duration (s)=0.2
Loop interval (s)=1
Should loop=true

[LAMP - Sound Config - Lock Bad]
Sound name=ArcSoundBlockAlert1
Duration (s)=0.15
Loop interval (s)=1
Should loop=true

[LAMP - Sound Config - Lock Lost/Abort]
Sound name=ArcSoundBlockAlert1
Duration (s)=0.5
Loop interval (s)=0
Should loop=false

[LAMP - Text Surface Config]
Show on screen 0=false
Show on screen 1=false
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>PB - Torpedo Lamp Control</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <Program>
#region Script

#region DONT YOU DARE TOUCH THESE
const string VERSION="95.7.0";const string DATE = "2022/12/31";const string COMPAT_VERSION = "170.0.0";
#endregion
/*
/ //// / LAMP | Launch A Missile Program (WHAM-FCS) / //// /
_______________________________
INSTRUCTIONS

See workshop page for instructions, there is no room left in this script!

_______________________________
NOTE

This code has been minified so that it will fit in the programmable block.
I have NOT obfuscated any of the code, so that if you copy paste this into an
IDE like Visual Studio or use a website like https://codebeautify.org/csharpviewer,
you can uncompress this and it will be human readable.
























=================================================
DO NOT MODIFY VARIABLES IN THE SCRIPT!

USE THE CUSTOM DATA OF THIS PROGRAMMABLE BLOCK!
=================================================


























HEY! DONT EVEN THINK ABOUT TOUCHING BELOW THIS LINE!



___________________________________________________________________

============= Don't touch anything below this :) ==================
___________________________________________________________________
*/

#region Fields
string _missileNameTag="Missile",_fireControlGroupName = "Fire Control",_referenceNameTag = "Reference";double _autoFireInterval = 1,_timeSinceAutoFire = 141,_idleAntennaRange = 800,_activeAntennaRange = 5000,_minRaycastRange = 50,_maxRaycastRange = 5000,_maxTimeForLockBreak = 3,_timeSinceTurretLock = 0,_searchScanRandomSpread = 0;bool _autoFire = false,_autoFireRemote = false,_stealthySemiActiveAntenna = false,_usePreciseAiming = false,_fireEnabled = true,_retask = false,_stealth = true,_spiral = false,_topdown = false,_isSetup = false,_killGuidance = false,_hasKilled = false,_inGravity = false,_showBSOD = false,_broadcastRangeOverride = false;int _autofireLimitPerTarget = 0;const string IGC_TAG_IFF = "IGC_IFF_PKT",IGC_TAG_PARAMS = "IGC_MSL_PAR_MSG",IGC_TAG_HOMING = "IGC_MSL_HOM_MSG",IGC_TAG_BEAM_RIDING = "IGC_MSL_OPT_MSG",IGC_TAG_FIRE = "IGC_MSL_FIRE_MSG",IGC_TAG_REMOTE_FIRE_REQUEST = "IGC_MSL_REM_REQ",IGC_TAG_REMOTE_FIRE_RESPONSE = "IGC_MSL_REM_RSP",IGC_TAG_REMOTE_FIRE_NOTIFICATION = "IGC_MSL_REM_NTF",IGC_TAG_REGISTER = "IGC_MSL_REG_MSG",UNICAST_TAG = "UNICAST",// General config
INI_SECTION_GENERAL="LAMP - General Config",INI_FIRE_GROUP_NAME = "Fire control group name",INI_MSL_NAME = "Missile group name tag",INI_REFERENCE_NAME = "Optional reference block name tag",INI_PREFERRED_GUID = "Preferred guidance mode",INI_PREFERRED_GUID_COMMENT = " Accepted guidance modes are: CAMERA, TURRET, or BEAMRIDE",INI_AUTO_FIRE = "Enable auto-fire",INI_AUTO_FIRE_INTERVAL = "Auto-fire interval (s)",INI_AUTO_FIRE_REMOTE = "Auto-fire remote missiles",INI_AUTO_MSL_LIMIT = "Auto-fire missile limit per target",INI_ANTENNA_RANGE_IDLE = "Antenna range - Idle (m)",INI_ANTENNA_RANGE_ACTIVE = "Antenna range - Active (m)",INI_ANTENNA_RANGE_DYNAMIC = "Use dynamic active antenna range",INI_MIN_RAYCAST_RANGE = "Minimum allowed lock on range (m)",INI_SEARCH_SCAN_SPREAD = "Randomized raycast scan spread (m)",INI_FIRE_ORDER = "Fire order",INI_FIRE_ORDER_COMMENT = " Accepted values are: NUMBER, ANGLE, or DISTANCE\n Missiles will be fired smallest to largest value",// Sound config
INI_SECTION_SOUND_LOCK_SEARCH="LAMP - Sound Config - Lock Search",INI_SECTION_SOUND_LOCK_GOOD = "LAMP - Sound Config - Lock Good",INI_SECTION_SOUND_LOCK_LOST = "LAMP - Sound Config - Lock Lost/Abort",INI_SECTION_SOUND_LOCK_BAD = "LAMP - Sound Config - Lock Bad",// Status screen config
INI_SECTION_COLORS="LAMP - Status Screen Colors",INI_COLOR_TOP_BAR = "Title bar background color",INI_COLOR_TITLE_TEXT = "Title text color",INI_COLOR_BACKGROUND = "Background color",INI_COLOR_TEXT = "Primary text color",INI_COLOR_TEXT_SECONDARY = "Secondary text color",INI_COLOR_TEXT_STATUS = "Status text color",INI_COLOR_STATUS_BACKGROUND = "Status bar background color",INI_COLOR_GUID_SELECTED = "Selected guidance outline color",INI_COLOR_GUID_ALLOWED = "Allowed guidance text color",INI_COLOR_GUID_DISALLOWED = "Disallowed guidance text color",// Text surface config
INI_SECTION_TEXT_SURF="LAMP - Text Surface Config",INI_TEXT_SURF_TEMPLATE = "Show on screen {0}",// Silo door config
INI_SECTION_SILO_DOOR="LAMP - Silo Door Config",INI_SILO_NUMBER_COMMENT = " This door will be opened when this specified missile is fired",INI_SILO_NUMBER = "Missile number",// Fire timer config
INI_SECTION_FIRE_TIMER="LAMP - Fire Timer Config",INI_FIRE_TIMER_NUMBER_COMMENT = " This timer will be triggered when this specified missile is fired",INI_FIRE_TIMER_NUMBER = "Missile number",INI_FIRE_TIMER_ANY_COMMENT = " If this timer should be triggered ANY time a missile is fired",INI_FIRE_TIMER_ANY = "Trigger on any fire",INI_FIRE_TIMER_TRIGGER_ON_STATE = "Trigger on targeting state",INI_FIRE_TIMER_TRIGGER_ON_STATE_COMMENT = " This timer will be triggered when the script enters one of the following\n targeting states:\n"+ "   None, Idle, Searching, Targeting\n"+ " The \"Targeting\" state is triggered when a homing lock is established\n OR when beam ride mode is activated.",// Display screen constants
TARGET_LOCKED_TEXT="Target Locked",TARGET_NOT_LOCKED_TEXT = "No Target",TARGET_TOO_CLOSE_TEXT = "Target Too Close",TARGET_SEARCHING_TEXT = "Searching",BEAM_RIDE_ACTIVE = "Active",DEFAULT_MISSILE_LIMIT = "none";const double RuntimeToRealTime = (1.0 / 60.0) / 0.0166666,UpdatesPerSecond = 10,UpdateTime = 1.0 / UpdatesPerSecond;readonly Color DefaultTextColor = new Color(150, 150, 150),TargetLockedColor = new Color(150, 150, 150),TargetNotLockedColor = new Color(100, 0, 0),TargetSearchingColor = new Color(100, 100, 0),TargetTooCloseColor = new Color(100, 100, 0);string _statusText = "";Color _statusColor;float _lockStrength = 0f;ArgumentParser _args = new ArgumentParser();public enum GuidanceMode : int { None = 0, BeamRiding = 1, Camera = 1 &lt;&lt; 1, Turret = 1 &lt;&lt; 2 };enum TargetingStatus { Idle, Searching, Targeting };enum FireOrder { LowestMissileNumber, SmallestDistanceToTarget, SmallestAngleToTarget };static Dictionary&lt;string, GuidanceMode&gt; _guidanceModeDict = new Dictionary&lt;string, GuidanceMode&gt;(){{"CAMERA", GuidanceMode.Camera},{"TURRET", GuidanceMode.Turret},{"BEAMRIDE", GuidanceMode.BeamRiding},};static Dictionary&lt;string, FireOrder&gt; _fireOrderDict = new Dictionary&lt;string, FireOrder&gt;(){{"NUMBER", FireOrder.LowestMissileNumber},{"DISTANCE", FireOrder.SmallestDistanceToTarget},{"ANGLE", FireOrder.SmallestAngleToTarget},};Dictionary&lt;long, int&gt; _autofiredMissiles = new Dictionary&lt;long, int&gt;();GuidanceMode _preferredGuidanceMode = _guidanceModeDict.Values.First();FireOrder _fireOrder = _fireOrderDict.Values.First();GuidanceMode _designationMode = GuidanceMode.None;public GuidanceMode DesignationMode {get {return _designationMode;}set {if (_designationMode != value &amp;&amp; _allowedGuidanceModes.Contains(value)){_designationMode = value;_raycastHoming.ClearLock();}}}TargetingStatus _targetingStatus = TargetingStatus.Idle;TargetingStatus _lastTargetingStatus = TargetingStatus.Idle;const double BsodShowTime = 5 * 60;double _currentBsodShowTime = 0;GuidanceMode _allowedGuidanceEnum = GuidanceMode.None;IMyTerminalBlock _lastControlledReference = null;List&lt;GuidanceMode&gt; _allowedGuidanceModes = new List&lt;GuidanceMode&gt;();List&lt;IMyTerminalBlock&gt; _shooterReferences = new List&lt;IMyTerminalBlock&gt;();List&lt;IMySoundBlock&gt; _soundBlocks = new List&lt;IMySoundBlock&gt;();List&lt;IMyCameraBlock&gt; _cameraList = new List&lt;IMyCameraBlock&gt;();List&lt;IMyRadioAntenna&gt; _broadcastList = new List&lt;IMyRadioAntenna&gt;();List&lt;IMyTextSurface&gt; _textSurfaces = new List&lt;IMyTextSurface&gt;();List&lt;IMyShipController&gt; _shipControllers = new List&lt;IMyShipController&gt;();List&lt;IMyLargeTurretBase&gt; _turrets = new List&lt;IMyLargeTurretBase&gt;();List&lt;IMyTurretControlBlock&gt; _turretControlBlocks = new List&lt;IMyTurretControlBlock&gt;();List&lt;IMyTimerBlock&gt; _timersTriggerOnAnyFire = new List&lt;IMyTimerBlock&gt;(),_idleTimers = new List&lt;IMyTimerBlock&gt;(),_searchTimers = new List&lt;IMyTimerBlock&gt;(),_lockTimers = new List&lt;IMyTimerBlock&gt;();Dictionary&lt;string, List&lt;IMyTimerBlock&gt;&gt; _statusTimers;Dictionary&lt;int, IMyDoor&gt; _siloDoorDict = new Dictionary&lt;int, IMyDoor&gt;();Dictionary&lt;int, IMyTimerBlock&gt; _fireTimerDict = new Dictionary&lt;int, IMyTimerBlock&gt;();StringBuilder _setupStringbuilder = new StringBuilder();RuntimeTracker _runtimeTracker;RaycastHoming _raycastHoming;MissileStatusScreenHandler _screenHandler;SoundBlockManager _soundManager = new SoundBlockManager();MyIni _textSurfaceIni = new MyIni();MyIni _setupIni = new MyIni();Scheduler _scheduler;ScheduledAction _scheduledSetup;StringBuilder _echoBuilder = new StringBuilder();CircularBuffer&lt;Action&gt; _screenUpdateBuffer;IMyTerminalBlock _reference = null;IMyUnicastListener _unicastListener;IMyBroadcastListener _remoteFireNotificationListener;ImmutableArray&lt;MyTuple&lt;byte, long, Vector3D, double&gt;&gt;.Builder _messageBuilder = ImmutableArray.CreateBuilder&lt;MyTuple&lt;byte, long, Vector3D, double&gt;&gt;();bool _clearSpriteCache = false;SoundConfig _lockSearchSound = new SoundConfig("ArcSoundBlockAlert2", 0.5f, 1f, true),_lockGoodSound = new SoundConfig("ArcSoundBlockAlert2", 0.2f, 1f, true),_lockBadSound = new SoundConfig("ArcSoundBlockAlert1", 0.15f, 1f, true),_lockLostSound = new SoundConfig("ArcSoundBlockAlert1", 0.5f, 0f, false);public struct SoundConfig {public string Name;public float Duration;public float Interval;public bool Loop;const string INI_SOUND_NAME = "Sound name",INI_SOUND_DURATION = "Duration (s)",INI_SOUND_INTERVAL = "Loop interval (s)",INI_SOUND_SHOULD_LOOP = "Should loop";public SoundConfig(string name,float duration,float interval,bool loop){Name=name;Duration=duration;Interval=interval;Loop=loop;}public void UpdateFromIni(string section,MyIni ini){// Read
Name=ini.Get(section,INI_SOUND_NAME).ToString(Name);Duration=ini.Get(section,INI_SOUND_DURATION).ToSingle(Duration);Interval=ini.Get(section,INI_SOUND_INTERVAL).ToSingle(Interval);Loop=ini.Get(section,INI_SOUND_SHOULD_LOOP).ToBoolean(Loop);// Write
ini.Set(section,INI_SOUND_NAME,Name);ini.Set(section,INI_SOUND_DURATION,Duration);ini.Set(section,INI_SOUND_INTERVAL,Interval);ini.Set(section,INI_SOUND_SHOULD_LOOP,Loop);}}public Color TopBarColor=new Color(25,25,25),TitleTextColor=new Color(150,150,150),BackgroundColor=new Color(0,0,0),TextColor=new Color(150,150,150),SecondaryTextColor=new Color(75,75,75),StatusTextColor=new Color(150,150,150),StatusBarBackgroundColor=new Color(25,25,25),GuidanceSelectedColor=new Color(0,50,0),GuidanceAllowedColor=new Color(150,150,150),GuidanceDisallowedColor=new Color(25,25,25);
#endregion

#region Main Methods
Program(){_statusTimers=new Dictionary&lt;string,List&lt;IMyTimerBlock&gt;&gt;(){{"IDLE", _idleTimers},{"SEARCHING", _searchTimers},{"TARGETING",_lockTimers},};_unicastListener=IGC.UnicastListener;_unicastListener.SetMessageCallback(UNICAST_TAG);_remoteFireNotificationListener=IGC.RegisterBroadcastListener(IGC_TAG_REMOTE_FIRE_NOTIFICATION);_remoteFireNotificationListener.SetMessageCallback(IGC_TAG_REMOTE_FIRE_NOTIFICATION);_raycastHoming=new RaycastHoming(_maxRaycastRange,_maxTimeForLockBreak,_minRaycastRange,Me.CubeGrid.EntityId);_raycastHoming.AddEntityTypeToFilter(MyDetectedEntityType.FloatingObject,MyDetectedEntityType.Planet,MyDetectedEntityType.Asteroid);_screenHandler=new MissileStatusScreenHandler(this);_isSetup=GrabBlocks();GetLargestGridRadius();ParseStorage();Runtime.UpdateFrequency=UpdateFrequency.Update1;_runtimeTracker=new RuntimeTracker(this,5*60,0.005);// 5 second buffer
float step=1f/9f;_screenUpdateBuffer=new CircularBuffer&lt;Action&gt;(10);_screenUpdateBuffer.Add(()=&gt;_screenHandler.ComputeScreenParams(DesignationMode,_allowedGuidanceEnum,_lockStrength,_statusText,_statusColor,_maxRaycastRange,_inGravity,_stealth,_spiral,_topdown,_usePreciseAiming,_autoFire,_fireEnabled));_screenUpdateBuffer.Add(()=&gt;_screenHandler.DrawScreens(_textSurfaces,0*step,1*step,_clearSpriteCache));_screenUpdateBuffer.Add(()=&gt;_screenHandler.DrawScreens(_textSurfaces,1*step,2*step,_clearSpriteCache));_screenUpdateBuffer.Add(()=&gt;_screenHandler.DrawScreens(_textSurfaces,2*step,3*step,_clearSpriteCache));_screenUpdateBuffer.Add(()=&gt;_screenHandler.DrawScreens(_textSurfaces,3*step,4*step,_clearSpriteCache));_screenUpdateBuffer.Add(()=&gt;_screenHandler.DrawScreens(_textSurfaces,4*step,5*step,_clearSpriteCache));_screenUpdateBuffer.Add(()=&gt;_screenHandler.DrawScreens(_textSurfaces,5*step,6*step,_clearSpriteCache));_screenUpdateBuffer.Add(()=&gt;_screenHandler.DrawScreens(_textSurfaces,6*step,7*step,_clearSpriteCache));_screenUpdateBuffer.Add(()=&gt;_screenHandler.DrawScreens(_textSurfaces,7*step,8*step,_clearSpriteCache));_screenUpdateBuffer.Add(()=&gt;_screenHandler.DrawScreens(_textSurfaces,8*step,9*step,_clearSpriteCache));_scheduledSetup=new ScheduledAction(Setup,0.1);_scheduler=new Scheduler(this);_scheduler.AddScheduledAction(_scheduledSetup);_scheduler.AddScheduledAction(PrintDetailedInfo,1);_scheduler.AddScheduledAction(HandleDisplays,60);_scheduler.AddScheduledAction(GuidanceProcess,UpdatesPerSecond);_scheduler.AddScheduledAction(NetworkTargets,6);_scheduler.AddScheduledAction(GetLargestGridRadius,1.0/30.0);_scheduler.AddScheduledAction(()=&gt;AgeFiredPrograms(1),1);OnNewTargetingStatus();}void Main(string arg,UpdateType updateType){if(_showBSOD){++_currentBsodShowTime;if(_currentBsodShowTime&gt;BsodShowTime){_showBSOD=false;_isSetup=GrabBlocks();}return;}_runtimeTracker.AddRuntime();if((updateType&amp;UpdateType.IGC)!=0){if(arg.Equals(UNICAST_TAG)){ParseUnicastMessages();}if(arg.Equals(IGC_TAG_REMOTE_FIRE_NOTIFICATION)){ParseRemoteFireNotification();}}else if(!string.IsNullOrWhiteSpace(arg)){ParseArguments(arg);}var lastRuntime=RuntimeToRealTime*Math.Max(Runtime.TimeSinceLastRun.TotalSeconds,0);_timeSinceTurretLock+=lastRuntime;if(_autoFire)_timeSinceAutoFire+=lastRuntime;try{_scheduler.Update();_soundManager.Update((float)lastRuntime);}catch(Exception e){string scriptName="WMI Missile Fire Control";BlueScreenOfDeath.Show(Me.GetSurface(0), scriptName, VERSION, e);foreach (var surface in _textSurfaces){BlueScreenOfDeath.Show(surface, scriptName, VERSION, e);}_showBSOD = true;}_runtimeTracker.AddInstructions();}void PrintDetailedInfo(){_echoBuilder.AppendLine($"LAMP | Launch A Missile Program\n(Version {VERSION} - {DATE})");_echoBuilder.AppendLine($"\nFor use with WHAM v{COMPAT_VERSION} or later.\n");_echoBuilder.AppendLine($"Next refresh in {Math.Max(_scheduledSetup.RunInterval - _scheduledSetup.TimeSinceLastRun, 0):N0} seconds\n");_echoBuilder.AppendLine($"Last setup result: {(_isSetup ? "SUCCESS" : "FAIL")}\n{_setupStringbuilder}");_echoBuilder.AppendLine(_runtimeTracker.Write());Echo(_echoBuilder.ToString());_echoBuilder.Clear();}void Setup(){_clearSpriteCache=!_clearSpriteCache;_isSetup=GrabBlocks();}void HandleDisplays(){_screenUpdateBuffer.MoveNext().Invoke();}void OnNewTargetingStatus(){List&lt;IMyTimerBlock&gt;timers;switch(_targetingStatus){case TargetingStatus.Idle:timers=_idleTimers;break;case TargetingStatus.Searching:timers=_searchTimers;break;case TargetingStatus.Targeting:timers=_lockTimers;break;default:return;}foreach(var t in timers){t.Trigger();}}void GuidanceProcess(){if(!_isSetup)return;bool shouldBroadcast=false;_statusColor=DefaultTextColor;_lockStrength=0f;_targetingStatus=TargetingStatus.Idle;if(_shipControllers.Count&gt;0){_inGravity=!Vector3D.IsZero(_shipControllers[0].GetNaturalGravity());}switch(DesignationMode){case GuidanceMode.BeamRiding:HandleOptical(ref shouldBroadcast);break;case GuidanceMode.Camera:HandleCameraHoming(ref shouldBroadcast);break;case GuidanceMode.Turret:HandleTurretHoming(ref shouldBroadcast);break;}if(_targetingStatus!=_lastTargetingStatus){OnNewTargetingStatus();}_lastTargetingStatus=_targetingStatus;if(shouldBroadcast)//or if kill command
{BroadcastTargetingData();BroadcastParameterMessage();}else if(_broadcastRangeOverride){_scheduler.AddQueuedAction(()=&gt;ScaleAntennaRange(_activeAntennaRange),0);_scheduler.AddQueuedAction(BroadcastParameterMessage,1.0/6.0);}}void BroadcastTargetingData(){long broadcastKey=GetBroadcastKey();switch(DesignationMode){case GuidanceMode.BeamRiding:SendMissileBeamRideMessage(_frontVec,_leftVec,_upVec,_originPos,broadcastKey);break;case GuidanceMode.Camera:SendMissileHomingMessage(_raycastHoming.HitPosition,_raycastHoming.TargetPosition,_raycastHoming.TargetVelocity,_raycastHoming.PreciseModeOffset,Me.CubeGrid.WorldAABB.Center,_raycastHoming.TimeSinceLastLock,_raycastHoming.TargetId,broadcastKey);break;case GuidanceMode.Turret:SendMissileHomingMessage(_targetInfo.HitPosition.Value,_targetInfo.Position,_targetInfo.Velocity,Vector3D.Zero,Me.CubeGrid.WorldAABB.Center,_timeSinceTurretLock,_targetInfo.EntityId,broadcastKey);break;}}void BroadcastParameterMessage(){long broadcastKey=GetBroadcastKey();bool killNow=(_killGuidance&amp;&amp;!_hasKilled);SendMissileParameterMessage(killNow,_stealth,_spiral,_topdown,_usePreciseAiming,_retask,broadcastKey);if(_retask)_retask=false;if(killNow)_hasKilled=true;if(_broadcastRangeOverride)_broadcastRangeOverride=false;}
#region Guidance Moding
void HandleOptical(ref bool shouldBroadcast){shouldBroadcast=true;OpticalGuidance();ScaleAntennaRange(_activeAntennaRange);StopAllSounds();// Status
_statusText=BEAM_RIDE_ACTIVE;_targetingStatus=TargetingStatus.Targeting;}void HandleCameraHoming(ref bool shouldBroadcast){_raycastHoming.Update(UpdateTime,_cameraList,_shipControllers,_reference);double antennaRange=_idleAntennaRange;if(_raycastHoming.Status==RaycastHoming.TargetingStatus.Locked){shouldBroadcast=true;// Antenna range
if(_stealthySemiActiveAntenna)antennaRange=Vector3D.Distance(base.Me.CubeGrid.WorldAABB.Center,_raycastHoming.TargetPosition)-_raycastHoming.TargetSize;else antennaRange=_activeAntennaRange;// Play sound
if(!_raycastHoming.MissedLastScan)PlayLockOnSound(_soundBlocks);else if(_raycastHoming.MissedLastScan)PlayScanMissedSound(_soundBlocks);// Status
_lockStrength=1f-(float)((_raycastHoming.TimeSinceLastLock-_raycastHoming.AutoScanInterval)/_raycastHoming.MaxTimeForLockBreak);_lockStrength=MathHelper.Clamp(_lockStrength,0f,1f);_statusText=TARGET_LOCKED_TEXT;_statusColor=TargetLockedColor;_targetingStatus=TargetingStatus.Targeting;HandleAutofire(_raycastHoming.TargetId);}else{// Sound
if(_raycastHoming.IsScanning){PlayLockSearchSound(_soundBlocks);}else if(_raycastHoming.LockLost){_raycastHoming.AcknowledgeLockLost();PlayFireAbortSound(_soundBlocks);}// Status
if(_raycastHoming.Status==RaycastHoming.TargetingStatus.NotLocked){if(!_raycastHoming.IsScanning){_statusText=TARGET_NOT_LOCKED_TEXT;_statusColor=TargetNotLockedColor;}else{_statusText=TARGET_SEARCHING_TEXT;_statusColor=TargetSearchingColor;_targetingStatus=TargetingStatus.Searching;}}else if(_raycastHoming.Status==RaycastHoming.TargetingStatus.TooClose){_statusText=TARGET_TOO_CLOSE_TEXT;_statusColor=TargetTooCloseColor;}}// Set antenna range
if(!_broadcastRangeOverride)ScaleAntennaRange(antennaRange);}void HandleTurretHoming(ref bool shouldBroadcast){// TODO: Make turret guidance populate fields
TurretGuidance(_turrets,_turretControlBlocks);double antennaRange=_stealthySemiActiveAntenna ? 1:_idleAntennaRange;if(_turretLocked){shouldBroadcast=true;// Sound
PlayLockOnSound(_soundBlocks);// Antenna range
if(_stealthySemiActiveAntenna)antennaRange=Vector3D.Distance(Me.CubeGrid.WorldAABB.Center,_targetInfo.Position)-10.0;else antennaRange=_activeAntennaRange;// Status
_lockStrength=1f;_statusText=TARGET_LOCKED_TEXT;_statusColor=TargetLockedColor;_targetingStatus=TargetingStatus.Targeting;HandleAutofire(_targetInfo.EntityId);}else{// Status
_statusText=TARGET_NOT_LOCKED_TEXT;_statusColor=TargetNotLockedColor;StopAllSounds();}// Set antenna range
if(!_broadcastRangeOverride)ScaleAntennaRange(antennaRange);}void HandleAutofire(long targetId){if(_autoFire&amp;&amp;FiringAllowed&amp;&amp;_timeSinceAutoFire&gt;=_autoFireInterval){if(_autofireLimitPerTarget&gt;0){int firedCount;if(_autofiredMissiles.TryGetValue(targetId,out firedCount)){if(firedCount&gt;=_autofireLimitPerTarget){return;}}else{firedCount=0;}firedCount+=1;_autofiredMissiles[targetId]=firedCount;}if(_autoFireRemote)RequestRemoteMissileFire();else FireNextMissile(1);_timeSinceAutoFire=0;}}
#endregion

#endregion

#region IGC Unicast Handling
void ParseUnicastMessages(){while(_unicastListener.HasPendingMessage){MyIGCMessage message=_unicastListener.AcceptMessage();object data=message.Data;if(message.Tag==IGC_TAG_REMOTE_FIRE_RESPONSE){if(data is MyTuple&lt;Vector3D,long&gt;){var payload=(MyTuple&lt;Vector3D,long&gt;)data;var response=new RemoteFireResponse((Vector3)payload.Item1,payload.Item2);if(!_remoteFireResponses.Contains(response))_remoteFireResponses.Add(response);}}}}
#endregion

#region Remote Fire
int _remoteFireRequests=0;bool _awaitingResponse=false;struct RemoteFireResponse{public Vector3D Position;public long EntityId;public RemoteFireResponse(Vector3 pos,long id){Position=pos;EntityId=id;}public override bool Equals(object obj){if(!(obj is RemoteFireResponse))return false;return this.Equals((RemoteFireResponse)obj);}public bool Equals(RemoteFireResponse other){return other.EntityId==this.EntityId;}public override int GetHashCode(){return this.EntityId.GetHashCode();}}void RequestRemoteMissileFire(){_remoteFireRequests++;if(!_awaitingResponse){var payload=new MyTuple&lt;Vector3D,long&gt;();payload.Item1=Me.GetPosition();payload.Item2=Me.EntityId;IGC.SendBroadcastMessage(IGC_TAG_REMOTE_FIRE_REQUEST,payload);// Delay processing (Gives missiles 20 ticks to respond)
_scheduler.AddScheduledAction(ParseRemoteFireResponses,3,true);_awaitingResponse=true;}}List&lt;RemoteFireResponse&gt;_remoteFireResponses=new List&lt;RemoteFireResponse&gt;();void ParseRemoteFireResponses(){Vector3D referencePosition=Me.GetPosition();switch(DesignationMode){case GuidanceMode.Turret:referencePosition=_targetInfo.Position;break;case GuidanceMode.Camera:referencePosition=_raycastHoming.TargetPosition;break;}_remoteFireResponses.Sort((x,y)=&gt;{var num1=Vector3D.DistanceSquared(x.Position,referencePosition);var num2=Vector3D.DistanceSquared(y.Position,referencePosition);return num1.CompareTo(num2);});long broadcastKey=GetBroadcastKey();if(broadcastKey&lt;=0){PlayFireAbortSound(_soundBlocks);}else{for(int i=0;i&lt;_remoteFireResponses.Count;++i){if(i+1&gt;_remoteFireRequests)break;var response=_remoteFireResponses[i];IGC.SendUnicastMessage(response.EntityId,IGC_TAG_REGISTER,broadcastKey);IGC.SendUnicastMessage(response.EntityId,IGC_TAG_FIRE,"");}}_remoteFireResponses.Clear();_awaitingResponse=false;_remoteFireRequests=0;}void ParseRemoteFireNotification(){while(_remoteFireNotificationListener.HasPendingMessage){var msg=_remoteFireNotificationListener.AcceptMessage();if(msg.Data is int){var missileNumber=(int)(msg.Data);OpenSiloDoor(missileNumber);TriggerFireTimer(missileNumber);}}}
#endregion

#region Broadcast IFF
IMyCubeGrid _biggestGrid;double _biggestGridRadius;void GetLargestGridRadius(){_biggestGridRadius=Me.CubeGrid.WorldVolume.Radius;_biggestGrid=Me.CubeGrid;GridTerminalSystem.GetBlocksOfType&lt;IMyMechanicalConnectionBlock&gt;(null,b=&gt;{var m=(IMyMechanicalConnectionBlock)b;double rad=m.CubeGrid.WorldVolume.Radius;IMyCubeGrid grid=m.CubeGrid;if(m.IsAttached){double radT=m.TopGrid.WorldVolume.Radius;if(radT&gt;rad){rad=radT;grid=m.TopGrid;}}if(rad&gt;_biggestGridRadius){_biggestGridRadius=rad;_biggestGrid=grid;}return false;});}void NetworkTargets(){bool hasTarget=(DesignationMode==GuidanceMode.Camera&amp;&amp;_raycastHoming.Status==RaycastHoming.TargetingStatus.Locked)||(DesignationMode==GuidanceMode.Turret&amp;&amp;_turretLocked);int capacity=hasTarget ? 2:1;_messageBuilder.Capacity=capacity;// Broadcast own position
TargetRelation myType=_biggestGrid.GridSizeEnum==MyCubeSize.Large ? TargetRelation.LargeGrid:TargetRelation.SmallGrid;var myTuple=new MyTuple&lt;byte,long,Vector3D,double&gt;((byte)(TargetRelation.Friendly|myType),_biggestGrid.EntityId,_biggestGrid.WorldVolume.Center,_biggestGridRadius*_biggestGridRadius);_messageBuilder.Add(myTuple);if(hasTarget){MyRelationsBetweenPlayerAndBlock relationBetweenPlayerAndBlock;MyDetectedEntityType type;long targetId=0;Vector3D targetPos=Vector3.Zero;switch(DesignationMode){case GuidanceMode.Camera:relationBetweenPlayerAndBlock=_raycastHoming.TargetRelation;targetId=_raycastHoming.TargetId;targetPos=_raycastHoming.TargetCenter;type=_raycastHoming.TargetType;break;default:// Turret
relationBetweenPlayerAndBlock=_targetInfo.Relationship;targetId=_targetInfo.EntityId;targetPos=_targetInfo.Position;type=_targetInfo.Type;break;}TargetRelation relation=TargetRelation.Locked;switch(relationBetweenPlayerAndBlock){case MyRelationsBetweenPlayerAndBlock.Owner:case MyRelationsBetweenPlayerAndBlock.Friends:case MyRelationsBetweenPlayerAndBlock.FactionShare:relation|=TargetRelation.Friendly;break;case MyRelationsBetweenPlayerAndBlock.Enemies:relation|=TargetRelation.Enemy;break;// Neutral is assumed if not friendly or enemy
default:relation|=TargetRelation.Neutral;break;}switch(type){case MyDetectedEntityType.LargeGrid:relation|=TargetRelation.LargeGrid;break;case MyDetectedEntityType.SmallGrid:relation|=TargetRelation.SmallGrid;break;}myTuple=new MyTuple&lt;byte,long,Vector3D,double&gt;((byte)relation,targetId,targetPos,0);_messageBuilder.Add(myTuple);}IGC.SendBroadcastMessage(IGC_TAG_IFF,_messageBuilder.MoveToImmutable());}
#endregion

#region Save and Argument Parsing
void Save(){// TODO: Reimplement this properly
}void ParseStorage(){// TODO: Reimplement this properly
}bool FiringAllowed{get{bool allowed=(DesignationMode==GuidanceMode.Camera&amp;&amp;_raycastHoming.Status==RaycastHoming.TargetingStatus.Locked);allowed|=(DesignationMode==GuidanceMode.Turret&amp;&amp;_turretLocked);allowed|=(DesignationMode==GuidanceMode.BeamRiding);allowed&amp;=_fireEnabled;return allowed;}}void ParseArguments(string arg){if(!_args.TryParse(arg)){// TODO: Print error msg
return;}switch(_args.Argument(0).ToLowerInvariant()){
#region fire and kill commands
case "enable_fire": _fireEnabled = true;break;case "disable_fire": _fireEnabled = false;break;case "fire": if (FiringAllowed){int count = 1, start = 0, end = -1;bool useRange = false;if (_args.HasSwitch("range")){int rangeIdx = _args.GetSwitchIndex("range");string startStr = _args.Argument(1 + rangeIdx);string endStr = _args.Argument(2 + rangeIdx);if (int.TryParse(startStr, out start) &amp;&amp; int.TryParse(endStr, out end)){useRange = true;}}if (_args.HasSwitch("count")){if (!int.TryParse(_args.Argument(1 + _args.GetSwitchIndex("count")), out count)){count = 1;}}if (useRange){FireMissileInRange(count, start, end);}else {FireNextMissile(count);}}else {PlayFireAbortSound(_soundBlocks);}break;case "remote_fire":if(FiringAllowed){// No broadcast override needed since we have to be active to fire
RequestRemoteMissileFire();}else{PlayFireAbortSound(_soundBlocks);}break;case "kill": _killGuidance = true;_hasKilled = false;_broadcastRangeOverride = true;break;case "alpha":if(FiringAllowed){AlphaStrike();}else{PlayFireAbortSound(_soundBlocks);}break;
#endregion

#region stealth toggle
case "stealth": case "stealth_switch": _stealth = !_stealth;_broadcastRangeOverride = true;break;case "stealth_on": _stealth = true;_broadcastRangeOverride = true;break;case "stealth_off":_stealth=false;_broadcastRangeOverride=true;break;
#endregion

#region spiral trajectory toggle
case "evasion": case "evasion_switch": case "spiral": case "spiral_switch": _spiral = !_spiral;_broadcastRangeOverride = true;break;case "evasion_on": case "spiral_on": _spiral = true;_broadcastRangeOverride = true;break;case "evasion_off": case "spiral_off":_spiral=false;_broadcastRangeOverride=true;break;
#endregion

#region top down attack mode
case "topdown": case "topdown_switch": _topdown = !_topdown;_broadcastRangeOverride = true;break;case "topdown_on": _topdown = true;_broadcastRangeOverride = true;break;case "topdown_off":_topdown=false;_broadcastRangeOverride=true;break;
#endregion

#region guidance switching
case "mode_switch": CycleGuidanceModes();break;case "mode_beamride": case "mode_optical": DesignationMode = GuidanceMode.BeamRiding;break;case "mode_camera": case "mode_semiactive": DesignationMode = GuidanceMode.Camera;break;case "mode_turret":DesignationMode=GuidanceMode.Turret;break;
#endregion

#region lock on
case "lock_on": if (_allowedGuidanceModes.Contains(GuidanceMode.Camera)){DesignationMode = GuidanceMode.Camera;_raycastHoming.LockOn();}break;case "lock_off": if (_allowedGuidanceModes.Contains(GuidanceMode.Camera)){DesignationMode = GuidanceMode.Camera;_raycastHoming.ClearLock();PlayFireAbortSound(_soundBlocks);}break;case "lock_switch": if (_allowedGuidanceModes.Contains(GuidanceMode.Camera)){DesignationMode = GuidanceMode.Camera;if (_raycastHoming.IsScanning){_raycastHoming.ClearLock();PlayFireAbortSound(_soundBlocks);}else {_raycastHoming.LockOn();}}break;case "retask":_retask=true;break;
#endregion

#region Precision mode
case "precise": case "precise_switch": _usePreciseAiming = !_usePreciseAiming;_raycastHoming.OffsetTargeting = _usePreciseAiming;_broadcastRangeOverride = true;break;case "precise_on": _usePreciseAiming = true;_raycastHoming.OffsetTargeting = _usePreciseAiming;_broadcastRangeOverride = true;break;case "precise_off":_usePreciseAiming=false;_raycastHoming.OffsetTargeting=_usePreciseAiming;_broadcastRangeOverride=true;break;
#endregion

#region Auto fire toggle
case "autofire": case "autofire_toggle": case "autofire_switch": _autoFire = !_autoFire;WriteAutoFire();break;case "autofire_on": _autoFire = true;WriteAutoFire();break;case "autofire_off":_autoFire=false;WriteAutoFire();break;
#endregion
}}void WriteAutoFire(){_setupIni.Clear();_setupIni.TryParse(Me.CustomData);_setupIni.Set(INI_SECTION_GENERAL,INI_AUTO_FIRE,_autoFire);string output=_setupIni.ToString();if(!string.Equals(output,Me.CustomData)){Me.CustomData=output;}}void CycleGuidanceModes(){if(_allowedGuidanceModes.Count==0)return;int index=_allowedGuidanceModes.FindIndex(x=&gt;x==DesignationMode);index=++index%_allowedGuidanceModes.Count;DesignationMode=_allowedGuidanceModes[index];}
#endregion

#region Block Fetching
bool GrabBlocks(){_setupStringbuilder.Clear();HandleIni();var group=GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupName);if(group==null){_setupStringbuilder.AppendLine($"&gt; ERRROR: No block group named '{_fireControlGroupName}' was found");return false;}_soundBlocks.Clear();_cameraList.Clear();_broadcastList.Clear();_textSurfaces.Clear();_shipControllers.Clear();_turrets.Clear();_turretControlBlocks.Clear();_timersTriggerOnAnyFire.Clear();_idleTimers.Clear();_searchTimers.Clear();_lockTimers.Clear();_siloDoorDict.Clear();_fireTimerDict.Clear();_reference = null;group.GetBlocksOfType&lt;IMyTerminalBlock&gt;(null, CollectionFunction);GridTerminalSystem.GetBlocksOfType&lt;IMyShipController&gt;(_shipControllers);_setupStringbuilder.AppendLine($"- Text surfaces: {_textSurfaces.Count}");_setupStringbuilder.AppendLine($"- Sound blocks: {_soundBlocks.Count}");_allowedGuidanceModes.Clear();// Camera guidance checks
_setupStringbuilder.AppendLine($"- Cameras: {_cameraList.Count}");if(_cameraList.Count!=0)_allowedGuidanceModes.Add(GuidanceMode.Camera);// Turret guidance checks
_setupStringbuilder.AppendLine($"- Turrets: {_turrets.Count}");_setupStringbuilder.AppendLine($"- Custom turret controllers: {_turretControlBlocks.Count}");if(_turrets.Count!=0||_turretControlBlocks.Count!=0)_allowedGuidanceModes.Add(GuidanceMode.Turret);// Optical guidance checks
_setupStringbuilder.AppendLine($"- Ship controllers: {_shipControllers.Count}");_setupStringbuilder.AppendLine($"- Reference block: {(_reference != null ? $"'{_reference.CustomName}'" : "(none)")}");if(_shipControllers.Count!=0||_cameraList.Count!=0||_reference!=null)_allowedGuidanceModes.Add(GuidanceMode.BeamRiding);//Antenna Blocks
if(_broadcastList.Count==0){_setupStringbuilder.AppendLine($"&gt; ERROR: No antennas");return false;}else {_setupStringbuilder.AppendLine($"- Antennas: {_broadcastList.Count}");}if (_allowedGuidanceModes.Count == 0){_setupStringbuilder.AppendLine("&gt; ERROR: No allowed guidance modes");return false;}if (DesignationMode == GuidanceMode.None){if (_allowedGuidanceModes.Contains(_preferredGuidanceMode)){DesignationMode = _preferredGuidanceMode;}}if (DesignationMode == GuidanceMode.None)DesignationMode = _allowedGuidanceModes[0];_setupStringbuilder.AppendLine($"\nAllowed guidance modes:");_allowedGuidanceEnum = GuidanceMode.None;foreach (var mode in _allowedGuidanceModes){_allowedGuidanceEnum |= mode;_setupStringbuilder.AppendLine($"- {mode}");}return true;}void HandleIni(){_setupIni.Clear();string preferredStr=_guidanceModeDict.Keys.First(),orderStr=_fireOrderDict.Keys.First(),limitStr=DEFAULT_MISSILE_LIMIT;if(_setupIni.TryParse(Me.CustomData)){_fireControlGroupName=_setupIni.Get(INI_SECTION_GENERAL,INI_FIRE_GROUP_NAME).ToString(_fireControlGroupName);_missileNameTag=_setupIni.Get(INI_SECTION_GENERAL,INI_MSL_NAME).ToString(_missileNameTag);_referenceNameTag=_setupIni.Get(INI_SECTION_GENERAL,INI_REFERENCE_NAME).ToString(_referenceNameTag);_autoFire=_setupIni.Get(INI_SECTION_GENERAL,INI_AUTO_FIRE).ToBoolean(_autoFire);_autoFireRemote=_setupIni.Get(INI_SECTION_GENERAL,INI_AUTO_FIRE_REMOTE).ToBoolean(_autoFireRemote);string temp=_setupIni.Get(INI_SECTION_GENERAL,INI_AUTO_MSL_LIMIT).ToString(limitStr);int limit;if(int.TryParse(temp,out limit)&amp;&amp;limit&gt;0){_autofireLimitPerTarget=limit;limitStr=temp;}else{_autofireLimitPerTarget=0;}_autoFireInterval=_setupIni.Get(INI_SECTION_GENERAL,INI_AUTO_FIRE_INTERVAL).ToDouble(_autoFireInterval);_idleAntennaRange=_setupIni.Get(INI_SECTION_GENERAL,INI_ANTENNA_RANGE_IDLE).ToDouble(_idleAntennaRange);_activeAntennaRange=_setupIni.Get(INI_SECTION_GENERAL,INI_ANTENNA_RANGE_ACTIVE).ToDouble(_activeAntennaRange);_stealthySemiActiveAntenna=_setupIni.Get(INI_SECTION_GENERAL,INI_ANTENNA_RANGE_DYNAMIC).ToBoolean(_stealthySemiActiveAntenna);_minRaycastRange=_setupIni.Get(INI_SECTION_GENERAL,INI_MIN_RAYCAST_RANGE).ToDouble(_minRaycastRange);_searchScanRandomSpread=_setupIni.Get(INI_SECTION_GENERAL,INI_SEARCH_SCAN_SPREAD).ToDouble(_searchScanRandomSpread);TopBarColor=MyIniHelper.GetColor(INI_SECTION_COLORS,INI_COLOR_TOP_BAR,_setupIni,TopBarColor);TitleTextColor=MyIniHelper.GetColor(INI_SECTION_COLORS,INI_COLOR_TITLE_TEXT,_setupIni,TitleTextColor);BackgroundColor=MyIniHelper.GetColor(INI_SECTION_COLORS,INI_COLOR_BACKGROUND,_setupIni,BackgroundColor);TextColor=MyIniHelper.GetColor(INI_SECTION_COLORS,INI_COLOR_TEXT,_setupIni,TextColor);SecondaryTextColor=MyIniHelper.GetColor(INI_SECTION_COLORS,INI_COLOR_TEXT_SECONDARY,_setupIni,SecondaryTextColor);StatusTextColor=MyIniHelper.GetColor(INI_SECTION_COLORS,INI_COLOR_TEXT_STATUS,_setupIni,StatusTextColor);StatusBarBackgroundColor=MyIniHelper.GetColor(INI_SECTION_COLORS,INI_COLOR_STATUS_BACKGROUND,_setupIni,StatusBarBackgroundColor);GuidanceSelectedColor=MyIniHelper.GetColor(INI_SECTION_COLORS,INI_COLOR_GUID_SELECTED,_setupIni,GuidanceSelectedColor);GuidanceAllowedColor=MyIniHelper.GetColor(INI_SECTION_COLORS,INI_COLOR_GUID_ALLOWED,_setupIni,GuidanceAllowedColor);GuidanceDisallowedColor=MyIniHelper.GetColor(INI_SECTION_COLORS,INI_COLOR_GUID_DISALLOWED,_setupIni,GuidanceDisallowedColor);temp=_setupIni.Get(INI_SECTION_GENERAL,INI_PREFERRED_GUID).ToString(preferredStr);GuidanceMode preferredMode;if(_guidanceModeDict.TryGetValue(temp,out preferredMode)){_preferredGuidanceMode=preferredMode;preferredStr=temp;}else{_preferredGuidanceMode=_guidanceModeDict.Values.First();}temp=_setupIni.Get(INI_SECTION_GENERAL,INI_FIRE_ORDER).ToString(orderStr);FireOrder fireOrder;if(_fireOrderDict.TryGetValue(temp,out fireOrder)){_fireOrder=fireOrder;orderStr=temp;}else{_fireOrder=_fireOrderDict.Values.First();}}else if(!string.IsNullOrWhiteSpace(Me.CustomData)){_setupIni.Clear();_setupIni.EndContent=Me.CustomData;}_setupIni.Set(INI_SECTION_GENERAL,INI_FIRE_GROUP_NAME,_fireControlGroupName);_setupIni.Set(INI_SECTION_GENERAL,INI_MSL_NAME,_missileNameTag);_setupIni.Set(INI_SECTION_GENERAL,INI_REFERENCE_NAME,_referenceNameTag);_setupIni.Set(INI_SECTION_GENERAL,INI_PREFERRED_GUID,preferredStr);_setupIni.SetComment(INI_SECTION_GENERAL,INI_PREFERRED_GUID,INI_PREFERRED_GUID_COMMENT);_setupIni.Set(INI_SECTION_GENERAL,INI_AUTO_FIRE,_autoFire);_setupIni.Set(INI_SECTION_GENERAL,INI_AUTO_FIRE_INTERVAL,_autoFireInterval);_setupIni.Set(INI_SECTION_GENERAL,INI_AUTO_FIRE_REMOTE,_autoFireRemote);_setupIni.Set(INI_SECTION_GENERAL,INI_AUTO_MSL_LIMIT,limitStr);_setupIni.Set(INI_SECTION_GENERAL,INI_FIRE_ORDER,orderStr);_setupIni.SetComment(INI_SECTION_GENERAL,INI_FIRE_ORDER,INI_FIRE_ORDER_COMMENT);_setupIni.Set(INI_SECTION_GENERAL,INI_ANTENNA_RANGE_IDLE,_idleAntennaRange);_setupIni.Set(INI_SECTION_GENERAL,INI_ANTENNA_RANGE_ACTIVE,_activeAntennaRange);_setupIni.Set(INI_SECTION_GENERAL,INI_ANTENNA_RANGE_DYNAMIC,_stealthySemiActiveAntenna);_setupIni.Set(INI_SECTION_GENERAL,INI_MIN_RAYCAST_RANGE,_minRaycastRange);_setupIni.Set(INI_SECTION_GENERAL,INI_SEARCH_SCAN_SPREAD,_searchScanRandomSpread);_raycastHoming.SearchScanSpread=_searchScanRandomSpread;MyIniHelper.SetColor(INI_SECTION_COLORS,INI_COLOR_TOP_BAR,_setupIni,TopBarColor);MyIniHelper.SetColor(INI_SECTION_COLORS,INI_COLOR_TITLE_TEXT,_setupIni,TitleTextColor);MyIniHelper.SetColor(INI_SECTION_COLORS,INI_COLOR_BACKGROUND,_setupIni,BackgroundColor);MyIniHelper.SetColor(INI_SECTION_COLORS,INI_COLOR_TEXT,_setupIni,TextColor);MyIniHelper.SetColor(INI_SECTION_COLORS,INI_COLOR_TEXT_SECONDARY,_setupIni,SecondaryTextColor);MyIniHelper.SetColor(INI_SECTION_COLORS,INI_COLOR_TEXT_STATUS,_setupIni,StatusTextColor);MyIniHelper.SetColor(INI_SECTION_COLORS,INI_COLOR_STATUS_BACKGROUND,_setupIni,StatusBarBackgroundColor);MyIniHelper.SetColor(INI_SECTION_COLORS,INI_COLOR_GUID_SELECTED,_setupIni,GuidanceSelectedColor);MyIniHelper.SetColor(INI_SECTION_COLORS,INI_COLOR_GUID_ALLOWED,_setupIni,GuidanceAllowedColor);MyIniHelper.SetColor(INI_SECTION_COLORS,INI_COLOR_GUID_DISALLOWED,_setupIni,GuidanceDisallowedColor);_lockSearchSound.UpdateFromIni(INI_SECTION_SOUND_LOCK_SEARCH,_setupIni);_lockGoodSound.UpdateFromIni(INI_SECTION_SOUND_LOCK_GOOD,_setupIni);_lockBadSound.UpdateFromIni(INI_SECTION_SOUND_LOCK_BAD,_setupIni);_lockLostSound.UpdateFromIni(INI_SECTION_SOUND_LOCK_LOST,_setupIni);string output=_setupIni.ToString();if(!string.Equals(output,Me.CustomData)){Me.CustomData=output;}}bool CollectionFunction(IMyTerminalBlock block){if(!block.IsSameConstructAs(Me))return false;AddTextSurfaces(block,_textSurfaces);if(block.CustomName.IndexOf(_referenceNameTag,StringComparison.OrdinalIgnoreCase)&gt;=0)_reference=block;// TODO: Only look for ship controllers in group? Maybe prioritize those in the group?
var door=block as IMyDoor;if(door!=null){_setupIni.Clear();bool parsed=_setupIni.TryParse(door.CustomData);int siloNumber=0;// Default value
if(parsed){siloNumber=_setupIni.Get(INI_SECTION_SILO_DOOR,INI_SILO_NUMBER).ToInt32(siloNumber);}_setupIni.Set(INI_SECTION_SILO_DOOR,INI_SILO_NUMBER,siloNumber);_setupIni.SetComment(INI_SECTION_SILO_DOOR,INI_SILO_NUMBER,INI_SILO_NUMBER_COMMENT);_siloDoorDict[siloNumber]=door;string output=_setupIni.ToString();if(!string.Equals(output,door.CustomData)){door.CustomData=output;}// TODO: Print warn if multiple doors bound to same missile
return false;}var timer=block as IMyTimerBlock;if(timer!=null){_setupIni.Clear();bool parsed=_setupIni.TryParse(timer.CustomData);int siloNumber=0;// Default value
bool fireAny=false;string triggerState="None";if (parsed){siloNumber = _setupIni.Get(INI_SECTION_FIRE_TIMER, INI_FIRE_TIMER_NUMBER).ToInt32(siloNumber);fireAny = _setupIni.Get(INI_SECTION_FIRE_TIMER, INI_FIRE_TIMER_ANY).ToBoolean(fireAny);triggerState = _setupIni.Get(INI_SECTION_FIRE_TIMER, INI_FIRE_TIMER_TRIGGER_ON_STATE).ToString(triggerState);List&lt;IMyTimerBlock&gt; timers;if (_statusTimers.TryGetValue(triggerState.ToUpperInvariant(), out timers)){timers.Add(timer);}else {triggerState = "None";}}_setupIni.Set(INI_SECTION_FIRE_TIMER,INI_FIRE_TIMER_NUMBER,siloNumber);_setupIni.SetComment(INI_SECTION_FIRE_TIMER,INI_FIRE_TIMER_NUMBER,INI_FIRE_TIMER_NUMBER_COMMENT);_setupIni.Set(INI_SECTION_FIRE_TIMER,INI_FIRE_TIMER_ANY,fireAny);_setupIni.SetComment(INI_SECTION_FIRE_TIMER,INI_FIRE_TIMER_ANY,INI_FIRE_TIMER_ANY_COMMENT);_setupIni.Set(INI_SECTION_FIRE_TIMER,INI_FIRE_TIMER_TRIGGER_ON_STATE,triggerState);_setupIni.SetComment(INI_SECTION_FIRE_TIMER,INI_FIRE_TIMER_TRIGGER_ON_STATE,INI_FIRE_TIMER_TRIGGER_ON_STATE_COMMENT);if(fireAny){_timersTriggerOnAnyFire.Add(timer);}else{_fireTimerDict[siloNumber]=timer;}string output=_setupIni.ToString();if(!string.Equals(output,timer.CustomData)){timer.CustomData=output;}// TODO: Print warn if multiple timers bound to same missile
return false;}var soundBlock=block as IMySoundBlock;if(soundBlock!=null){_soundBlocks.Add(soundBlock);return false;}var camera=block as IMyCameraBlock;if(camera!=null){_cameraList.Add(camera);camera.EnableRaycast=true;return false;}var antenna=block as IMyRadioAntenna;if(antenna!=null){_broadcastList.Add(antenna);return false;}var turret=block as IMyLargeTurretBase;if(turret!=null){_turrets.Add(turret);return false;}var tcb=block as IMyTurretControlBlock;if(tcb!=null){_turretControlBlocks.Add(tcb);return false;}return false;}void AddTextSurfaces(IMyTerminalBlock block,List&lt;IMyTextSurface&gt;textSurfaces){var textSurface=block as IMyTextSurface;if(textSurface!=null){textSurfaces.Add(textSurface);return;}var surfaceProvider=block as IMyTextSurfaceProvider;if(surfaceProvider==null)return;_textSurfaceIni.Clear();bool parsed=_textSurfaceIni.TryParse(block.CustomData);if(!parsed&amp;&amp;!string.IsNullOrWhiteSpace(block.CustomData)){_textSurfaceIni.Clear();_textSurfaceIni.EndContent=block.CustomData;}int surfaceCount=surfaceProvider.SurfaceCount;for(int i=0;i&lt;surfaceCount;++i){string iniKey=string.Format(INI_TEXT_SURF_TEMPLATE,i);bool display=_textSurfaceIni.Get(INI_SECTION_TEXT_SURF,iniKey).ToBoolean(i==0&amp;&amp;!(block is IMyProgrammableBlock));if(display)textSurfaces.Add(surfaceProvider.GetSurface(i));_textSurfaceIni.Set(INI_SECTION_TEXT_SURF,iniKey,display);}string output=_textSurfaceIni.ToString();if(!string.Equals(output,block.CustomData))block.CustomData=output;}
#endregion

#region Firing Methods
List&lt;IMyBlockGroup&gt;missileGroups=new List&lt;IMyBlockGroup&gt;();List&lt;int&gt;currentMissileNumbers=new List&lt;int&gt;();List&lt;IMyProgrammableBlock&gt;missilePrograms=new List&lt;IMyProgrammableBlock&gt;();Dictionary&lt;int,IMyBlockGroup&gt;missileNumberDict=new Dictionary&lt;int,IMyBlockGroup&gt;();Dictionary&lt;IMyProgrammableBlock,double&gt;firedMissileProgramAge=new Dictionary&lt;IMyProgrammableBlock,double&gt;();List&lt;IMyProgrammableBlock&gt;firedMissilesKeyList=new List&lt;IMyProgrammableBlock&gt;();List&lt;IMyProgrammableBlock&gt;firedMissileProgramKeysToRemove=new List&lt;IMyProgrammableBlock&gt;();const double MIN_PROGRAM_AGE_TO_REMOVE=10.0;void AgeFiredPrograms(double deltaTime){firedMissilesKeyList.Clear();foreach(var key in firedMissileProgramAge.Keys){firedMissilesKeyList.Add(key);}foreach(var key in firedMissilesKeyList){double elapsed=firedMissileProgramAge[key];if(elapsed&gt;MIN_PROGRAM_AGE_TO_REMOVE){firedMissileProgramKeysToRemove.Add(key);}else{firedMissileProgramAge[key]=elapsed+deltaTime;}}foreach(var key in firedMissileProgramKeysToRemove){firedMissileProgramAge.Remove(key);}}void GetCurrentMissiles(){currentMissileNumbers.Clear();missileNumberDict.Clear();GridTerminalSystem.GetBlockGroups(null,CollectMissileNumbers);switch(_fireOrder){case FireOrder.LowestMissileNumber:currentMissileNumbers.Sort();break;case FireOrder.SmallestAngleToTarget:currentMissileNumbers.Sort((a,b)=&gt;MissileCompare(a,b,true));break;case FireOrder.SmallestDistanceToTarget:currentMissileNumbers.Sort((a,b)=&gt;MissileCompare(a,b,false));break;}}int MissileCompare(int a,int b,bool angle){if(_targetingStatus!=TargetingStatus.Targeting){return-1;}return(int)Math.Sign(GetCompareValue(a,angle)-GetCompareValue(b,angle));}public static double CosBetween(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;else return MathHelper.Clamp(a.Dot(b)/Math.Sqrt(a.LengthSquared()*b.LengthSquared()),-1,1);}List&lt;IMyShipController&gt;_controllerCompareList=new List&lt;IMyShipController&gt;();double GetCompareValue(int num,bool angle){_controllerCompareList.Clear();missileNumberDict[num].GetBlocksOfType(_controllerCompareList);if(_controllerCompareList.Count==0){return double.MaxValue;}IMyShipController c=_controllerCompareList[0];Vector3D targetPos=Vector3D.Zero;switch(DesignationMode){case GuidanceMode.BeamRiding:targetPos=_originPos+_frontVec*200;break;case GuidanceMode.Camera:targetPos=_raycastHoming.TargetPosition;break;case GuidanceMode.Turret:targetPos=_targetInfo.Position;break;}if(angle){return-CosBetween(c.WorldMatrix.Forward,targetPos-c.GetPosition());}else{return Vector3D.DistanceSquared(c.GetPosition(),targetPos);}}bool CollectMissileNumbers(IMyBlockGroup g){var number=GetMissileNumber(g,_missileNameTag);if(number&lt;0){return false;}currentMissileNumbers.Add(number);missileNumberDict[number]=g;return false;}int GetMissileNumber(IMyBlockGroup group,string missileTag){string groupName=group.Name;// Check for tag
if(!groupName.StartsWith(missileTag)){return-1;}// Check that string is long enough to have both a space and a number
if(missileTag.Length+2&gt;groupName.Length){return-1;}// Check for space
if(groupName[missileTag.Length]!=' '){return-1;}// Check for number after space
int startIdx=missileTag.Length+1;int missileNumber;bool parsed=int.TryParse(groupName.Substring(startIdx),out missileNumber);if(!parsed){return-1;}return missileNumber;}void AlphaStrike(){GetCurrentMissiles();foreach(var missileNumber in currentMissileNumbers){FireMissilePrograms(missileNumber);}}bool IsMissilePBValid(IMyTerminalBlock b){var func=(IMyFunctionalBlock)b;return func!=null&amp;&amp;func.IsWorking&amp;&amp;!firedMissileProgramAge.ContainsKey((IMyProgrammableBlock)b);}bool FireMissilePrograms(int missileNumber){IMyBlockGroup group=null;if(!missileNumberDict.TryGetValue(missileNumber,out group))return false;missilePrograms.Clear();group.GetBlocksOfType(missilePrograms,IsMissilePBValid);if(missilePrograms.Count==0){return false;// Could not fire
}foreach(var pb in missilePrograms){IGC.SendUnicastMessage(pb.EntityId,IGC_TAG_FIRE,"");firedMissileProgramAge[pb]=0;}OpenSiloDoor(missileNumber);TriggerFireTimer(missileNumber);BroadcastTargetingData();BroadcastParameterMessage();return true;}void FireMissileInRange(int numberToFire,int start,int end){GetCurrentMissiles();int numberFired=0;foreach(var missileNumber in currentMissileNumbers){if(missileNumber&lt;start||missileNumber&gt;end){continue;}bool fired=FireMissilePrograms(missileNumber);if(fired){numberFired++;}if(numberFired&gt;=numberToFire){break;}}}void FireNextMissile(int numberToFire){GetCurrentMissiles();int numberFired=0;foreach(var missileNumber in currentMissileNumbers){bool fired=FireMissilePrograms(missileNumber);if(fired){numberFired++;}if(numberFired&gt;=numberToFire){break;}}}void OpenSiloDoor(int missileNumber){IMyDoor siloDoor;if(_siloDoorDict.TryGetValue(missileNumber,out siloDoor)){siloDoor.Enabled=true;siloDoor.OpenDoor();}}void TriggerFireTimer(int missileNumber){IMyTimerBlock timer;if(_fireTimerDict.TryGetValue(missileNumber,out timer)){timer.Trigger();}foreach(var t in _timersTriggerOnAnyFire){t.Trigger();}}
#endregion

#region Optical Guidance
Vector3D _originPos=new Vector3D(0,0,0);Vector3D _frontVec=new Vector3D(0,0,0);Vector3D _leftVec=new Vector3D(0,0,0);Vector3D _upVec=new Vector3D(0,0,0);void OpticalGuidance(){/*
* The following prioritizes references in the following hierchy:
* 1. Currently used camera
* 2. Reference block (if any is specified)
* 3. Currently used control seat
* 4. Last active control seat
* 5. First control seat that is found
* 6. First camera that is found
*/
IMyTerminalBlock reference=GetControlledCamera(_cameraList);if(reference==null)reference=_reference;if(reference==null)reference=GetControlledShipController(_shipControllers);if(reference==null){if(_lastControlledReference!=null){reference=_lastControlledReference;}else if(_shipControllers.Count&gt;0){reference=_shipControllers[0];}else if(_cameraList.Count&gt;0){reference=_cameraList[0];}else{return;}}_lastControlledReference=reference;_originPos=reference.GetPosition();_frontVec=reference.WorldMatrix.Forward;_leftVec=reference.WorldMatrix.Left;_upVec=reference.WorldMatrix.Up;}
#endregion

#region Turret Guidance
List&lt;MyDetectedEntityInfo&gt;_targetInfoList=new List&lt;MyDetectedEntityInfo&gt;();MyDetectedEntityInfo _targetInfo=new MyDetectedEntityInfo();double _maxTurretRange=0;bool _turretLocked=false;void TurretGuidance(List&lt;IMyLargeTurretBase&gt;turrets,List&lt;IMyTurretControlBlock&gt;turretControlBlocks){//get targets
_targetInfoList.Clear();_maxTurretRange=0;foreach(var block in turrets){if(block.HasTarget&amp;&amp;!block.GetTargetedEntity().IsEmpty()){_targetInfoList.Add(block.GetTargetedEntity());}if(block.IsWorking&amp;&amp;block.AIEnabled){var thisRange=block.Range;if(thisRange&gt;_maxTurretRange)_maxTurretRange=thisRange;}}foreach(var block in turretControlBlocks){if(block.HasTarget&amp;&amp;!block.GetTargetedEntity().IsEmpty()){_targetInfoList.Add(block.GetTargetedEntity());}if(block.IsWorking&amp;&amp;block.AIEnabled){var thisRange=block.Range;if(thisRange&gt;_maxTurretRange)_maxTurretRange=thisRange;}}if(_targetInfoList.Count==0){if(_turretLocked){PlayScanMissedSound(_soundBlocks);}_turretLocked=false;return;}_turretLocked=true;_timeSinceTurretLock=0;//prioritize targets
_targetInfoList.Sort((x,y)=&gt;{var num1=(x.Position-Me.GetPosition()).LengthSquared();var num2=(y.Position-Me.GetPosition()).LengthSquared();return num1.CompareTo(num2);});//pick closest target
_targetInfo=_targetInfoList[0];Vector3D targetVelocityVec=_targetInfo.Velocity;}
#endregion

#region Sound Block Control
void StopAllSounds(){_soundManager.ShouldPlay=false;_soundManager.ShouldLoop=false;}void PlayLockSearchSound(List&lt;IMySoundBlock&gt;soundBlocks){_soundManager.ShouldPlay=true;_soundManager.ShouldLoop=_lockSearchSound.Loop;_soundManager.SoundName=_lockSearchSound.Name;_soundManager.LoopDuration=_lockSearchSound.Interval;_soundManager.SoundDuration=_lockSearchSound.Duration;_soundManager.SoundBlocks=soundBlocks;}void PlayLockOnSound(List&lt;IMySoundBlock&gt;soundBlocks){_soundManager.ShouldPlay=true;_soundManager.ShouldLoop=_lockGoodSound.Loop;_soundManager.SoundName=_lockGoodSound.Name;_soundManager.LoopDuration=_lockGoodSound.Interval;_soundManager.SoundDuration=_lockGoodSound.Duration;_soundManager.SoundBlocks=soundBlocks;}void PlayFireAbortSound(List&lt;IMySoundBlock&gt;soundBlocks){_soundManager.ShouldPlay=false;// Force state change to cause the sound to be played immideately
_soundManager.ShouldPlay=true;_soundManager.ShouldLoop=_lockLostSound.Loop;_soundManager.SoundName=_lockLostSound.Name;_soundManager.LoopDuration=_lockLostSound.Interval;_soundManager.SoundDuration=_lockLostSound.Duration;_soundManager.SoundBlocks=soundBlocks;}void PlayScanMissedSound(List&lt;IMySoundBlock&gt;soundBlocks){_soundManager.ShouldPlay=true;_soundManager.ShouldLoop=_lockBadSound.Loop;_soundManager.SoundName=_lockBadSound.Name;_soundManager.LoopDuration=_lockBadSound.Interval;_soundManager.SoundDuration=_lockBadSound.Duration;_soundManager.SoundBlocks=soundBlocks;}class SoundBlockManager{public bool ShouldLoop=true;public float SoundDuration{get{return _soundDuration;}set{if(Math.Abs(value-_soundDuration)&lt;1e-3){return;}_soundDuration=value;_settingsDirty=true;}}public float LoopDuration;public bool ShouldPlay{get{return _shouldPlay;}set{if(value==_shouldPlay)return;_shouldPlay=value;_hasPlayed=false;}}public string SoundName{get{return _soundName;}set{if(value==_soundName){return;}_soundName=value;_settingsDirty=true;}}public List&lt;IMySoundBlock&gt;SoundBlocks;bool _settingsDirty=false;bool _shouldPlay=false;float _soundDuration;string _soundName;bool _hasPlayed=false;float _loopTime;float _soundPlayTime;enum SoundBlockAction{None=0,UpdateSettings=1,Play=2,Stop=4}public void Update(float dt){SoundBlockAction action=SoundBlockAction.None;if(_settingsDirty){action|=SoundBlockAction.UpdateSettings;_settingsDirty=false;}if(ShouldPlay){if(!_hasPlayed){action|=SoundBlockAction.Play;_hasPlayed=true;_soundPlayTime=0;_loopTime=0;}else{_loopTime+=dt;_soundPlayTime+=dt;if(_soundPlayTime&gt;=SoundDuration){action|=SoundBlockAction.Stop;if(!ShouldLoop){ShouldPlay=false;}}if(ShouldLoop&amp;&amp;_loopTime&gt;=LoopDuration&amp;&amp;_hasPlayed){_hasPlayed=false;}}}else{action|=SoundBlockAction.Stop;}// Apply sound block action
if(action!=SoundBlockAction.None&amp;&amp;SoundBlocks!=null){foreach(var sb in SoundBlocks){if((action&amp;SoundBlockAction.UpdateSettings)!=0){sb.LoopPeriod=100f;sb.SelectedSound=SoundName;}if((action&amp;SoundBlockAction.Play)!=0){sb.Play();}if((action&amp;SoundBlockAction.Stop)!=0){sb.Stop();}}}}}
#endregion

#region Screen Display
/*
** Description:
**   Class for handling WHAM status screen displays.
**
** Dependencies:
**   MySpriteContainer
*/
public class MissileStatusScreenHandler{
#region Fields
List&lt;MySpriteContainer&gt;_spriteContainers=new List&lt;MySpriteContainer&gt;();// Default sizes
const float DEFAULT_SCREEN_SIZE=512,DEFAULT_SCREEN_HALF_SIZE=512*0.5f;// UI positions
Vector2 TOP_BAR_SIZE,STATUS_BAR_SIZE,TOP_BAR_POS,TOP_BAR_TEXT_POS,STEALTH_TEXT_POS,AIM_POINT_POS,RANGE_TEXT_POS,SPIRAL_TEXT_POS,TOPDOWN_TEXT_POS,STATUS_BAR_POS,STATUS_BAR_TEXT_POS,STATUS_BAR_WEAK_TEXT_POS,STATUS_BAR_STRONG_TEXT_POS,SECONDARY_TEXT_POS_OFFSET,DROP_SHADOW_OFFSET,MODE_CAMERA_POS,MODE_TURRET_POS,MODE_BEAMRIDE_POS,MODE_CAMERA_SELECT_POS,MODE_TURRET_SELECT_POS,MODE_BEAMRIDE_SELECT_POS,MODE_CAMERA_SELECT_SIZE,MODE_TURRET_SELECT_SIZE,MODE_BEAMRIDE_SELECT_SIZE,AUTOFIRE_TEXT_POS,FIRE_DISABLED_POS,FIRE_DISABLED_TEXT_BOX_SIZE;// Constants
const float PRIMARY_TEXT_SIZE=1.5f,SECONDARY_TEXT_SIZE=1.2f,TERTIARY_TEXT_SIZE=1f,BASE_TEXT_HEIGHT_PX=37f,PRIMARY_TEXT_OFFSET=-0.5f*BASE_TEXT_HEIGHT_PX*PRIMARY_TEXT_SIZE,MODE_SELECT_LINE_LENGTH=20f,MODE_SELECT_LINE_WIDTH=6f;const string FONT="DEBUG",TOP_TEXT = "LAMP Fire Control",MODE_TEXT = "Mode",MODE_CAMERA_TEXT = "Camera",MODE_TURRET_TEXT = "Turret",MODE_BEAMRIDE_TEXT = "Beam Ride",RANGE_TEXT = "Range",STEALTH_TEXT = "Stealth",SPIRAL_TEXT = "Evasion",TOPDOWN_TEXT = "Topdown",ENABLED_TEXT = "Enabled",DISABLED_TEXT = "Disabled",NOT_APPLICABLE_TEXT = "N/A",STATUS_TEXT = "Status",WEAK_TEXT = "Weak",STRONG_TEXT = "Strong",AIM_POINT_TEXT = "Aim Point",AIM_CENTER_TEXT = "Center",AIM_OFFSET_TEXT = "Offset",AUTOFIRE_TEXT = "Autofire",FIRE_DISABLED_TEXT = "FIRING DISABLED";// Non-configurable colors
readonly Color STATUS_GOOD_COLOR=new Color(0,50,0),STATUS_BAD_COLOR=new Color(50,0,0),_warningColor=Color.Red,_warningBackgroundColor=new Color(10,10,10,200);Program _p;
#endregion
public MissileStatusScreenHandler(Program program){_p=program;SECONDARY_TEXT_POS_OFFSET=new Vector2(0,-1.5f*PRIMARY_TEXT_OFFSET);DROP_SHADOW_OFFSET=new Vector2(2,2);// Top bar
TOP_BAR_SIZE=new Vector2(512,64);TOP_BAR_POS=new Vector2(0,-DEFAULT_SCREEN_HALF_SIZE+32);//TODO: compute in ctor
TOP_BAR_TEXT_POS=new Vector2(0,-DEFAULT_SCREEN_HALF_SIZE+32+PRIMARY_TEXT_OFFSET);// Modes
MODE_CAMERA_SELECT_SIZE=new Vector2(130,56);MODE_TURRET_SELECT_SIZE=new Vector2(110,56);MODE_BEAMRIDE_SELECT_SIZE=new Vector2(170,56);MODE_CAMERA_SELECT_POS=new Vector2(-160,-140);MODE_TURRET_SELECT_POS=new Vector2(-20,-140);MODE_BEAMRIDE_SELECT_POS=new Vector2(140,-140);float secondaryTextVeticalOffset=-0.5f*BASE_TEXT_HEIGHT_PX*SECONDARY_TEXT_SIZE;MODE_CAMERA_POS=MODE_CAMERA_SELECT_POS+new Vector2(0,secondaryTextVeticalOffset);MODE_TURRET_POS=MODE_TURRET_SELECT_POS+new Vector2(0,secondaryTextVeticalOffset);MODE_BEAMRIDE_POS=MODE_BEAMRIDE_SELECT_POS+new Vector2(0,secondaryTextVeticalOffset);// Status bar
STATUS_BAR_POS=new Vector2(0,-70);STATUS_BAR_SIZE=new Vector2(450,56);STATUS_BAR_TEXT_POS=STATUS_BAR_POS+new Vector2(0,PRIMARY_TEXT_OFFSET);STATUS_BAR_WEAK_TEXT_POS=STATUS_BAR_POS+new Vector2(-200,40);STATUS_BAR_STRONG_TEXT_POS=STATUS_BAR_POS+new Vector2(200,40);// Left column
RANGE_TEXT_POS=new Vector2(-220,0+PRIMARY_TEXT_OFFSET);SPIRAL_TEXT_POS=new Vector2(-220,90+PRIMARY_TEXT_OFFSET);STEALTH_TEXT_POS=new Vector2(-220,180+PRIMARY_TEXT_OFFSET);// Right column
AIM_POINT_POS=new Vector2(50,0+PRIMARY_TEXT_OFFSET);AUTOFIRE_TEXT_POS=new Vector2(50,90+PRIMARY_TEXT_OFFSET);TOPDOWN_TEXT_POS=new Vector2(50,180+PRIMARY_TEXT_OFFSET);// Fire disabled
FIRE_DISABLED_POS=new Vector2(0,50);FIRE_DISABLED_TEXT_BOX_SIZE=new Vector2(360,-PRIMARY_TEXT_OFFSET*PRIMARY_TEXT_SIZE+24);}//For debugging
public void Echo(string content){_p.Echo(content);}public Color CustomInterpolation(Color color1,Color color2,float ratio){Color midpoint=color1+color2;if(ratio&lt;0.5){return Color.Lerp(color1,midpoint,ratio*2f);}return Color.Lerp(midpoint,color2,(ratio*2f)-1f);}public void ComputeScreenParams(GuidanceMode mode,GuidanceMode allowedModes,float lockStrength,string statusText,Color statusColor,double range,bool inGravity,bool stealth,bool spiral,bool topdown,bool precise,bool autofire,bool fireEnabled){_spriteContainers.Clear();var guidanceMode=mode;var allowedModesEnum=allowedModes;bool showTopdownAndAimMode=true;bool anyGuidanceAllowed=allowedModesEnum!=GuidanceMode.None;if(!anyGuidanceAllowed){statusText="ERROR";statusColor=STATUS_BAD_COLOR;}Vector2 modeSelectSize=Vector2.Zero;Vector2 modeSelectPos=Vector2.Zero;if(guidanceMode==GuidanceMode.BeamRiding){showTopdownAndAimMode=false;lockStrength=1;modeSelectSize=MODE_BEAMRIDE_SELECT_SIZE;modeSelectPos=MODE_BEAMRIDE_SELECT_POS;}else{if(guidanceMode==GuidanceMode.Camera){modeSelectSize=MODE_CAMERA_SELECT_SIZE;modeSelectPos=MODE_CAMERA_SELECT_POS;}else if(guidanceMode==GuidanceMode.Turret){modeSelectSize=MODE_TURRET_SELECT_SIZE;modeSelectPos=MODE_TURRET_SELECT_POS;}}MySpriteContainer container;// Title bar
container=new MySpriteContainer("SquareSimple",TOP_BAR_SIZE,TOP_BAR_POS,0,_p.TopBarColor,true);_spriteContainers.Add(container);container=new MySpriteContainer(TOP_TEXT,FONT,PRIMARY_TEXT_SIZE,TOP_BAR_TEXT_POS,_p.TitleTextColor);_spriteContainers.Add(container);// Status bar
container=new MySpriteContainer("SquareSimple", STATUS_BAR_SIZE, STATUS_BAR_POS, 0, _p.StatusBarBackgroundColor);_spriteContainers.Add(container);Color lerpedStatusColor = CustomInterpolation(STATUS_BAD_COLOR, STATUS_GOOD_COLOR, lockStrength);Vector2 statusBarSize = STATUS_BAR_SIZE * new Vector2(lockStrength, 1f);container = new MySpriteContainer("SquareSimple",statusBarSize,STATUS_BAR_POS,0,lerpedStatusColor);_spriteContainers.Add(container);container=new MySpriteContainer(statusText,FONT,PRIMARY_TEXT_SIZE,STATUS_BAR_TEXT_POS+DROP_SHADOW_OFFSET,Color.Black);_spriteContainers.Add(container);container=new MySpriteContainer(statusText,FONT,PRIMARY_TEXT_SIZE,STATUS_BAR_TEXT_POS,statusColor);_spriteContainers.Add(container);// Modes
DrawBoxCorners(modeSelectSize,modeSelectPos,MODE_SELECT_LINE_LENGTH,MODE_SELECT_LINE_WIDTH,_p.GuidanceSelectedColor,_spriteContainers);container=new MySpriteContainer(MODE_CAMERA_TEXT,FONT,SECONDARY_TEXT_SIZE,MODE_CAMERA_POS,(allowedModesEnum&amp;GuidanceMode.Camera)!=0 ? _p.GuidanceAllowedColor:_p.GuidanceDisallowedColor,TextAlignment.CENTER);_spriteContainers.Add(container);container=new MySpriteContainer(MODE_TURRET_TEXT,FONT,SECONDARY_TEXT_SIZE,MODE_TURRET_POS,(allowedModesEnum&amp;GuidanceMode.Turret)!=0 ? _p.GuidanceAllowedColor:_p.GuidanceDisallowedColor,TextAlignment.CENTER);_spriteContainers.Add(container);container=new MySpriteContainer(MODE_BEAMRIDE_TEXT,FONT,SECONDARY_TEXT_SIZE,MODE_BEAMRIDE_POS,(allowedModesEnum&amp;GuidanceMode.BeamRiding)!=0 ? _p.GuidanceAllowedColor:_p.GuidanceDisallowedColor,TextAlignment.CENTER);_spriteContainers.Add(container);// Range
container=new MySpriteContainer(RANGE_TEXT,FONT,PRIMARY_TEXT_SIZE,RANGE_TEXT_POS,_p.TextColor,TextAlignment.LEFT);_spriteContainers.Add(container);container=new MySpriteContainer($"{range * 0.001:n1} km",FONT,SECONDARY_TEXT_SIZE,RANGE_TEXT_POS+SECONDARY_TEXT_POS_OFFSET,_p.SecondaryTextColor,TextAlignment.LEFT);_spriteContainers.Add(container);// Stealth
container=new MySpriteContainer(STEALTH_TEXT,FONT,PRIMARY_TEXT_SIZE,STEALTH_TEXT_POS,_p.TextColor,TextAlignment.LEFT);_spriteContainers.Add(container);container=new MySpriteContainer(stealth ? ENABLED_TEXT:DISABLED_TEXT,FONT,SECONDARY_TEXT_SIZE,STEALTH_TEXT_POS+SECONDARY_TEXT_POS_OFFSET,_p.SecondaryTextColor,TextAlignment.LEFT);_spriteContainers.Add(container);// Spiral
container=new MySpriteContainer(SPIRAL_TEXT,FONT,PRIMARY_TEXT_SIZE,SPIRAL_TEXT_POS,_p.TextColor,TextAlignment.LEFT);_spriteContainers.Add(container);container=new MySpriteContainer(spiral ? ENABLED_TEXT:DISABLED_TEXT,FONT,SECONDARY_TEXT_SIZE,SPIRAL_TEXT_POS+SECONDARY_TEXT_POS_OFFSET,_p.SecondaryTextColor,TextAlignment.LEFT);_spriteContainers.Add(container);// Topdown
container=new MySpriteContainer(TOPDOWN_TEXT,FONT,PRIMARY_TEXT_SIZE,TOPDOWN_TEXT_POS,_p.TextColor,TextAlignment.LEFT);_spriteContainers.Add(container);container=new MySpriteContainer((!inGravity||!showTopdownAndAimMode)? NOT_APPLICABLE_TEXT:(topdown ? ENABLED_TEXT:DISABLED_TEXT),FONT,SECONDARY_TEXT_SIZE,TOPDOWN_TEXT_POS+SECONDARY_TEXT_POS_OFFSET,_p.SecondaryTextColor,TextAlignment.LEFT);_spriteContainers.Add(container);// Aimpoint
container=new MySpriteContainer(AIM_POINT_TEXT,FONT,PRIMARY_TEXT_SIZE,AIM_POINT_POS,_p.TextColor,TextAlignment.LEFT);_spriteContainers.Add(container);container=new MySpriteContainer(!showTopdownAndAimMode ? NOT_APPLICABLE_TEXT:(precise ? AIM_OFFSET_TEXT:AIM_CENTER_TEXT),FONT,SECONDARY_TEXT_SIZE,AIM_POINT_POS+SECONDARY_TEXT_POS_OFFSET,_p.SecondaryTextColor,TextAlignment.LEFT);_spriteContainers.Add(container);// Autofire
container=new MySpriteContainer(AUTOFIRE_TEXT,FONT,PRIMARY_TEXT_SIZE,AUTOFIRE_TEXT_POS,_p.TextColor,TextAlignment.LEFT);_spriteContainers.Add(container);container=new MySpriteContainer(!showTopdownAndAimMode ? NOT_APPLICABLE_TEXT:(autofire ? ENABLED_TEXT:DISABLED_TEXT),FONT,SECONDARY_TEXT_SIZE,AUTOFIRE_TEXT_POS+SECONDARY_TEXT_POS_OFFSET,_p.SecondaryTextColor,TextAlignment.LEFT);_spriteContainers.Add(container);// Fire Disabled Warning
if(!fireEnabled){container=new MySpriteContainer("SquareSimple", FIRE_DISABLED_TEXT_BOX_SIZE, FIRE_DISABLED_POS, 0, _warningBackgroundColor);_spriteContainers.Add(container);container = new MySpriteContainer("AH_TextBox", FIRE_DISABLED_TEXT_BOX_SIZE, FIRE_DISABLED_POS, 0, _warningColor);_spriteContainers.Add(container);container = new MySpriteContainer(FIRE_DISABLED_TEXT, FONT, PRIMARY_TEXT_SIZE, FIRE_DISABLED_POS + new Vector2(0, -22), _warningColor, TextAlignment.CENTER);_spriteContainers.Add(container);}}public void DrawScreens(List&lt;IMyTextSurface&gt; surfaces, float startProportion, float endProportion, bool clearSpriteCache){int startInt = (int)Math.Round(startProportion * surfaces.Count);int endInt = (int)Math.Round(endProportion * surfaces.Count);for (int i = startInt; i &lt; endInt; ++i){var surface = surfaces[i];surface.ContentType = ContentType.SCRIPT;surface.Script = "";surface.ScriptBackgroundColor=_p.BackgroundColor;Vector2 textureSize=surface.TextureSize;Vector2 screenCenter=textureSize*0.5f;Vector2 viewportSize=surface.SurfaceSize;Vector2 scale=viewportSize/512f;float minScale=Math.Min(scale.X,scale.Y);using(var frame=surface.DrawFrame()){if(clearSpriteCache){frame.Add(new MySprite());}foreach(var spriteContainer in _spriteContainers){frame.Add(spriteContainer.CreateSprite(minScale,ref screenCenter,ref viewportSize));}}}}/*
Draws a box that looks like this:
__        __
|            |

|__        __|
*/
static void DrawBoxCorners(Vector2 boxSize,Vector2 centerPos,float lineLength,float lineWidth,Color color,List&lt;MySpriteContainer&gt;spriteContainers){Vector2 horizontalSize=new Vector2(lineLength,lineWidth);Vector2 verticalSize=new Vector2(lineWidth,lineLength);Vector2 horizontalOffset=0.5f*horizontalSize;Vector2 verticalOffset=0.5f*verticalSize;Vector2 boxHalfSize=0.5f*boxSize;Vector2 boxTopLeft=centerPos-boxHalfSize;Vector2 boxBottomRight=centerPos+boxHalfSize;Vector2 boxTopRight=centerPos+new Vector2(boxHalfSize.X,-boxHalfSize.Y);Vector2 boxBottomLeft=centerPos+new Vector2(-boxHalfSize.X,boxHalfSize.Y);MySpriteContainer container;// Top left
container=new MySpriteContainer("SquareSimple", horizontalSize, boxTopLeft + horizontalOffset, 0, color);spriteContainers.Add(container);container = new MySpriteContainer("SquareSimple",verticalSize,boxTopLeft+verticalOffset,0,color);spriteContainers.Add(container);// Top right
container=new MySpriteContainer("SquareSimple", horizontalSize, boxTopRight + new Vector2(-horizontalOffset.X, horizontalOffset.Y), 0, color);spriteContainers.Add(container);container = new MySpriteContainer("SquareSimple",verticalSize,boxTopRight+new Vector2(-verticalOffset.X,verticalOffset.Y),0,color);spriteContainers.Add(container);// Bottom left
container=new MySpriteContainer("SquareSimple", horizontalSize, boxBottomLeft + new Vector2(horizontalOffset.X, -horizontalOffset.Y), 0, color);spriteContainers.Add(container);container = new MySpriteContainer("SquareSimple",verticalSize,boxBottomLeft+new Vector2(verticalOffset.X,-verticalOffset.Y),0,color);spriteContainers.Add(container);// Bottom right
container=new MySpriteContainer("SquareSimple", horizontalSize, boxBottomRight - horizontalOffset, 0, color);spriteContainers.Add(container);container = new MySpriteContainer("SquareSimple",verticalSize,boxBottomRight-verticalOffset,0,color);spriteContainers.Add(container);}}
#endregion

#region Antenna Broadcasting
void PopulateMatrix3x3Columns(ref Matrix3x3 mat,ref Vector3D col0,ref Vector3D col1,ref Vector3D col2){mat.M11=(float)col0.X;mat.M21=(float)col0.Y;mat.M31=(float)col0.Z;mat.M12=(float)col1.X;mat.M22=(float)col1.Y;mat.M32=(float)col1.Z;mat.M13=(float)col2.X;mat.M23=(float)col2.Y;mat.M33=(float)col2.Z;}void SendMissileHomingMessage(Vector3D lastHitPosition,Vector3D targetPosition,Vector3D targetVelocity,Vector3D preciseOffset,Vector3D shooterPosition,double timeSinceLastLock,long targetId,long keycode){Matrix3x3 matrix1=new Matrix3x3();PopulateMatrix3x3Columns(ref matrix1,ref lastHitPosition,ref targetPosition,ref targetVelocity);Matrix3x3 matrix2=new Matrix3x3();PopulateMatrix3x3Columns(ref matrix2,ref preciseOffset,ref shooterPosition,ref Vector3D.Zero);var payload=new MyTuple&lt;Matrix3x3,Matrix3x3,float,long,long&gt;{Item1=matrix1,Item2=matrix2,Item3=(float)timeSinceLastLock,Item4=targetId,Item5=keycode,};IGC.SendBroadcastMessage(IGC_TAG_HOMING,payload);}void SendMissileBeamRideMessage(Vector3D forward,Vector3D left,Vector3D up,Vector3D shooterPosition,long keycode){var payload=new MyTuple&lt;Vector3,Vector3,Vector3,Vector3,long&gt;{Item1=(Vector3)forward,Item2=(Vector3)left,Item3=(Vector3)up,Item4=(Vector3)shooterPosition,Item5=keycode};IGC.SendBroadcastMessage(IGC_TAG_BEAM_RIDING,payload);}void SendMissileParameterMessage(bool kill,bool stealth,bool spiral,bool topdown,bool precise,bool retask,long keycode){byte packedBools=0;packedBools|=BoolToByte(kill);packedBools|=(byte)(BoolToByte(stealth)&lt;&lt;1);packedBools|=(byte)(BoolToByte(spiral)&lt;&lt;2);packedBools|=(byte)(BoolToByte(topdown)&lt;&lt;3);packedBools|=(byte)(BoolToByte(precise)&lt;&lt;4);packedBools|=(byte)(BoolToByte(retask)&lt;&lt;5);var payload=new MyTuple&lt;byte,long&gt;{Item1=packedBools,Item2=keycode};IGC.SendBroadcastMessage(IGC_TAG_PARAMS,payload);}byte BoolToByte(bool value){return value ?(byte)1:(byte)0;}long GetBroadcastKey(){long broadcastKey=-1;if(_broadcastList.Count&gt;0)broadcastKey=_broadcastList[0].EntityId;return broadcastKey;}
#endregion

#region General Functions
Vector3D GetAverageBlockPosition&lt;T&gt;(List&lt;T&gt;blocks)where T:class,IMyTerminalBlock{Vector3D sum=Vector3D.Zero;foreach(var block in blocks){sum+=block.GetPosition();}return sum/blocks.Count();}IMyCameraBlock GetControlledCamera(List&lt;IMyCameraBlock&gt;cameras){foreach(var block in cameras){if(block.IsActive)return block;}return null;}IMyLargeTurretBase GetControlledTurret(List&lt;IMyLargeTurretBase&gt;turrets){foreach(var block in turrets){if(block.IsUnderControl)return block;}return null;}void ScaleAntennaRange(double dist){foreach(IMyRadioAntenna thisAntenna in _broadcastList){thisAntenna.EnableBroadcasting=true;thisAntenna.Radius=(float)dist;}}
#endregion

#region Ini Helper
public static class MyIniHelper{public static void SetVector3D(string sectionName,string vectorName,ref Vector3D vector,MyIni ini){ini.Set(sectionName,vectorName,vector.ToString());}public static Vector3D GetVector3D(string sectionName,string vectorName,MyIni ini){var vector=Vector3D.Zero;Vector3D.TryParse(ini.Get(sectionName,vectorName).ToString(),out vector);return vector;}public static void SetColor(string sectionName,string itemName,MyIni ini,Color color){string colorString=string.Format("{0}, {1}, {2}, {3}", color.R, color.G, color.B, color.A);ini.Set(sectionName, itemName, colorString);}public static Color GetColor(string sectionName, string itemName, MyIni ini, Color? defaultChar = null){string rgbString = ini.Get(sectionName, itemName).ToString("null");string[]rgbSplit=rgbString.Split(',');int r=0,g=0,b=0,a=0;if(rgbSplit.Length!=4){if(defaultChar.HasValue)return defaultChar.Value;else return Color.Transparent;}int.TryParse(rgbSplit[0].Trim(),out r);int.TryParse(rgbSplit[1].Trim(),out g);int.TryParse(rgbSplit[2].Trim(),out b);bool hasAlpha=int.TryParse(rgbSplit[3].Trim(),out a);if(!hasAlpha)a=255;r=MathHelper.Clamp(r,0,255);g=MathHelper.Clamp(g,0,255);b=MathHelper.Clamp(b,0,255);a=MathHelper.Clamp(a,0,255);return new Color(r,g,b,a);}}
#endregion

#region INCLUDES
enum TargetRelation:byte{Neutral=0,Other=0,Enemy=1,Friendly=2,Locked=4,LargeGrid=8,SmallGrid=16,Missile=32,RelationMask=Neutral|Enemy|Friendly,TypeMask=LargeGrid|SmallGrid|Other|Missile}
#region Raycast Homing
class RaycastHoming{public TargetingStatus Status{get;private set;}=TargetingStatus.NotLocked;public Vector3D TargetPosition{get{return OffsetTargeting ? OffsetTargetPosition:TargetCenter;}}public double SearchScanSpread{get;set;}=0;public Vector3D TargetCenter{get;private set;}=Vector3D.Zero;public Vector3D OffsetTargetPosition{get;private set;}=Vector3D.Zero;public Vector3D TargetVelocity{get;private set;}=Vector3D.Zero;public Vector3D HitPosition{get;private set;}=Vector3D.Zero;public Vector3D PreciseModeOffset{get;private set;}=Vector3D.Zero;public bool OffsetTargeting=false;public bool MissedLastScan{get;private set;}=false;public bool LockLost{get;private set;}=false;public bool IsScanning{get;private set;}=false;public double TimeSinceLastLock{get;private set;}=0;public double TargetSize{get;private set;}=0;public double MaxRange{get;private set;}public double MinRange{get;private set;}public long TargetId{get;private set;}=0;public double AutoScanInterval{get;private set;}=0;public double MaxTimeForLockBreak{get;private set;}public MyRelationsBetweenPlayerAndBlock TargetRelation{get;private set;}public MyDetectedEntityType TargetType{get;private set;}public enum TargetingStatus{NotLocked,Locked,TooClose};enum AimMode{Center,Offset,OffsetRelative};AimMode _currentAimMode=AimMode.Center;readonly HashSet&lt;MyDetectedEntityType&gt;_targetFilter=new HashSet&lt;MyDetectedEntityType&gt;();readonly List&lt;IMyCameraBlock&gt;_availableCameras=new List&lt;IMyCameraBlock&gt;();readonly Random _rngeesus=new Random();MyDetectedEntityInfo _info=default(MyDetectedEntityInfo);MatrixD _targetOrientation;Vector3D _targetPositionOverride;HashSet&lt;long&gt;_gridIDsToIgnore=new HashSet&lt;long&gt;();double _timeSinceLastScan=0;bool _manualLockOverride=false;bool _fudgeVectorSwitch=false;double AutoScanScaleFactor{get{return MissedLastScan ? 0.8:1.1;}}public RaycastHoming(double maxRange,double maxTimeForLockBreak,double minRange=0,long gridIDToIgnore=0){MinRange=minRange;MaxRange=maxRange;MaxTimeForLockBreak=maxTimeForLockBreak;AddIgnoredGridID(gridIDToIgnore);}public void SetInitialLockParameters(Vector3D hitPosition,Vector3D targetVelocity,Vector3D offset,double timeSinceLastLock,long targetId){_targetPositionOverride=hitPosition;TargetCenter=hitPosition;HitPosition=hitPosition;OffsetTargetPosition=hitPosition;PreciseModeOffset=offset;TargetVelocity=targetVelocity;TimeSinceLastLock=timeSinceLastLock;_manualLockOverride=true;IsScanning=true;TargetId=targetId;}public void AddIgnoredGridID(long id){_gridIDsToIgnore.Add(id);}public void ClearIgnoredGridIDs(){_gridIDsToIgnore.Clear();}public void AddEntityTypeToFilter(params MyDetectedEntityType[]types){foreach(var type in types){_targetFilter.Add(type);}}public void AcknowledgeLockLost(){LockLost=false;}public void LockOn(){ClearLockInternal();LockLost=false;IsScanning=true;}public void ClearLock(){ClearLockInternal();LockLost=false;}void ClearLockInternal(){_info=default(MyDetectedEntityInfo);IsScanning=false;Status=TargetingStatus.NotLocked;MissedLastScan=false;TimeSinceLastLock=0;TargetSize=0;HitPosition=Vector3D.Zero;TargetId=0;_timeSinceLastScan=141;_currentAimMode=AimMode.Center;TargetRelation=MyRelationsBetweenPlayerAndBlock.NoOwnership;TargetType=MyDetectedEntityType.None;}double RndDbl(){return 2*_rngeesus.NextDouble()-1;}double GaussRnd(){return(RndDbl()+RndDbl()+RndDbl())/3.0;}Vector3D CalculateFudgeVector(Vector3D targetDirection,double fudgeFactor=5){_fudgeVectorSwitch=!_fudgeVectorSwitch;if(!_fudgeVectorSwitch)return Vector3D.Zero;var perpVector1=Vector3D.CalculatePerpendicularVector(targetDirection);var perpVector2=Vector3D.Cross(perpVector1,targetDirection);if(!Vector3D.IsUnit(ref perpVector2))perpVector2.Normalize();var randomVector=GaussRnd()*perpVector1+GaussRnd()*perpVector2;return randomVector*fudgeFactor*TimeSinceLastLock;}Vector3D GetSearchPos(Vector3D origin,Vector3D direction,IMyCameraBlock camera){Vector3D scanPos=origin+direction*MaxRange;if(SearchScanSpread&lt;1e-2){return scanPos;}return scanPos+(camera.WorldMatrix.Left*GaussRnd()+camera.WorldMatrix.Up*GaussRnd())*SearchScanSpread;}public void Update(double timeStep,List&lt;IMyCameraBlock&gt;cameraList,List&lt;IMyShipController&gt;shipControllers,IMyTerminalBlock referenceBlock=null){_timeSinceLastScan+=timeStep;if(!IsScanning)return;TimeSinceLastLock+=timeStep;_info=default(MyDetectedEntityInfo);_availableCameras.Clear();//Check for lock lost
if(TimeSinceLastLock&gt;(MaxTimeForLockBreak+AutoScanInterval)&amp;&amp;Status==TargetingStatus.Locked){LockLost=true;ClearLockInternal();return;}// Determine where to scan next
var scanPosition=Vector3D.Zero;switch(_currentAimMode){case AimMode.Offset:scanPosition=HitPosition+TargetVelocity*TimeSinceLastLock;break;case AimMode.OffsetRelative:scanPosition=OffsetTargetPosition+TargetVelocity*TimeSinceLastLock;break;default:scanPosition=TargetCenter+TargetVelocity*TimeSinceLastLock;break;}if(MissedLastScan&amp;&amp;cameraList.Count&gt;0){scanPosition+=CalculateFudgeVector(scanPosition-cameraList[0].GetPosition());}// Trim out cameras that cant see our next scan position
Vector3D testDirection=Vector3D.Zero;IMyTerminalBlock reference=null;if(Status==TargetingStatus.Locked||_manualLockOverride){GetAvailableCameras(cameraList,_availableCameras,scanPosition,true);}else{/*
* The following prioritizes references in the following hierarchy:
* 1. Currently used camera
* 2. Reference block
* 3. Currently used control seat
*/
if(reference==null)reference=GetControlledCamera(cameraList);if(reference==null)reference=referenceBlock;if(reference==null)reference=GetControlledShipController(shipControllers);if(reference!=null){testDirection=reference.WorldMatrix.Forward;GetAvailableCameras(cameraList,_availableCameras,testDirection);}else{_availableCameras.AddRange(cameraList);}}// Check for transition between faces
if(_availableCameras.Count==0){_timeSinceLastScan=100000;MissedLastScan=true;return;}var camera=GetCameraWithMaxRange(_availableCameras);var cameraMatrix=camera.WorldMatrix;double scanRange;Vector3D adjustedTargetPos=Vector3D.Zero;if(Status==TargetingStatus.Locked||_manualLockOverride){// We adjust the scan position to scan a bit past the target so we are more likely to hit if it is moving away
adjustedTargetPos=scanPosition+Vector3D.Normalize(scanPosition-cameraMatrix.Translation)*2*TargetSize;scanRange=(adjustedTargetPos-cameraMatrix.Translation).Length();}else{scanRange=MaxRange;}AutoScanInterval=scanRange/(1000.0*camera.RaycastTimeMultiplier)/_availableCameras.Count*AutoScanScaleFactor;//Attempt to scan adjusted target position
if(camera.AvailableScanRange&gt;=scanRange&amp;&amp;_timeSinceLastScan&gt;=AutoScanInterval){if(Status==TargetingStatus.Locked||_manualLockOverride)_info=camera.Raycast(adjustedTargetPos);else if(!Vector3D.IsZero(testDirection))_info=camera.Raycast(GetSearchPos(reference.GetPosition(),testDirection,camera));else _info=camera.Raycast(MaxRange);_timeSinceLastScan=0;}else // Not enough charge stored up yet
{return;}// Validate target and assign values
if(!_info.IsEmpty()&amp;&amp;!_targetFilter.Contains(_info.Type)&amp;&amp;!_gridIDsToIgnore.Contains(_info.EntityId))//target lock
{if(Vector3D.DistanceSquared(_info.Position,camera.GetPosition())&lt;MinRange*MinRange&amp;&amp;Status!=TargetingStatus.Locked){Status=TargetingStatus.TooClose;return;}else if(Status==TargetingStatus.Locked)// Target already locked
{if(_info.EntityId==TargetId){TargetCenter=_info.Position;HitPosition=_info.HitPosition.Value;_targetOrientation=_info.Orientation;OffsetTargetPosition=TargetCenter+Vector3D.TransformNormal(PreciseModeOffset,_targetOrientation);TargetVelocity=_info.Velocity;TargetSize=_info.BoundingBox.Size.Length();TimeSinceLastLock=0;_manualLockOverride=false;MissedLastScan=false;TargetRelation=_info.Relationship;TargetType=_info.Type;}else{MissedLastScan=true;}}else // Target not yet locked: initial lockon
{if(_manualLockOverride&amp;&amp;TargetId!=_info.EntityId)return;Status=TargetingStatus.Locked;TargetId=_info.EntityId;TargetCenter=_info.Position;HitPosition=_info.HitPosition.Value;TargetVelocity=_info.Velocity;TargetSize=_info.BoundingBox.Size.Length();TimeSinceLastLock=0;var aimingCamera=GetControlledCamera(_availableCameras);Vector3D hitPosOffset=Vector3D.Zero;if(aimingCamera!=null){hitPosOffset=aimingCamera.GetPosition()-camera.GetPosition();}else if(reference!=null){hitPosOffset=reference.GetPosition()-camera.GetPosition();}if(!Vector3D.IsZero(hitPosOffset)){hitPosOffset=VectorRejection(hitPosOffset,HitPosition-camera.GetPosition());}var hitPos=_info.HitPosition.Value+hitPosOffset;_targetOrientation=_info.Orientation;if(_manualLockOverride){_manualLockOverride=false;}else{PreciseModeOffset=Vector3D.TransformNormal(hitPos-TargetCenter,MatrixD.Transpose(_targetOrientation));OffsetTargetPosition=hitPos;}MissedLastScan=false;TargetRelation=_info.Relationship;TargetType=_info.Type;}}else{MissedLastScan=true;}if(MissedLastScan){_currentAimMode=(AimMode)((int)(_currentAimMode+1)%3);}}void GetAvailableCameras(List&lt;IMyCameraBlock&gt;allCameras,List&lt;IMyCameraBlock&gt;availableCameras,Vector3D testVector,bool vectorIsPosition=false){availableCameras.Clear();foreach(var c in allCameras){if(c.Closed)continue;if(TestCameraAngles(c,vectorIsPosition ? testVector-c.GetPosition():testVector))availableCameras.Add(c);}}bool TestCameraAngles(IMyCameraBlock camera,Vector3D direction){Vector3D local=Vector3D.Rotate(direction,MatrixD.Transpose(camera.WorldMatrix));if(local.Z&gt;0)return false;var yawTan=Math.Abs(local.X/local.Z);var localSq=local*local;var pitchTanSq=localSq.Y/(localSq.X+localSq.Z);return yawTan&lt;=1&amp;&amp;pitchTanSq&lt;=1;}IMyCameraBlock GetCameraWithMaxRange(List&lt;IMyCameraBlock&gt;cameras){double maxRange=0;IMyCameraBlock maxRangeCamera=null;foreach(var c in cameras){if(c.AvailableScanRange&gt;maxRange){maxRangeCamera=c;maxRange=maxRangeCamera.AvailableScanRange;}}return maxRangeCamera;}IMyCameraBlock GetControlledCamera(List&lt;IMyCameraBlock&gt;cameras){foreach(var c in cameras){if(c.Closed)continue;if(c.IsActive)return c;}return null;}IMyShipController GetControlledShipController(List&lt;IMyShipController&gt;controllers){if(controllers.Count==0)return null;IMyShipController mainController=null;IMyShipController controlled=null;foreach(var sc in controllers){if(sc.IsUnderControl&amp;&amp;sc.CanControlShip){if(controlled==null){controlled=sc;}if(sc.IsMainCockpit){mainController=sc;// Only one per grid so no null check needed
}}}if(mainController!=null)return mainController;if(controlled!=null)return controlled;return controllers[0];}public static Vector3D VectorRejection(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return Vector3D.Zero;return a-a.Dot(b)/b.LengthSquared()*b;}}
#endregion
/// &lt;summary&gt;
/// Class that tracks runtime history.
/// &lt;/summary&gt;
public class RuntimeTracker{public int Capacity{get;set;}public double Sensitivity{get;set;}public double MaxRuntime{get;private set;}public double MaxInstructions{get;private set;}public double AverageRuntime{get;private set;}public double AverageInstructions{get;private set;}public double LastRuntime{get;private set;}public double LastInstructions{get;private set;}readonly Queue&lt;double&gt;_runtimes=new Queue&lt;double&gt;();readonly Queue&lt;double&gt;_instructions=new Queue&lt;double&gt;();readonly int _instructionLimit;readonly Program _program;const double MS_PER_TICK=16.6666;const string Format="General Runtime Info\n" + "- Avg runtime: {0:n4} ms\n" + "- Last runtime: {1:n4} ms\n" + "- Max runtime: {2:n4} ms\n" + "- Avg instructions: {3:n2}\n" + "- Last instructions: {4:n0}\n" + "- Max instructions: {5:n0}\n" + "- Avg complexity: {6:0.000}%";public RuntimeTracker(Program program,int capacity=100,double sensitivity=0.005){_program=program;Capacity=capacity;Sensitivity=sensitivity;_instructionLimit=_program.Runtime.MaxInstructionCount;}public void AddRuntime(){double runtime=_program.Runtime.LastRunTimeMs;LastRuntime=runtime;AverageRuntime+=(Sensitivity*runtime);int roundedTicksSinceLastRuntime=(int)Math.Round(_program.Runtime.TimeSinceLastRun.TotalMilliseconds/MS_PER_TICK);if(roundedTicksSinceLastRuntime==1){AverageRuntime*=(1-Sensitivity);}else if(roundedTicksSinceLastRuntime&gt;1){AverageRuntime*=Math.Pow((1-Sensitivity),roundedTicksSinceLastRuntime);}_runtimes.Enqueue(runtime);if(_runtimes.Count==Capacity){_runtimes.Dequeue();}MaxRuntime=_runtimes.Max();}public void AddInstructions(){double instructions=_program.Runtime.CurrentInstructionCount;LastInstructions=instructions;AverageInstructions=Sensitivity*(instructions-AverageInstructions)+AverageInstructions;_instructions.Enqueue(instructions);if(_instructions.Count==Capacity){_instructions.Dequeue();}MaxInstructions=_instructions.Max();}public string Write(){return string.Format(Format,AverageRuntime,LastRuntime,MaxRuntime,AverageInstructions,LastInstructions,MaxInstructions,AverageInstructions/_instructionLimit);}}
#region Scheduler
/// &lt;summary&gt;
/// Class for scheduling actions to occur at specific frequencies. Actions can be updated in parallel or in sequence (queued).
/// &lt;/summary&gt;
public class Scheduler{public double CurrentTimeSinceLastRun{get;private set;}=0;public long CurrentTicksSinceLastRun{get;private set;}=0;QueuedAction _currentlyQueuedAction=null;bool _firstRun=true;bool _inUpdate=false;readonly bool _ignoreFirstRun;readonly List&lt;ScheduledAction&gt;_actionsToAdd=new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt;_scheduledActions=new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt;_actionsToDispose=new List&lt;ScheduledAction&gt;();readonly Queue&lt;QueuedAction&gt;_queuedActions=new Queue&lt;QueuedAction&gt;();readonly Program _program;public const long TicksPerSecond=60;public const double TickDurationSeconds=1.0/TicksPerSecond;const long ClockTicksPerGameTick=166666L;/// &lt;summary&gt;
/// Constructs a scheduler object with timing based on the runtime of the input program.
/// &lt;/summary&gt;
public Scheduler(Program program,bool ignoreFirstRun=false){_program=program;_ignoreFirstRun=ignoreFirstRun;}/// &lt;summary&gt;
/// Updates all ScheduledAcions in the schedule and the queue.
/// &lt;/summary&gt;
public void Update(){_inUpdate=true;long deltaTicks=Math.Max(0,_program.Runtime.TimeSinceLastRun.Ticks/ClockTicksPerGameTick);if(_firstRun){if(_ignoreFirstRun){deltaTicks=0;}_firstRun=false;}_actionsToDispose.Clear();foreach(ScheduledAction action in _scheduledActions){CurrentTicksSinceLastRun=action.TicksSinceLastRun+deltaTicks;CurrentTimeSinceLastRun=action.TimeSinceLastRun+deltaTicks*TickDurationSeconds;action.Update(deltaTicks);if(action.JustRan&amp;&amp;action.DisposeAfterRun){_actionsToDispose.Add(action);}}if(_actionsToDispose.Count&gt;0){_scheduledActions.RemoveAll((x)=&gt;_actionsToDispose.Contains(x));}if(_currentlyQueuedAction==null){// If queue is not empty, populate current queued action
if(_queuedActions.Count!=0)_currentlyQueuedAction=_queuedActions.Dequeue();}// If queued action is populated
if(_currentlyQueuedAction!=null){_currentlyQueuedAction.Update(deltaTicks);if(_currentlyQueuedAction.JustRan){if(!_currentlyQueuedAction.DisposeAfterRun){_queuedActions.Enqueue(_currentlyQueuedAction);}// Set the queued action to null for the next cycle
_currentlyQueuedAction=null;}}_inUpdate=false;if(_actionsToAdd.Count&gt;0){_scheduledActions.AddRange(_actionsToAdd);_actionsToAdd.Clear();}}/// &lt;summary&gt;
/// Adds an Action to the schedule. All actions are updated each update call.
/// &lt;/summary&gt;
public void AddScheduledAction(Action action,double updateFrequency,bool disposeAfterRun=false,double timeOffset=0){ScheduledAction scheduledAction=new ScheduledAction(action,updateFrequency,disposeAfterRun,timeOffset);if(!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}/// &lt;summary&gt;
/// Adds a ScheduledAction to the schedule. All actions are updated each update call.
/// &lt;/summary&gt;
public void AddScheduledAction(ScheduledAction scheduledAction){if(!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}/// &lt;summary&gt;
/// Adds an Action to the queue. Queue is FIFO.
/// &lt;/summary&gt;
public void AddQueuedAction(Action action,double updateInterval,bool removeAfterRun=false){if(updateInterval&lt;=0){updateInterval=0.001;// avoids divide by zero
}QueuedAction scheduledAction=new QueuedAction(action,updateInterval,removeAfterRun);_queuedActions.Enqueue(scheduledAction);}/// &lt;summary&gt;
/// Adds a ScheduledAction to the queue. Queue is FIFO.
/// &lt;/summary&gt;
public void AddQueuedAction(QueuedAction scheduledAction){_queuedActions.Enqueue(scheduledAction);}}public class QueuedAction:ScheduledAction{public QueuedAction(Action action,double runInterval,bool removeAfterRun=false):base(action,1.0/runInterval,removeAfterRun:removeAfterRun,timeOffset:0){}}public class ScheduledAction{public bool JustRan{get;private set;}=false;public bool DisposeAfterRun{get;private set;}=false;public double TimeSinceLastRun{get{return TicksSinceLastRun*Scheduler.TickDurationSeconds;}}public long TicksSinceLastRun{get;private set;}=0;public double RunInterval{get{return RunIntervalTicks*Scheduler.TickDurationSeconds;}set{RunIntervalTicks=(long)Math.Round(value*Scheduler.TicksPerSecond);}}public long RunIntervalTicks{get{return _runIntervalTicks;}set{if(value==_runIntervalTicks)return;_runIntervalTicks=value&lt;0 ? 0:value;_runFrequency=value==0 ? double.MaxValue:Scheduler.TicksPerSecond/_runIntervalTicks;}}public double RunFrequency{get{return _runFrequency;}set{if(value==_runFrequency)return;if(value==0)RunIntervalTicks=long.MaxValue;else RunIntervalTicks=(long)Math.Round(Scheduler.TicksPerSecond/value);}}long _runIntervalTicks;double _runFrequency;readonly Action _action;/// &lt;summary&gt;
/// Class for scheduling an action to occur at a specified frequency (in Hz).
/// &lt;/summary&gt;
/// &lt;param name="action"&gt;Action to run&lt;/param&gt;
/// &lt;param name="runFrequency"&gt;How often to run in Hz&lt;/param&gt;
public ScheduledAction(Action action,double runFrequency,bool removeAfterRun=false,double timeOffset=0){_action=action;RunFrequency=runFrequency;// Implicitly sets RunInterval
DisposeAfterRun=removeAfterRun;TicksSinceLastRun=(long)Math.Round(timeOffset*Scheduler.TicksPerSecond);}public void Update(long deltaTicks){TicksSinceLastRun+=deltaTicks;if(TicksSinceLastRun&gt;=RunIntervalTicks){_action.Invoke();TicksSinceLastRun=0;JustRan=true;}else{JustRan=false;}}}
#endregion
/// &lt;summary&gt;
/// A simple, generic circular buffer class with a fixed capacity.
/// &lt;/summary&gt;
/// &lt;typeparam name="T"&gt;&lt;/typeparam&gt;
public class CircularBuffer&lt;T&gt;{public readonly int Capacity;T[]_array=null;int _setIndex=0;int _getIndex=0;/// &lt;summary&gt;
/// CircularBuffer ctor.
/// &lt;/summary&gt;
/// &lt;param name="capacity"&gt;Capacity of the CircularBuffer.&lt;/param&gt;
public CircularBuffer(int capacity){if(capacity&lt;1)throw new Exception($"Capacity of CircularBuffer ({capacity}) can not be less than 1");Capacity=capacity;_array=new T[Capacity];}/// &lt;summary&gt;
/// Adds an item to the buffer. If the buffer is full, it will overwrite the oldest value.
/// &lt;/summary&gt;
/// &lt;param name="item"&gt;&lt;/param&gt;
public void Add(T item){_array[_setIndex]=item;_setIndex=++_setIndex%Capacity;}/// &lt;summary&gt;
/// Retrieves the current item in the buffer and increments the buffer index.
/// &lt;/summary&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public T MoveNext(){T val=_array[_getIndex];_getIndex=++_getIndex%Capacity;return val;}/// &lt;summary&gt;
/// Retrieves the current item in the buffer without incrementing the buffer index.
/// &lt;/summary&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public T Peek(){return _array[_getIndex];}}
#region Argument Parser
class ArgumentParser{public int ArgumentCount{get;private set;}=0;public string ErrorMessage{get;private set;}const char Quote='"';List&lt;string&gt; _arguments = new List&lt;string&gt;();HashSet&lt;string&gt; _argHash = new HashSet&lt;string&gt;();HashSet&lt;string&gt; _switchHash = new HashSet&lt;string&gt;();Dictionary&lt;string, int&gt; _switchIndexDict = new Dictionary&lt;string, int&gt;();enum ReturnCode { EndOfStream = -1, Nominal = 0, NoArgs = 1, NonAlphaSwitch = 2, NoEndQuote = 3, NoSwitchName = 4 }string _raw;public bool InRange(int index){if (index &lt; 0 || index &gt;= _arguments.Count){return false;}return true;}public string Argument(int index){if (!InRange(index)){return "";}return _arguments[index];}public bool IsSwitch(int index){if(!InRange(index)){return false;}return _switchHash.Contains(_arguments[index]);}public int GetSwitchIndex(string switchName){int idx;if(_switchIndexDict.TryGetValue(switchName,out idx)){return idx;}return-1;}ReturnCode GetArgStartIdx(int startIdx,out int idx,out bool isQuoted,out bool isSwitch){idx=-1;isQuoted=false;isSwitch=false;for(int i=startIdx;i&lt;_raw.Length;++i){char c=_raw[i];if(c!=' '){if (c == Quote){isQuoted = true;idx = i + 1;return ReturnCode.Nominal;}if (c == '-' &amp;&amp; i + 1 &lt; _raw.Length &amp;&amp; _raw[i+1] == '-'){isSwitch = true;idx = i + 2;return ReturnCode.Nominal;}idx = i;return ReturnCode.Nominal;}}return ReturnCode.NoArgs;}ReturnCode GetArgLength(int startIdx, bool isQuoted, bool isSwitch, out int length){length = 0;for (int i = startIdx; i &lt; _raw.Length; ++i){char c = _raw[i];if (isQuoted){if (c == Quote){return ReturnCode.Nominal;}}else {if (c == ' '){if (isSwitch &amp;&amp; length == 0){return ReturnCode.NoSwitchName;}return ReturnCode.Nominal;}if (isSwitch){if (!char.IsLetter(c) &amp;&amp; c != '_'){return ReturnCode.NonAlphaSwitch;}}}length++;}if(isQuoted){return ReturnCode.NoEndQuote;}if(length==0&amp;&amp;isSwitch){return ReturnCode.NoSwitchName;}return ReturnCode.EndOfStream;// Reached end of stream
}void ClearArguments(){ArgumentCount=0;_arguments.Clear();_switchHash.Clear();_argHash.Clear();_switchIndexDict.Clear();}public bool HasArgument(string argName){return _argHash.Contains(argName);}public bool HasSwitch(string switchName){return _switchHash.Contains(switchName);}public bool TryParse(string arg){ReturnCode status;_raw=arg;ClearArguments();int idx=0;while(idx&lt;_raw.Length){bool isQuoted,isSwitch;int startIdx,length;string argString;status=GetArgStartIdx(idx,out startIdx,out isQuoted,out isSwitch);if(status==ReturnCode.NoArgs){ErrorMessage="";return true;}status = GetArgLength(startIdx, isQuoted, isSwitch, out length);if (status == ReturnCode.NoEndQuote){ErrorMessage = $"No closing quote found! (idx: {startIdx})";ClearArguments();return false;}else if (status == ReturnCode.NonAlphaSwitch){ErrorMessage = $"Switch can not contain non-alphabet characters! (idx: {startIdx})";ClearArguments();return false;}else if (status == ReturnCode.NoSwitchName){ErrorMessage = $"Switch does not have a name (idx: {startIdx})";ClearArguments();return false;}else if(status==ReturnCode.EndOfStream)// End of stream
{argString=_raw.Substring(startIdx);_arguments.Add(argString);_argHash.Add(argString);if(isSwitch){_switchHash.Add(argString);_switchIndexDict[argString]=ArgumentCount;}ArgumentCount++;ErrorMessage="";return true;}argString=_raw.Substring(startIdx,length);_arguments.Add(argString);_argHash.Add(argString);if(isSwitch){_switchHash.Add(argString);_switchIndexDict[argString]=ArgumentCount;}ArgumentCount++;idx=startIdx+length;if(isQuoted){idx++;// Move past the quote
}}ErrorMessage="";return true;}}
#endregion

#region BSOD
static class BlueScreenOfDeath{const int MAX_BSOD_WIDTH=35;const string BSOD_TEMPLATE="{0} - v{1}\n\n"+ "A fatal exception has occured at\n"+ "{2}. The current\n"+ "program will be terminated.\n"+ "\n"+ "EXCEPTION:\n"+ "{3}\n"+ "\n"+ "* Please REPORT this crash message to\n"+ "  the Bug Reports discussion of this script\n"+ "\n"+ "* Press RECOMPILE to restart the program";static StringBuilder bsodBuilder = new StringBuilder(256);public static void Show(IMyTextSurface surface, string scriptName, string version, Exception e){if (surface == null){return;}surface.ContentType = ContentType.TEXT_AND_IMAGE;surface.Alignment = TextAlignment.LEFT;float scaleFactor = 512f / (float)Math.Min(surface.TextureSize.X, surface.TextureSize.Y);surface.FontSize = scaleFactor * surface.TextureSize.X / (26f * MAX_BSOD_WIDTH);surface.FontColor = Color.White;surface.BackgroundColor = Color.Blue;surface.Font = "Monospace";string exceptionStr = e.ToString();string[] exceptionLines = exceptionStr.Split('\n');bsodBuilder.Clear();foreach (string line in exceptionLines){if (line.Length &lt;= MAX_BSOD_WIDTH){bsodBuilder.Append(line).Append("\n");}else {string[] words = line.Split(' ');int lineLength = 0;foreach (string word in words){lineLength += word.Length;if (lineLength &gt;= MAX_BSOD_WIDTH){lineLength = 0;bsodBuilder.Append("\n");}bsodBuilder.Append(word).Append(" ");}bsodBuilder.Append("\n");}}surface.WriteText(string.Format(BSOD_TEMPLATE,scriptName.ToUpperInvariant(),version,DateTime.Now,bsodBuilder));}}
#endregion
public static class StringExtensions{public static bool Contains(string source,string toCheck,StringComparison comp=StringComparison.OrdinalIgnoreCase){return source?.IndexOf(toCheck,comp)&gt;=0;}}public struct MySpriteContainer{readonly string _spriteName;readonly Vector2 _size;readonly Vector2 _positionFromCenter;readonly float _rotationOrScale;readonly Color _color;readonly string _font;readonly string _text;readonly float _scale;readonly bool _isText;readonly TextAlignment _textAlign;readonly bool _fillWidth;public MySpriteContainer(string spriteName,Vector2 size,Vector2 positionFromCenter,float rotation,Color color,bool fillWidth=false){_spriteName=spriteName;_size=size;_positionFromCenter=positionFromCenter;_rotationOrScale=rotation;_color=color;_isText=false;_font="";_text = "";_scale = 0f;_textAlign = TextAlignment.CENTER;_fillWidth = fillWidth;}public MySpriteContainer(string text, string font, float scale, Vector2 positionFromCenter, Color color, TextAlignment textAlign = TextAlignment.CENTER){_text = text;_font = font;_scale = scale;_positionFromCenter = positionFromCenter;_rotationOrScale = scale;_color = color;_isText = true;_textAlign = textAlign;_spriteName = "";_size=Vector2.Zero;_fillWidth=false;}public MySprite CreateSprite(float scale,ref Vector2 center,ref Vector2 viewportSize){if(!_isText){if(_fillWidth){Vector2 sizeAdjusted=new Vector2(viewportSize.X,_size.Y*scale);return new MySprite(SpriteType.TEXTURE,_spriteName,center+_positionFromCenter*scale,sizeAdjusted,_color,rotation:_rotationOrScale);}return new MySprite(SpriteType.TEXTURE,_spriteName,center+_positionFromCenter*scale,_size*scale,_color,rotation:_rotationOrScale);}else return new MySprite(SpriteType.TEXT,_text,center+_positionFromCenter*scale,null,_color,_font,rotation:_rotationOrScale*scale,alignment:_textAlign);}}/// &lt;summary&gt;
/// Selects the active controller from a list using the following priority:
/// Main controller &gt; Oldest controlled ship controller &gt; Any controlled ship controller.
/// &lt;/summary&gt;
/// &lt;param name="controllers"&gt;List of ship controlers&lt;/param&gt;
/// &lt;param name="lastController"&gt;Last actively controlled controller&lt;/param&gt;
/// &lt;returns&gt;Actively controlled ship controller or null if none is controlled&lt;/returns&gt;
IMyShipController GetControlledShipController(List&lt;IMyShipController&gt;controllers,IMyShipController lastController=null){IMyShipController currentlyControlled=null;foreach(IMyShipController ctrl in controllers){if(ctrl.IsMainCockpit){return ctrl;}// Grab the first seat that has a player sitting in it
// and save it away in-case we don't have a main contoller
if(currentlyControlled==null&amp;&amp;ctrl!=lastController&amp;&amp;ctrl.IsUnderControl&amp;&amp;ctrl.CanControlShip){currentlyControlled=ctrl;}}// We did not find a main controller, so if the first controlled controller
// from last cycle if it is still controlled
if(lastController!=null&amp;&amp;lastController.IsUnderControl){return lastController;}// Otherwise we return the first ship controller that we
// found that was controlled.
if(currentlyControlled!=null){return currentlyControlled;}// Nothing is under control, return the controller from last cycle.
return lastController;}
#endregion

#endregion
</Program>
              <Storage />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
              <SubtypeName>LargeProgrammableBlockReskin</SubtypeName>
              <EntityId>117599629892306575</EntityId>
              <Min x="-1" y="2" z="-8" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[TCES - General]
Group name tag=TG
Azimuth rotor name tag=Azi
Elevation rotor name tag=Ele
Should auto return to rest angle=True
Auto return to rest angle delay (s)=2
Draw title screen=True
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>PB - Ship TCES</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Monospace" />
                  <FontSize>0.525</FontSize>
                  <Text>TCES - v1.8.8

A fatal exception has occured at
04/19/2023 18:08:04. The current
program will be terminated.

EXCEPTION:
System.ArgumentNullException: Value cannot be 
null.
 
Parameter name: key
   at 
System.ThrowHelper.ThrowArgumentNullException(ExceptionArgument 
argument)
 
   at 
System.Collections.Generic.Dictionary`2.FindEntry(TKey 
key)
 
   at 
System.Collections.Generic.Dictionary`2.TryGetValue(TKey 
key, TValue&amp; value)
 
   at 
Sandbox.Game.Entities.MyCubeGrid.IsSameConstructAs(IMyCubeGrid 
other)
 
   at 
SpaceEngineers.Game.Entities.Blocks.MyTurretControlBlock.set_AzimuthRotor(IMyMotorStator 
value)
 
   at 
Program.CustomTurretController.HandleAzimuthAndElevationRestAngles()
 
   at Program.CustomTurretController.Update10()
   at Program.OnUpdate10()
   at Program.Main(String arg, UpdateType 
updateSource) 


* Please REPORT this crash message to
  the Bug Reports discussion of this script

* Press RECOMPILE to restart the program</Text>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4294901760</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>255</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>255</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>SCRIPT</ContentType>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <CustomizeScripts>true</CustomizeScripts>
                  <ScriptBackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <Program>
#region In-game Script
/*
/ //// / TCES | Turret Controller Enhancement Script (by Whiplash141) / //// /

Description

This is a simple script that enhances the functionality of the
Custom Turret Controller (CTC) block with the following features:
- Automatic CTC block configuration
- Turret rotor rest angles
- Support of more than 2 rotors































=================================================
DO NOT MODIFY VARIABLES IN THE SCRIPT!

USE THE CUSTOM DATA OF THIS PROGRAMMABLE BLOCK!
=================================================


*/

public const string Version = "1.8.8",
                    Date = "2023/04/15",
                    IniSectionGeneral = "TCES - General",
                    IniKeyGroupNameTag = "Group name tag",
                    IniKeyAzimuthName = "Azimuth rotor name tag",
                    IniKeyElevationName = "Elevation rotor name tag",
                    IniKeyAutoRestAngle = "Should auto return to rest angle",
                    IniKeyAutoRestDelay = "Auto return to rest angle delay (s)",
                    IniKeyDrawTitleScreen = "Draw title screen",
                    IniSectionRotor = "TCES - Rotor",
                    IniKeyRestAngle = "Rest angle (deg)",
                    IniKeyEnableStabilization = "Enable stabilization";

RuntimeTracker _runtimeTracker;
long _runCount = 0;

IConfigValue[] _config;
ConfigString _groupNameTag = new ConfigString(IniSectionGeneral, IniKeyGroupNameTag, "TCES");
public ConfigString AzimuthName = new ConfigString(IniSectionGeneral, IniKeyAzimuthName, "Azimuth");
public ConfigString ElevationName = new ConfigString(IniSectionGeneral, IniKeyElevationName, "Elevation");
public ConfigBool AutomaticRest = new ConfigBool(IniSectionGeneral, IniKeyAutoRestAngle, true);
public ConfigFloat AutomaticRestDelay = new ConfigFloat(IniSectionGeneral, IniKeyAutoRestDelay, 2f);
ConfigBool _drawTitleScreen = new ConfigBool(IniSectionGeneral, IniKeyDrawTitleScreen, true);

TCESTitleScreen _titleScreen;

List&lt;CustomTurretController&gt; _turretControllers = new List&lt;CustomTurretController&gt;();

MyIni _ini = new MyIni();

class CustomTurretController
{
    class ConfigRotorAngle : ConfigFloat
    {
        const string DefaultString = "none";
        public bool HasValue { get; private set; } = false;

        public ConfigRotorAngle(string section, string name) : base(section, name, -1f, null) { }

        public override string ToString()
        {
            return HasValue ? Value.ToString() : DefaultString;
        }

        protected override void SetValue(ref MyIniValue val)
        {
            HasValue = true;
            base.SetValue(ref val);
        }
        protected override void SetDefault()
        {
            HasValue = false;
        }
    }

    IConfigValue[] _rotorConfig;

    ConfigBool _enableStabilization = new ConfigBool(IniSectionRotor, IniKeyEnableStabilization, true);
    ConfigRotorAngle _restAngle = new ConfigRotorAngle(IniSectionRotor, IniKeyRestAngle);

    const float RotorStopThresholdRad = 1f * (MathHelper.Pi / 180f);
    List&lt;IMyFunctionalBlock&gt; _tools = new List&lt;IMyFunctionalBlock&gt;();
    List&lt;IMyCameraBlock&gt; _cameras = new List&lt;IMyCameraBlock&gt;();
    List&lt;IMyFunctionalBlock&gt; _mainTools = new List&lt;IMyFunctionalBlock&gt;();
    List&lt;IMyFunctionalBlock&gt; _otherTools = new List&lt;IMyFunctionalBlock&gt;();

    List&lt;IMyMotorStator&gt; _extraRotors = new List&lt;IMyMotorStator&gt;();
    StabilizedRotor _azimuthStabilizer = new StabilizedRotor();
    StabilizedRotor _elevationStabilizer = new StabilizedRotor();
    float? _azimuthRestAngle = null;
    float? _elevationRestAngle = null;
    bool _stabilizeAzimuth = true;
    bool _stabilizeElevation = true;
    IMyTurretControlBlock _controller;

    Program _p;
    IMyBlockGroup _group;
    readonly string _groupName;

    Dictionary&lt;IMyCubeGrid, IMyFunctionalBlock&gt; _gridToToolDict = new Dictionary&lt;IMyCubeGrid, IMyFunctionalBlock&gt;();
    long _updateCount = 0;

    bool _wasActive = false;
    bool _wasShooting = false;
    bool _wasManuallyControlled = false;
    bool _shouldRest = false;
    MyIni _ini = new MyIni();
    float _idleTime = 0f;

    const float RestSpeed = 10f;
    const float PlayerInputMultiplier = 1f/50f; // Magic number from: SpaceEngineers.ObjectBuilders.ObjectBuilders.Definitions.MyObjectBuilder_TurretControlBlockDefinition.PlayerInputDivider

    enum ReturnCode
    {
        None = 0,
        NoExtraRotors = 1,
        MultipleTurretControllers = 1 &lt;&lt; 1,
        MissingCamera = 1 &lt;&lt; 2,
        MissingAzimuth = 1 &lt;&lt; 3,
        MissingElevation = 1 &lt;&lt; 4,
        MissingTools = 1 &lt;&lt; 5,
        MissingController = 1 &lt;&lt; 6,
        MissingRotors = MissingAzimuth | MissingElevation,
        MissingToolAndCamera = MissingTools | MissingCamera,
    }
    ReturnCode _setupReturnCode = ReturnCode.None;

    public bool IsManuallyControlled
    {
        get
        {
            return _controller != null &amp;&amp; _controller.IsUnderControl;
        }
    }

    bool IsActive
    {
        get
        {
            return _controller != null &amp;&amp; (_controller.HasTarget || _controller.IsUnderControl || _controller.IsSunTrackerEnabled);
        }
    }

    public CustomTurretController(Program p, IMyBlockGroup group)
    {
        _rotorConfig = new IConfigValue[]
        {
            _restAngle,
            _enableStabilization,
        };

        _p = p;
        _group = group;
        _groupName = group.Name;
        Setup();
        SetBlocks();
    }

    public void GoToRest()
    {
        if (_controller != null &amp;&amp; !IsActive)
        {
            _shouldRest = true;
        }
    }

    /*
     * Since we are nulling out the rotors in order to apply stabilization,
     * the GetAzimuth/ElevationSpeedMax methods will return 30 rpm always. However,
     * when a rotor is actually assigned, small grid rotors will return 60 rpm. The
     * multipliers below account for this.
     */
    static float GetRotorMultiplier(IMyMotorStator rotor)
    {
        return (rotor.CubeGrid.GridSizeEnum == MyCubeSize.Small) ? 2f : 1f;
    }

    static float MouseInputToRotorVelocityRpm(float input, float multiplierRpm, IMyMotorStator rotor)
    {   
        return input * PlayerInputMultiplier * multiplierRpm * GetRotorMultiplier(rotor);
    }

    public void Update1()
    {

        if (IsManuallyControlled)
        {
            if (_stabilizeAzimuth) 
            { 
                _azimuthStabilizer.Update(1f / 60f);
            }
            _controller.AzimuthRotor = null;
            if (BlockValid(_azimuthStabilizer.Rotor))
            {
                _azimuthStabilizer.Rotor.TargetVelocityRPM =
                    MouseInputToRotorVelocityRpm(_controller.RotationIndicator.Y, _controller.VelocityMultiplierAzimuthRpm, _azimuthStabilizer.Rotor) +
                    (_stabilizeAzimuth &amp;&amp; _wasManuallyControlled ? _azimuthStabilizer.Velocity : 0);
            }

            _controller.ElevationRotor = null;
            if (BlockValid(_elevationStabilizer.Rotor))
            {
                if (_stabilizeElevation)
                {
                    _elevationStabilizer.Update(1f / 60f);
                }
                _elevationStabilizer.Rotor.TargetVelocityRPM =
                    MouseInputToRotorVelocityRpm(_controller.RotationIndicator.X, _controller.VelocityMultiplierElevationRpm, _elevationStabilizer.Rotor) +
                    (_stabilizeElevation &amp;&amp; _wasManuallyControlled ? _elevationStabilizer.Velocity : 0);
            }
            _wasManuallyControlled = true;
        }
        else
        {
            if (_wasManuallyControlled)
            {
                if (BlockValid(_azimuthStabilizer.Rotor))
                {
                    _controller.AzimuthRotor = _azimuthStabilizer.Rotor;
                    _azimuthStabilizer.Rotor.TargetVelocityRad = 0;
                }
                if (BlockValid(_elevationStabilizer.Rotor))
                {
                    _controller.ElevationRotor = _elevationStabilizer.Rotor;
                    _elevationStabilizer.Rotor.TargetVelocityRad = 0;
                }
            }

            _wasManuallyControlled = false;
        }

    }

    public void Update10()
    {
        _updateCount++;

        if (_updateCount % 30 == 0)
        {
            SetBlocks();
        }

        if (_controller == null)
        {
            return;
        }

        Update1();

        if (IsActive)
        {
            _idleTime = 0f;

            if (_shouldRest)
            {
                if (BlockValid(_azimuthStabilizer.Rotor))
                {
                    _controller.AzimuthRotor = _azimuthStabilizer.Rotor;
                    _azimuthStabilizer.Rotor.TargetVelocityRad = 0;
                }
                if (BlockValid(_elevationStabilizer.Rotor))
                {
                    _controller.ElevationRotor = _elevationStabilizer.Rotor;
                    _elevationStabilizer.Rotor.TargetVelocityRad = 0;
                }
                _shouldRest = false;
            }
        }
        else
        {
            _idleTime += (1f / 6f);
            if (_wasActive)
            {
                foreach (var r in _extraRotors)
                {
                    r.TargetVelocityRad = 0f;
                }
            }
            if (_p.AutomaticRest &amp;&amp; _idleTime &gt;= _p.AutomaticRestDelay)
            {
                _shouldRest = true;
            }
        }

        if (_shouldRest)
        {
            bool done = HandleAzimuthAndElevationRestAngles();
            HandleExtraRotors();
            _shouldRest = !done;
        }
        else if (_extraRotors.Count &gt; 0)
        {
            HandleExtraRotors();
            bool shouldShoot = IsShooting();
            if (shouldShoot != _wasShooting)
            {
                foreach (var t in _otherTools)
                {
                    var tool = t as IMyShipToolBase;
                    if (tool != null)
                    {
                        tool.Enabled = shouldShoot;
                    }

                    var gun = t as IMyUserControllableGun;
                    if (gun != null)
                    {
                        gun.Shoot = shouldShoot;
                    }
                }
            }
            _wasShooting = shouldShoot;
        }


        _wasActive = IsActive;
    }

    #region Setup
    void Setup()
    {
        _setupReturnCode = ReturnCode.None;

        _controller = null;
        _azimuthStabilizer.Rotor = null;
        _elevationStabilizer.Rotor = null;
        _extraRotors.Clear();
        _tools.Clear();
        _cameras.Clear();
        _gridToToolDict.Clear();
        _azimuthRestAngle = null;
        _elevationRestAngle = null;

        _group.GetBlocks(null, CollectBlocks);

        if (_controller == null)
        {
            _setupReturnCode |= ReturnCode.MissingController;
        }
        if (_azimuthStabilizer.Rotor == null)
        {
            _setupReturnCode |= ReturnCode.MissingAzimuth;
        }
        if (_elevationStabilizer.Rotor == null)
        {
            _setupReturnCode |= ReturnCode.MissingElevation;
        }
        if (_extraRotors.Count == 0)
        {
            _setupReturnCode |= ReturnCode.NoExtraRotors;
        }
        if (_cameras.Count == 0)
        {
            _setupReturnCode |= ReturnCode.MissingCamera;
        }
        if (_tools.Count == 0)
        {
            _setupReturnCode |= ReturnCode.MissingTools;
        }
    }

    void ParseRotorIni(IMyMotorStator r, out float? restAngle, out bool stabilize)
    {
        _ini.Clear();
        if (!_ini.TryParse(r.CustomData) &amp;&amp; !string.IsNullOrWhiteSpace(r.CustomData))
        {
            _ini.EndContent = r.CustomData;
        }

        foreach (IConfigValue c in _rotorConfig)
        {
            c.Update(_ini);
        }

        string output = _ini.ToString();
        if (output != r.CustomData)
        {
            r.CustomData = output;
        }

        restAngle = _restAngle.HasValue ? MathHelper.ToRadians(_restAngle.Value) : (float?)null;
        stabilize = _enableStabilization;
    }

    bool CollectBlocks(IMyTerminalBlock b)
    {
        if (!b.IsSameConstructAs(_p.Me))
        {
            return false;
        }
        var rotor = b as IMyMotorStator;
        if (rotor != null)
        {
            if (StringExtensions.Contains(b.CustomName, _p.AzimuthName))
            {
                if (_azimuthStabilizer.Rotor != null)
                {
                    _extraRotors.Add(rotor);
                }
                else
                {
                    _azimuthStabilizer.Rotor = rotor;
                    ParseRotorIni(_azimuthStabilizer.Rotor, out _azimuthRestAngle, out _stabilizeAzimuth);
                }
            }
            else if (StringExtensions.Contains(b.CustomName, _p.ElevationName))
            {
                if (_elevationStabilizer.Rotor != null)
                {
                    _extraRotors.Add(rotor);
                }
                else
                {
                    _elevationStabilizer.Rotor = rotor;
                    ParseRotorIni(_elevationStabilizer.Rotor, out _elevationRestAngle, out _stabilizeElevation);
                }
            }
            else
            {
                _extraRotors.Add(rotor);
            }
        }

        var cam = b as IMyCameraBlock;
        if (cam != null)
        {
            _cameras.Add(cam);
            _gridToToolDict[cam.CubeGrid] = cam;
        }

        var tcb = b as IMyTurretControlBlock;
        if (tcb != null)
        {
            if (_controller != null)
            {
                _setupReturnCode |= ReturnCode.MultipleTurretControllers;
            }
            else
            {
                _controller = tcb;
            }
        }

        var func = b as IMyFunctionalBlock;
        if (func != null)
        {
            if (!(func is IMyLargeTurretBase)
                &amp;&amp; (func is IMyUserControllableGun
                    || func is IMyLightingBlock
                    || func is IMyShipToolBase
                    || func is IMyShipConnector))
            {
                _tools.Add(func);
                _gridToToolDict[func.CubeGrid] = func;
            }
        }

        return false;
    }

    bool BlockValid(IMyTerminalBlock b)
    {
        return (b != null) &amp;&amp; !b.Closed;
    }

    void SetBlocks()
    {
        if (_controller == null)
        {
            return;
        }
        if (_cameras.Count &gt; 0)
        {
            foreach (var c in _cameras)
            {
                if (!c.Closed)
                {
                    _controller.Camera = c;
                    c.Enabled = true;
                    break;
                }
            }
        }
        if (!_shouldRest)
        {
            if (BlockValid(_azimuthStabilizer.Rotor))
            {
                _controller.AzimuthRotor = _azimuthStabilizer.Rotor;
            }
            if (BlockValid(_elevationStabilizer.Rotor))
            {
                _controller.ElevationRotor = _elevationStabilizer.Rotor;
            }
        }
        _controller.ClearTools();
        _otherTools.Clear();
        _mainTools.Clear();
        foreach (var t in _tools)
        {
            if (BlockValid(t))
            {
                if (_extraRotors.Count &gt; 0) // Special behavior
                {

                    if ((_azimuthStabilizer.Rotor != null &amp;&amp; _azimuthStabilizer.Rotor.IsAttached &amp;&amp; t.CubeGrid == _azimuthStabilizer.Rotor.TopGrid) ||
                        (_elevationStabilizer.Rotor != null &amp;&amp; _elevationStabilizer.Rotor.IsAttached &amp;&amp; t.CubeGrid == _elevationStabilizer.Rotor.TopGrid))
                    {
                        _mainTools.Add(t);
                        _controller.AddTool(t);
                    }
                    else
                    {
                        _otherTools.Add(t);
                    }
                }
                else // Default behavior
                {
                    _controller.AddTool(t);
                }
            }
        }
    }
    #endregion

    #region Utilities
    void Echo(string msg)
    {
        _p.Echo(msg);
    }

    public void WriteStatus()
    {
        Echo(_groupName);
        bool missingRotors = false;
        bool missingTools = false;
        if ((_setupReturnCode &amp; ReturnCode.MissingController) != 0)
        {
            Echo("&gt; ERROR: No custom turret controller.");
        }
        if ((_setupReturnCode &amp; ReturnCode.MissingRotors) == ReturnCode.MissingRotors)
        {
            Echo("&gt; ERROR: No azimuth or elevation rotor.");
            missingRotors = true;
        }

        if ((_setupReturnCode &amp; ReturnCode.MissingToolAndCamera) == ReturnCode.MissingToolAndCamera)
        {
            Echo("&gt; ERROR: No weapons, tools, or cameras.");
            missingTools = true;
        }

        if ((_setupReturnCode &amp; ReturnCode.MultipleTurretControllers) != 0)
        {
            Echo("&gt; WARN: Multiple custom turret controllers. Only one is supported.");
        }

        if (!missingRotors)
        {
            if ((_setupReturnCode &amp; ReturnCode.MissingAzimuth) != 0)
            {
                Echo("&gt; INFO: No azimuth rotor.");
            }
            if ((_setupReturnCode &amp; ReturnCode.MissingElevation) != 0)
            {
                Echo("&gt; INFO: No elevation rotor.");
            }
        }

        if ((_setupReturnCode &amp; ReturnCode.NoExtraRotors) != 0)
        {
            Echo("&gt; INFO: No extra rotors.");
        }
        else
        {
            Echo($"&gt; INFO: {_extraRotors.Count} extra rotors.");
        }

        if (!missingTools)
        {
            if ((_setupReturnCode &amp; ReturnCode.MissingCamera) != 0)
            {
                Echo("&gt; INFO: No camera.");
            }
            else
            {
                Echo($"&gt; INFO: {_cameras.Count} cameras.");
            }
            if ((_setupReturnCode &amp; ReturnCode.MissingTools) != 0)
            {
                Echo("&gt; INFO: No tools.");
            }
            else
            {
                Echo($"&gt; INFO: {_tools.Count} weapons/tools.");
            }
        }
        Echo("");
    }
    #endregion

    #region Rotor Control
    /*
        * In order to properly set the rest angle, we need to unassign the azinuth
        * and elevation rotors temporarily from the CTC. However, we can't do this
        * at the same time, or the CTC will be marked as invalid and will lose
        * its AI and ability to be manually controlled until the rest angle has been
        * reached. This is undesireable, so what we will do instead is get thhe
        * azimuth rotor to its rest angle, then try and get the elevation rotor to
        * its rest angle
        */
    bool HandleAzimuthAndElevationRestAngles()
    {
        bool done = TryMoveRotorToRestAngle(_azimuthStabilizer.Rotor, _azimuthRestAngle);
        if (done)
        {
            if (BlockValid(_azimuthStabilizer.Rotor))
            {
                _controller.AzimuthRotor = _azimuthStabilizer.Rotor;
            }
            done = TryMoveRotorToRestAngle(_elevationStabilizer.Rotor, _elevationRestAngle);
            if (done)
            {
                if (BlockValid(_elevationStabilizer.Rotor))
                {
                    _controller.ElevationRotor = _elevationStabilizer.Rotor;
                }
            }
            else
            {
                _controller.ElevationRotor = null;
            }
        }
        else
        {
            _controller.AzimuthRotor = null;
            if (BlockValid(_elevationStabilizer.Rotor))
            {
                _controller.ElevationRotor = _elevationStabilizer.Rotor;
            }
        }
        return done;
    }

    bool TryMoveRotorToRestAngle(IMyMotorStator r, float? restAngle)
    {
        if (!BlockValid(r) || !restAngle.HasValue)
        {
            return true;
        }
        return MoveRotorToEquilibrium(r, restAngle.Value);
    }

    bool IsShooting()
    {
        bool isShooting = false;
        foreach (var t in _mainTools)
        {
            var tool = t as IMyShipToolBase;
            if (tool != null &amp;&amp; tool.IsActivated)
            {
                isShooting = true;
                break;
            }

            var gun = t as IMyUserControllableGun;
            if (gun != null &amp;&amp; gun.IsShooting)
            {
                isShooting = true;
                break;
            }
        }
        return isShooting;
    }

    void HandleExtraRotors()
    {
        if (_extraRotors.Count == 0)
        {
            return;
        }
        
        var directionSource = _controller.GetDirectionSource();
        if (directionSource == null)
        {
            return;
        }

        Vector3D totalVelocityCommand = Vector3D.Zero;
        if (_azimuthStabilizer.Rotor != null)
        {
            totalVelocityCommand += _azimuthStabilizer.Rotor.WorldMatrix.Up * _azimuthStabilizer.Rotor.TargetVelocityRad;
        }
        if (_elevationStabilizer.Rotor != null)
        {
            totalVelocityCommand += _elevationStabilizer.Rotor.WorldMatrix.Up * _elevationStabilizer.Rotor.TargetVelocityRad;
        }

        foreach (var r in _extraRotors)
        {
            if (!r.IsAttached)
            {
                continue;
            }


            IMyFunctionalBlock reference;
            if (!_gridToToolDict.TryGetValue(r.TopGrid, out reference))
            {
                // TODO: Warning
                continue;
            }

            AimRotorAtPosition(r, _controller.GetShootDirection(), reference.WorldMatrix.Forward);
            float commandedVelocity = (float)Vector3D.Dot(totalVelocityCommand, r.WorldMatrix.Up);
            r.TargetVelocityRad += commandedVelocity;
        }
    }

    bool MoveRotorToEquilibrium(IMyMotorStator rotor, float restAngle)
    {
        if (rotor == null)
        {
            return true;
        }

        if (!rotor.Enabled)
            rotor.Enabled = true;

        float currentAngle = rotor.Angle;
        float lowerLimitRad = rotor.LowerLimitRad;
        float upperLimitRad = rotor.UpperLimitRad;

        if (lowerLimitRad &gt;= -MathHelper.TwoPi &amp;&amp; upperLimitRad &lt;= MathHelper.TwoPi)
        {
            if (restAngle &gt; upperLimitRad)
                restAngle -= MathHelper.TwoPi;
            else if (restAngle &lt; lowerLimitRad)
                restAngle += MathHelper.TwoPi;
        }
        else
        {
            if (restAngle &gt; currentAngle + MathHelper.Pi)
                restAngle -= MathHelper.TwoPi;
            else if (restAngle &lt; currentAngle - MathHelper.Pi)
                restAngle += MathHelper.TwoPi;
        }


        float angularDeviation = (restAngle - currentAngle);
        float targetVelocity = (float)Math.Round(angularDeviation * RestSpeed, 2);

        bool belowTolerance = Math.Abs(angularDeviation) &lt; RotorStopThresholdRad;
        if (belowTolerance)
        {
            rotor.TargetVelocityRPM = 0;
        }
        else
        {
            rotor.TargetVelocityRPM = targetVelocity;
        }

        return belowTolerance;
    }
    #endregion
}

Program()
{
    _config = new IConfigValue[]
    {
        _groupNameTag,
        AzimuthName,
        ElevationName,
        AutomaticRest,
        AutomaticRestDelay,
        _drawTitleScreen,
    };

    Runtime.UpdateFrequency = UpdateFrequency.Update10;

    Setup();
    _titleScreen = new TCESTitleScreen(Version, this);

    _runtimeTracker = new RuntimeTracker(this);
}

void Setup()
{
    _turretControllers.Clear();

    ProcessIni();
    GridTerminalSystem.GetBlockGroups(null, CollectGroups);
}

void ProcessIni()
{
    _ini.Clear();
    if (!_ini.TryParse(Me.CustomData) &amp;&amp; !string.IsNullOrWhiteSpace(Me.CustomData))
    {
        _ini.EndContent = Me.CustomData;
    }

    foreach (IConfigValue c in _config)
    {
        c.Update(_ini);
    }

    string output = _ini.ToString();
    if (output != Me.CustomData)
    {
        Me.CustomData = output;
    }
}

bool CollectGroups(IMyBlockGroup g)
{
    if (!g.Name.Contains(_groupNameTag))
    {
        return false;
    }
    _turretControllers.Add(new CustomTurretController(this, g));
    return false;
}

void Main(string arg, UpdateType updateSource)
{
    try
    {
        _runtimeTracker.AddRuntime();

        switch (arg)
        {
            case "setup":
                Setup();
                break;
            case "rest":
                foreach (var c in _turretControllers)
                {
                    c.GoToRest();
                }
                break;
            default:
                break;
        }



        if ((updateSource &amp; UpdateType.Update10) != 0)
        {
            OnUpdate10();

            ++_runCount;
            if (_runCount % 6 == 0)
            {
                OnUpdate60();
            }
        }
        else if ((updateSource &amp; UpdateType.Update1) != 0)
        {
            OnUpdate1();
        }

        _runtimeTracker.AddInstructions();
    }
    catch (Exception e)
    {
        BlueScreenOfDeath.Show(Me.GetSurface(0), "TCES", Version, e);
        throw e;
    }
}

void OnUpdate1()
{
    foreach (var c in _turretControllers)
    {
        c.Update1();
    }
}

void OnUpdate10()
{
    bool needsFastUpdate = false;
    foreach (var c in _turretControllers)
    {
        c.Update10();
        needsFastUpdate |= c.IsManuallyControlled;
    }

    if (_drawTitleScreen)
    {
        _titleScreen.Draw();
    }

    UpdateFrequency desiredFrequency;
    if (needsFastUpdate)
    {
        desiredFrequency = UpdateFrequency.Update10 | UpdateFrequency.Update1;
    }
    else
    {
        desiredFrequency = UpdateFrequency.Update10;
    }

    if (Runtime.UpdateFrequency != desiredFrequency)
    {
        Runtime.UpdateFrequency = desiredFrequency;
    }
}

StringBuilder _echo = new StringBuilder(1024);
public new void Echo(string msg)
{
    _echo.Append(msg).Append("\n");
}

public void WriteEcho()
{
    base.Echo(_echo.ToString());
    _echo.Clear();
}

void OnUpdate60()
{
    Echo($"TCES | Turret Controller\nEnhancement Script\n(Version {Version} - {Date})\n");
    Echo("Run the argument \"setup\" to refetch blocks or process custom data changes.\n");
    Echo($"Custom Turret Groups: {_turretControllers.Count}");
    Echo($"Run frequency: {Runtime.UpdateFrequency}\n");

    foreach (var controller in _turretControllers)
    {
        controller.WriteStatus();
    }

    Echo(_runtimeTracker.Write());

    WriteEcho();

    _titleScreen.RestartDraw();
}

class TCESTitleScreen
{
    readonly Color _topBarColor = new Color(25, 25, 25);
    readonly Color _white = new Color(200, 200, 200);
    readonly Color _black = Color.Black;

    const TextAlignment Center = TextAlignment.CENTER;
    const SpriteType Texture = SpriteType.TEXTURE;
    const float TitleBarHeightPx = 64f;
    const float TextSize = 1.5f;
    const float BaseTextHeightPx = 37f;

    const float CTCSpriteScale = 0.4f;
    const float TurretSpriteScale = 0.8f;

    const string Font = "Debug";
    const string TitleFormat = "TCES - v{0}";
    readonly string _titleText;

    Program _program;

    int _idx = 0;
    readonly Vector2 _ctcPos = new Vector2(-200, 120);
    readonly Vector2 _turretPos = new Vector2(150, 40);

    struct AnimationParams
    {
        public readonly float ElevationAngle;
        public readonly bool DrawMuzzleFlash;

        public AnimationParams(float elevationDeg, bool muzzleFlash = false)
        {
            ElevationAngle = MathHelper.ToRadians(elevationDeg);
            DrawMuzzleFlash = muzzleFlash;
        }
    }

    readonly AnimationParams[] _animSequence = new AnimationParams[] {
new AnimationParams(0),
new AnimationParams(10),
new AnimationParams(20),
new AnimationParams(30),
new AnimationParams(30),
new AnimationParams(30, true),
new AnimationParams(30, true),
new AnimationParams(30),
new AnimationParams(30),
new AnimationParams(20),
new AnimationParams(10),
new AnimationParams(0),
new AnimationParams(0),
new AnimationParams(0),
new AnimationParams(0),
new AnimationParams(0),
};

    bool _clearSpriteCache = false;
    IMyTextSurface _surface = null;

    public TCESTitleScreen(string version, Program program)
    {
        _titleText = string.Format(TitleFormat, version);
        _program = program;
        _surface = _program.Me.GetSurface(0);
    }

    public void Draw()
    {
        if (_surface == null)
            return;

        AnimationParams anim = _animSequence[_idx];
        _idx = ++_idx % _animSequence.Length;

        SetupDrawSurface(_surface);

        Vector2 screenCenter = _surface.TextureSize * 0.5f;
        Vector2 scale = _surface.SurfaceSize / 512f;
        float minScale = Math.Min(scale.X, scale.Y);

        using (var frame = _surface.DrawFrame())
        {
            if (_clearSpriteCache)
            {
                frame.Add(new MySprite());
            }

            DrawCTC(frame, screenCenter + _ctcPos * minScale, CTCSpriteScale * minScale);
            DrawTurret(frame, screenCenter + _turretPos * minScale, TurretSpriteScale * minScale, anim.ElevationAngle, anim.DrawMuzzleFlash);

            DrawTitleBar(_surface, frame, minScale);
        }
    }

    public void RestartDraw()
    {
        _clearSpriteCache = !_clearSpriteCache;
    }

    #region Draw Helper Functions
    void DrawTitleBar(IMyTextSurface _surface, MySpriteDrawFrame frame, float scale)
    {
        float titleBarHeight = scale * TitleBarHeightPx;
        Vector2 topLeft = 0.5f * (_surface.TextureSize - _surface.SurfaceSize);
        Vector2 titleBarSize = new Vector2(_surface.TextureSize.X, titleBarHeight);
        Vector2 titleBarPos = topLeft + new Vector2(_surface.TextureSize.X * 0.5f, titleBarHeight * 0.5f);
        Vector2 titleBarTextPos = topLeft + new Vector2(_surface.TextureSize.X * 0.5f, 0.5f * (titleBarHeight - scale * BaseTextHeightPx));

        // Title bar
        frame.Add(new MySprite(
            Texture,
            "SquareSimple",
            titleBarPos,
            titleBarSize,
            _topBarColor,
            null,
            Center));

        // Title bar text
        frame.Add(new MySprite(
            SpriteType.TEXT,
            _titleText,
            titleBarTextPos,
            null,
            _white,
            Font,
            Center,
            TextSize * scale));
    }

    void SetupDrawSurface(IMyTextSurface _surface)
    {
        _surface.ScriptBackgroundColor = _black;
        _surface.ContentType = ContentType.SCRIPT;
        _surface.Script = "";
    }

    void DrawCTC(MySpriteDrawFrame frame, Vector2 centerPos, float scale = 1f)
    {
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(-50f, 50f) * scale + centerPos, new Vector2(100f, 100f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "RightTriangle", new Vector2(40f, 40f) * scale + centerPos, new Vector2(80f, 80f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(50f, 95f) * scale + centerPos, new Vector2(100f, 10f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(40f, 85f) * scale + centerPos, new Vector2(80f, 10f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(30f, 35f) * scale + centerPos, new Vector2(20f, 30f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "RightTriangle", new Vector2(30f, 10f) * scale + centerPos, new Vector2(20f, 20f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(5f, 10f) * scale + centerPos, new Vector2(30f, 20f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(-25f, -45f) * scale + centerPos, new Vector2(50f, 70f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "RightTriangle", new Vector2(14f, -45f) * scale + centerPos, new Vector2(70f, 30f) * scale, _white, null, TextAlignment.CENTER, 1.5708f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(-64f, -45f) * scale + centerPos, new Vector2(30f, 50f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(-95f, -50f) * scale + centerPos, new Vector2(10f, 100f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(5f, -95f) * scale + centerPos, new Vector2(190f, 10f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(35f, -15f) * scale + centerPos, new Vector2(10f, 60f) * scale, _white, null, TextAlignment.CENTER, 0.7854f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(55f, -66f) * scale + centerPos, new Vector2(10f, 65f) * scale, _white, null, TextAlignment.CENTER, 0f));
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(-25f, -5f) * scale + centerPos, new Vector2(30f, 10f) * scale, _white, null, TextAlignment.CENTER, 0f));
    }

    void DrawTurret(MySpriteDrawFrame frame, Vector2 centerPos, float scale, float rotation, bool drawMuzzleFlash)
    {
        float sin = (float)Math.Sin(rotation);
        float cos = (float)Math.Cos(rotation);

        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -90f - sin * 0f, sin * -90f + cos * 0f) * scale + centerPos, new Vector2(90f, 80f) * scale, _white, null, TextAlignment.CENTER, 0f + rotation)); // gun body
        frame.Add(new MySprite(SpriteType.TEXTURE, "RightTriangle", new Vector2(cos * -175f - sin * -25f, sin * -175f + cos * -25f) * scale + centerPos, new Vector2(30f, 80f) * scale, _white, null, TextAlignment.CENTER, -1.5708f + rotation)); // gun front slope
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -150f - sin * 12f, sin * -150f + cos * 12f) * scale + centerPos, new Vector2(50f, 45f) * scale, _white, null, TextAlignment.CENTER, 0f + rotation)); // gun bottom
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -195f - sin * 2f, sin * -195f + cos * 2f) * scale + centerPos, new Vector2(40f, 25f) * scale, _white, null, TextAlignment.CENTER, 0f + rotation)); // gun mid
        frame.Add(new MySprite(SpriteType.TEXTURE, "RightTriangle", new Vector2(cos * -185f - sin * 24f, sin * -185f + cos * 24f) * scale + centerPos, new Vector2(20f, 20f) * scale, _white, null, TextAlignment.CENTER, 3.1416f + rotation)); // gun bottom slope
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -345f - sin * 2f, sin * -345f + cos * 2f) * scale + centerPos, new Vector2(200f, 10f) * scale, _white, null, TextAlignment.CENTER, 0f + rotation)); // barrel
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -230f - sin * 2f, sin * -230f + cos * 2f) * scale + centerPos, new Vector2(20f, 16f) * scale, _white, null, TextAlignment.CENTER, 0f + rotation)); // barrel base
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -88f - sin * 2f, sin * -88f + cos * 2f) * scale + centerPos, new Vector2(60f, 60f) * scale, _black, null, TextAlignment.CENTER, 0f + rotation)); // conveyor outline
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -88f - sin * 2f, sin * -88f + cos * 2f) * scale + centerPos, new Vector2(50f, 50f) * scale, _white, null, TextAlignment.CENTER, 0f + rotation)); // conveyor center
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -88f - sin * -3f, sin * -88f + cos * -3f) * scale + centerPos, new Vector2(50f, 5f) * scale, _black, null, TextAlignment.CENTER, 0f + rotation)); // conveyor crossCopy
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -88f - sin * 7f, sin * -88f + cos * 7f) * scale + centerPos, new Vector2(50f, 5f) * scale, _black, null, TextAlignment.CENTER, 0f + rotation)); // conveyor cross
        frame.Add(new MySprite(SpriteType.TEXTURE, "RightTriangle", new Vector2(cos * -134f - sin * 50f, sin * -134f + cos * 50f) * scale + centerPos, new Vector2(10f, 10f) * scale, _white, null, TextAlignment.CENTER, -1.5708f + rotation)); // gun bottom slope
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -90f - sin * 50f, sin * -90f + cos * 50f) * scale + centerPos, new Vector2(80f, 10f) * scale, _white, null, TextAlignment.CENTER, 0f + rotation)); // gun bottom
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -174f - sin * 10f, sin * -174f + cos * 10f) * scale + centerPos, new Vector2(60f, 5f) * scale, _black, null, TextAlignment.CENTER, -0.3491f + rotation)); // stripe diag
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -141f - sin * 0f, sin * -141f + cos * 0f) * scale + centerPos, new Vector2(12f, 5f) * scale, _black, null, TextAlignment.CENTER, 0f + rotation)); // stripe horizontal
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(cos * -134f - sin * 0f, sin * -134f + cos * 0f) * scale + centerPos, new Vector2(5f, 82f) * scale, _black, null, TextAlignment.CENTER, 0f + rotation)); // stripe vertical

        if (drawMuzzleFlash)
        {
            frame.Add(new MySprite(SpriteType.TEXTURE, "Circle", new Vector2(cos * -480f - sin * 7f, sin * -480f + cos * 7f) * scale + centerPos, new Vector2(60f, 20f) * scale, new Color(255, 128, 0, 255), null, TextAlignment.CENTER, -0.1745f + rotation)); // muzzle flash bottom
            frame.Add(new MySprite(SpriteType.TEXTURE, "Circle", new Vector2(cos * -482f - sin * -3f, sin * -482f + cos * -3f) * scale + centerPos, new Vector2(60f, 20f) * scale, new Color(255, 128, 0, 255), null, TextAlignment.CENTER, 0.1745f + rotation)); // muzzle flash top
            frame.Add(new MySprite(SpriteType.TEXTURE, "Circle", new Vector2(cos * -501f - sin * 2f, sin * -501f + cos * 2f) * scale + centerPos, new Vector2(100f, 20f) * scale, new Color(255, 128, 0, 255), null, TextAlignment.CENTER, 0f + rotation)); // muzzle flash main
            frame.Add(new MySprite(SpriteType.TEXTURE, "Circle", new Vector2(cos * -470f - sin * 2f, sin * -470f + cos * 2f) * scale + centerPos, new Vector2(40f, 20f) * scale, new Color(255, 255, 0, 255), null, TextAlignment.CENTER, 0f + rotation)); // muzzle flash center
        }

        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(25f, -4f) * scale + centerPos, new Vector2(150f, 105f) * scale, _black, null, TextAlignment.CENTER, 0f)); // turret top right shadow
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(25f, 0f) * scale + centerPos, new Vector2(150f, 100f) * scale, _white, null, TextAlignment.CENTER, 0f)); // turret top right
        frame.Add(new MySprite(SpriteType.TEXTURE, "RightTriangle", new Vector2(-155f, -3f) * scale + centerPos, new Vector2(105f, 210f) * scale, _black, null, TextAlignment.CENTER, -1.5708f)); // turret top slope shadow
        frame.Add(new MySprite(SpriteType.TEXTURE, "RightTriangle", new Vector2(-150f, 0f) * scale + centerPos, new Vector2(100f, 200f) * scale, _white, null, TextAlignment.CENTER, -1.5708f)); // turret top slope
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(-125f, 100f) * scale + centerPos, new Vector2(350f, 100f) * scale, _white, null, TextAlignment.CENTER, 0f)); // turret bottom
        frame.Add(new MySprite(SpriteType.TEXTURE, "RightTriangle", new Vector2(74f, 100f) * scale + centerPos, new Vector2(100f, 50f) * scale, _white, null, TextAlignment.CENTER, 1.5708f)); // turret bottom right
        frame.Add(new MySprite(SpriteType.TEXTURE, "RightTriangle", new Vector2(-325f, 100f) * scale + centerPos, new Vector2(100f, 50f) * scale, _white, null, TextAlignment.CENTER, -1.5708f)); // turret bottom left
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(-281f, 102f) * scale + centerPos, new Vector2(5f, 120f) * scale, _black, null, TextAlignment.CENTER, 0.4712f)); // turret detail line front
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(26f, 102f) * scale + centerPos, new Vector2(5f, 120f) * scale, _black, null, TextAlignment.CENTER, 0.4712f)); // turret detail line back
        frame.Add(new MySprite(SpriteType.TEXTURE, "SquareSimple", new Vector2(53f, 0f) * scale + centerPos, new Vector2(5f, 100f) * scale, _black, null, TextAlignment.CENTER, 0f)); // turret detail line back top
    }
    #endregion
}
#endregion

#region INCLUDES

public static class StringExtensions
{
    public static bool Contains(string source, string toCheck, StringComparison comp = StringComparison.OrdinalIgnoreCase)
    {
        return source?.IndexOf(toCheck, comp) &gt;= 0;
    }
}

/// &lt;summary&gt;
/// Class that tracks runtime history.
/// &lt;/summary&gt;
public class RuntimeTracker
{
    public int Capacity { get; set; }
    public double Sensitivity { get; set; }
    public double MaxRuntime {get; private set;}
    public double MaxInstructions {get; private set;}
    public double AverageRuntime {get; private set;}
    public double AverageInstructions {get; private set;}
    public double LastRuntime {get; private set;}
    public double LastInstructions {get; private set;}
    
    readonly Queue&lt;double&gt; _runtimes = new Queue&lt;double&gt;();
    readonly Queue&lt;double&gt; _instructions = new Queue&lt;double&gt;();
    readonly int _instructionLimit;
    readonly Program _program;
    const double MS_PER_TICK = 16.6666;
    
    const string Format = "General Runtime Info\n"
            + "- Avg runtime: {0:n4} ms\n"
            + "- Last runtime: {1:n4} ms\n"
            + "- Max runtime: {2:n4} ms\n"
            + "- Avg instructions: {3:n2}\n"
            + "- Last instructions: {4:n0}\n"
            + "- Max instructions: {5:n0}\n"
            + "- Avg complexity: {6:0.000}%";

    public RuntimeTracker(Program program, int capacity = 100, double sensitivity = 0.005)
    {
        _program = program;
        Capacity = capacity;
        Sensitivity = sensitivity;
        _instructionLimit = _program.Runtime.MaxInstructionCount;
    }

    public void AddRuntime()
    {
        double runtime = _program.Runtime.LastRunTimeMs;
        LastRuntime = runtime;
        AverageRuntime += (Sensitivity * runtime);
        int roundedTicksSinceLastRuntime = (int)Math.Round(_program.Runtime.TimeSinceLastRun.TotalMilliseconds / MS_PER_TICK);
        if (roundedTicksSinceLastRuntime == 1)
        {
            AverageRuntime *= (1 - Sensitivity); 
        }
        else if (roundedTicksSinceLastRuntime &gt; 1)
        {
            AverageRuntime *= Math.Pow((1 - Sensitivity), roundedTicksSinceLastRuntime);
        }

        _runtimes.Enqueue(runtime);
        if (_runtimes.Count == Capacity)
        {
            _runtimes.Dequeue();
        }
        
        MaxRuntime = _runtimes.Max();
    }

    public void AddInstructions()
    {
        double instructions = _program.Runtime.CurrentInstructionCount;
        LastInstructions = instructions;
        AverageInstructions = Sensitivity * (instructions - AverageInstructions) + AverageInstructions;
        
        _instructions.Enqueue(instructions);
        if (_instructions.Count == Capacity)
        {
            _instructions.Dequeue();
        }
        
        MaxInstructions = _instructions.Max();
    }

    public string Write()
    {
        return string.Format(
            Format,
            AverageRuntime,
            LastRuntime,
            MaxRuntime,
            AverageInstructions,
            LastInstructions,
            MaxInstructions,
            AverageInstructions / _instructionLimit);
    }
}

static class BlueScreenOfDeath 
{
    const int MAX_BSOD_WIDTH = 50;
    const string BSOD_TEMPLATE =
    "{0} - v{1}\n\n"+ 
    "A fatal exception has occured at\n"+
    "{2}. The current\n"+
    "program will be terminated.\n"+
    "\n"+ 
    "EXCEPTION:\n"+
    "{3}\n"+
    "\n"+
    "* Please REPORT this crash message to\n"+ 
    "  the Bug Reports discussion of this script\n"+ 
    "\n"+
    "* Press RECOMPILE to restart the program";

    static StringBuilder bsodBuilder = new StringBuilder(256);
    
    public static void Show(IMyTextSurface surface, string scriptName, string version, Exception e)
    {
        if (surface == null) 
        { 
            return;
        }
        surface.ContentType = ContentType.TEXT_AND_IMAGE;
        surface.Alignment = TextAlignment.LEFT;
        float scaleFactor = 512f / (float)Math.Min(surface.TextureSize.X, surface.TextureSize.Y);
        surface.FontSize = scaleFactor * surface.TextureSize.X / (19.5f * MAX_BSOD_WIDTH);
        surface.FontColor = Color.White;
        surface.BackgroundColor = Color.Blue;
        surface.Font = "Monospace";
        string exceptionStr = e.ToString();
        string[] exceptionLines = exceptionStr.Split('\n');
        bsodBuilder.Clear();
        foreach (string line in exceptionLines)
        {
            if (line.Length &lt;= MAX_BSOD_WIDTH)
            {
                bsodBuilder.Append(line).Append("\n");
            }
            else
            {
                string[] words = line.Split(' ');
                int lineLength = 0;
                foreach (string word in words)
                {
                    lineLength += word.Length;
                    if (lineLength &gt;= MAX_BSOD_WIDTH)
                    {
                        bsodBuilder.Append("\n");
                        lineLength = word.Length;
                    }
                    bsodBuilder.Append(word).Append(" ");
                    lineLength += 1;
                }
                bsodBuilder.Append("\n");
            }
        }

        surface.WriteText(string.Format(BSOD_TEMPLATE, 
                                        scriptName.ToUpperInvariant(),
                                        version,
                                        DateTime.Now, 
                                        bsodBuilder));
    }
}

public interface IConfigValue
{
    void WriteToIni(MyIni ini);
    void ReadFromIni(MyIni ini);
    void Update(MyIni ini);
}

public abstract class ConfigValue&lt;T&gt; : IConfigValue
{
    public T Value;
    public string Section { get; set; }
    public string Name { get; set; }
    T DefaultValue { get; }
    readonly string _comment;

    public static implicit operator T(ConfigValue&lt;T&gt; cfg)
    {
        return cfg.Value;
    }

    public ConfigValue(string section, string name, T defaultValue, string comment)
    {
        Section = section;
        Name = name;
        Value = defaultValue;
        DefaultValue = defaultValue;
        _comment = comment;
    }

    public override string ToString()
    {
        return Value.ToString();
    }

    public void Update(MyIni ini)
    {
        ReadFromIni(ini);
        WriteToIni(ini);
    }

    public void WriteToIni(MyIni ini)
    {
        ini.Set(Section, Name, this.ToString());
        if (!string.IsNullOrWhiteSpace(_comment))
        {
            ini.SetComment(Section, Name, _comment);
        }
    }

    protected abstract void SetValue(ref MyIniValue val);

    protected virtual void SetDefault() 
    {
        Value = DefaultValue;
    }

    public void ReadFromIni(MyIni ini)
    {
        MyIniValue val = ini.Get(Section, Name);
        if (!val.IsEmpty)
        {
            SetValue(ref val);
        }
        else
        {
            SetDefault();
        }
    }
}

public class ConfigString : ConfigValue&lt;string&gt;
{
    public ConfigString(string section, string name, string value = "", string comment = null) : base(section, name, value, comment) { }
    protected override void SetValue(ref MyIniValue val) { if (!val.TryGetString(out Value)) SetDefault(); }
}

public class ConfigBool : ConfigValue&lt;bool&gt;
{
    public ConfigBool(string section, string name, bool value = false, string comment = null) : base(section, name, value, comment) { }
    protected override void SetValue(ref MyIniValue val) { if (!val.TryGetBoolean(out Value)) SetDefault(); }
}

public class ConfigFloat : ConfigValue&lt;float&gt;
{
    public ConfigFloat(string section, string name, float value = 0, string comment = null) : base(section, name, value, comment) { }
    protected override void SetValue(ref MyIniValue val) { if (!val.TryGetSingle(out Value)) SetDefault(); }
}

public class StabilizedRotor
{
    public float Velocity { get; private set; }

    MatrixD _lastOrientation = MatrixD.Identity;

    IMyMotorStator _rotor = null;
    public IMyMotorStator Rotor
    {
        get
        {
            return _rotor;
        }
        set
        {
            if (value != _rotor)
            {
                _rotor = value;
                if (_rotor != null)
                {
                    _lastOrientation = _rotor.WorldMatrix;
                }
            }
        }
    }

    public StabilizedRotor(IMyMotorStator rotor = null)
    {
        Rotor = rotor;
    }

    double CalculateAngularVelocity(double dt)
    {
        var axis = Vector3D.Cross(_lastOrientation.Forward, Rotor.WorldMatrix.Forward);
        double mag = axis.Length();
        double angle = Math.Asin(MathHelper.Clamp(mag, -1.0, 1.0));
        axis = mag &lt; 1e-12 ? Vector3D.Zero : axis / mag * angle / dt;
        return Vector3D.Dot(axis, Rotor.WorldMatrix.Up);
    }

    public float Update(double dt)
    {
        if (Rotor == null)
        {
            Velocity = 0f;
        }
        else
        {
            Velocity = (float)(CalculateAngularVelocity(dt) * MathHelper.RadiansPerSecondToRPM);
            _lastOrientation = Rotor.WorldMatrix.GetOrientation();
        }
        return Velocity;
    }
}


public static class VectorMath
{
    /// &lt;summary&gt;
    ///  Normalizes a vector only if it is non-zero and non-unit
    /// &lt;/summary&gt;
    public static Vector3D SafeNormalize(Vector3D a)
    {
        if (Vector3D.IsZero(a))
            return Vector3D.Zero;

        if (Vector3D.IsUnit(ref a))
            return a;

        return Vector3D.Normalize(a);
    }

    /// &lt;summary&gt;
    /// Reflects vector a over vector b with an optional rejection factor
    /// &lt;/summary&gt;
    public static Vector3D Reflection(Vector3D a, Vector3D b, double rejectionFactor = 1) //reflect a over b
    {
        Vector3D proj = Projection(a, b);
        Vector3D rej = a - proj;
        return proj - rej * rejectionFactor;
    }

    /// &lt;summary&gt;
    /// Rejects vector a on vector b
    /// &lt;/summary&gt;
    public static Vector3D Rejection(Vector3D a, Vector3D b) //reject a on b
    {
        if (Vector3D.IsZero(a) || Vector3D.IsZero(b))
            return Vector3D.Zero;

        return a - a.Dot(b) / b.LengthSquared() * b;
    }

    /// &lt;summary&gt;
    /// Projects vector a onto vector b
    /// &lt;/summary&gt;
    public static Vector3D Projection(Vector3D a, Vector3D b)
    {
        if (Vector3D.IsZero(a) || Vector3D.IsZero(b))
            return Vector3D.Zero;
        
        if (Vector3D.IsUnit(ref b))
            return a.Dot(b) * b;

        return a.Dot(b) / b.LengthSquared() * b;
    }

    /// &lt;summary&gt;
    /// Scalar projection of a onto b
    /// &lt;/summary&gt;
    public static double ScalarProjection(Vector3D a, Vector3D b)
    {
        if (Vector3D.IsZero(a) || Vector3D.IsZero(b))
            return 0;

        if (Vector3D.IsUnit(ref b))
            return a.Dot(b);

        return a.Dot(b) / b.Length();
    }

    /// &lt;summary&gt;
    /// Computes angle between 2 vectors in radians.
    /// &lt;/summary&gt;
    public static double AngleBetween(Vector3D a, Vector3D b)
    {
        if (Vector3D.IsZero(a) || Vector3D.IsZero(b))
            return 0;
        else
            return Math.Acos(MathHelper.Clamp(a.Dot(b) / Math.Sqrt(a.LengthSquared() * b.LengthSquared()), -1, 1));
    }

    /// &lt;summary&gt;
    /// Computes cosine of the angle between 2 vectors.
    /// &lt;/summary&gt;
    public static double CosBetween(Vector3D a, Vector3D b)
    {
        if (Vector3D.IsZero(a) || Vector3D.IsZero(b))
            return 0;
        else
            return MathHelper.Clamp(a.Dot(b) / Math.Sqrt(a.LengthSquared() * b.LengthSquared()), -1, 1);
    }

    /// &lt;summary&gt;
    /// Returns if the normalized dot product between two vectors is greater than the tolerance.
    /// This is helpful for determining if two vectors are "more parallel" than the tolerance.
    /// &lt;/summary&gt;
    /// &lt;param name="a"&gt;First vector&lt;/param&gt;
    /// &lt;param name="b"&gt;Second vector&lt;/param&gt;
    /// &lt;param name="tolerance"&gt;Cosine of maximum angle&lt;/param&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    public static bool IsDotProductWithinTolerance(Vector3D a, Vector3D b, double tolerance)
    {
        double dot = Vector3D.Dot(a, b);
        double num = a.LengthSquared() * b.LengthSquared() * tolerance * Math.Abs(tolerance);
        return Math.Abs(dot) * dot &gt; num;
    }
}

public static double GetAllowedRotationAngle(double desiredDelta, IMyMotorStator rotor)
{
    double desiredAngle = rotor.Angle + desiredDelta;
    if ((desiredAngle &lt; rotor.LowerLimitRad &amp;&amp; desiredAngle + MathHelper.TwoPi &lt; rotor.UpperLimitRad)
        || (desiredAngle &gt; rotor.UpperLimitRad &amp;&amp; desiredAngle - MathHelper.TwoPi &gt; rotor.LowerLimitRad))
    {
        return -Math.Sign(desiredDelta) * (MathHelper.TwoPi - Math.Abs(desiredDelta));
    }
    return desiredDelta;
}

public static void AimRotorAtPosition(IMyMotorStator rotor, Vector3D desiredDirection, Vector3D currentDirection, float rotationScale = 1f, float timeStep = 1f/6f)
{
    Vector3D desiredDirectionFlat = VectorMath.Rejection(desiredDirection, rotor.WorldMatrix.Up);
    Vector3D currentDirectionFlat = VectorMath.Rejection(currentDirection, rotor.WorldMatrix.Up);
    double angle = VectorMath.AngleBetween(desiredDirectionFlat, currentDirectionFlat);
    Vector3D axis = Vector3D.Cross(desiredDirection, currentDirection);
    angle *= Math.Sign(Vector3D.Dot(axis, rotor.WorldMatrix.Up));
    angle = GetAllowedRotationAngle(angle, rotor);
    rotor.TargetVelocityRad = rotationScale * (float)angle / timeStep;
}
#endregion</Program>
              <Storage />
              <DefaultRunArgument>setup</DefaultRunArgument>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFiTjunction</SubtypeName>
              <EntityId>93636675261968918</EntityId>
              <Min x="1" y="1" z="-9" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFiTjunction</SubtypeName>
              <EntityId>93958806930293417</EntityId>
              <Min x="1" y="1" z="-7" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>137448164912621954</EntityId>
              <Min x="-1" y="1" z="-9" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>19</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFiTjunction</SubtypeName>
              <EntityId>126178977607990261</EntityId>
              <Min x="-1" y="1" z="-7" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>PassageSciFiIntersection</SubtypeName>
              <EntityId>132831284910383787</EntityId>
              <Min x="0" y="2" z="-7" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>109628723820275031</EntityId>
              <Min x="1" y="1" z="-3" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>18</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_InteriorLight">
              <SubtypeName>PassageSciFiLight</SubtypeName>
              <EntityId>136212065261183608</EntityId>
              <Min x="-1" y="1" z="-3" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>20</NumberInGrid>
              <Enabled>true</Enabled>
              <Radius>3.6</Radius>
              <ReflectorRadius>120</ReflectorRadius>
              <Falloff>1.3</Falloff>
              <Intensity>5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>Railing2x1Left</SubtypeName>
              <EntityId>78735167923437129</EntityId>
              <Min x="-1" y="2" z="-23" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.00165656512" y="0.03140595" z="-0.100169189" />
          <AngularVelocity x="0.00208986131" y="-0.0003469456" z="6.219308E-05" />
          <XMirroxPlane x="0" y="0" z="0" />
          <ConveyorLines>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-17" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="0" z="-17" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-17" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="0" z="-17" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-16" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="1" z="-17" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-20" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="2" z="-20" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-4" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="-5" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-8" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="-1" z="-7" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="2" z="-16" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="3" z="-16" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="10" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="2" z="10" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-2" y="3" z="4" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="-2" y="4" z="4" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="2" y="3" z="4" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="2" y="4" z="4" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-17" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="-1" z="-14" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-2" y="3" z="4" />
              <StartDirection>Right</StartDirection>
              <EndPosition x="-1" y="3" z="4" />
              <EndDirection>Left</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="2" y="3" z="4" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="1" y="3" z="4" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-4" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="1" z="-3" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-4" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="1" z="-5" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-3" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="2" z="-3" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-3" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="1" z="-2" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="2" z="6" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="1" z="6" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="2" z="6" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="3" z="6" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-2" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="1" z="-1" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="0" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="1" z="-1" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="0" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="1" z="1" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="1" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="2" z="1" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="1" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="1" z="2" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="3" z="3" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="2" z="3" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-5" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="3" z="-5" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="5" z="-3" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="4" z="-5" />
              <EndDirection>Up</EndDirection>
              <Sections>
                <Section Direction="Forward" Length="2" />
                <Section Direction="Down" Length="1" />
              </Sections>
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="3" z="3" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="5" z="1" />
              <EndDirection>Backward</EndDirection>
              <Sections>
                <Section Direction="Up" Length="2" />
                <Section Direction="Forward" Length="2" />
              </Sections>
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-22" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="1" z="-23" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="2" z="-16" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="1" z="-16" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-10" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="0" z="-10" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-9" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="-1" z="-8" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="2" z="-1" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="1" z="-1" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-9" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="1" z="-8" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="3" z="-5" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="4" z="-5" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="4" z="-5" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="4" z="-8" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-10" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="-11" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="1" z="-16" />
              <StartDirection>Right</StartDirection>
              <EndPosition x="0" y="1" z="-16" />
              <EndDirection>Left</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="1" z="-16" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="0" y="1" z="-16" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-9" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="1" z="-10" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="10" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="0" z="10" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="12" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="0" z="11" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="6" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="0" z="6" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="2" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="2" z="3" />
              <EndDirection>Down</EndDirection>
              <Sections>
                <Section Direction="Backward" Length="1" />
                <Section Direction="Up" Length="1" />
              </Sections>
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="3" z="4" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="3" z="3" />
              <EndDirection>Right</EndDirection>
              <Sections>
                <Section Direction="Forward" Length="1" />
                <Section Direction="Left" Length="1" />
              </Sections>
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="3" z="4" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="3" z="3" />
              <EndDirection>Left</EndDirection>
              <Sections>
                <Section Direction="Forward" Length="1" />
                <Section Direction="Right" Length="1" />
              </Sections>
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="4" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="-1" z="4" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="10" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="-1" z="10" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-17" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="0" z="-18" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-5" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="1" z="-6" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-7" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="1" z="-8" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-2" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="-3" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-12" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="-13" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-13" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="-14" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-7" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="-1" z="-6" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-10" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="0" z="-10" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-7" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="1" z="-6" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-8" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="1" z="-8" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-11" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="-12" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-17" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="0" z="-16" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-19" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="1" z="-22" />
              <EndDirection>Down</EndDirection>
              <Sections>
                <Section Direction="Forward" Length="3" />
                <Section Direction="Up" Length="1" />
              </Sections>
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="11" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="0" z="10" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="2" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="-1" z="2" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-3" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="0" z="-3" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="1" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="0" z="1" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="2" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="0" z="2" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-10" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="-1" z="-9" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="10" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="0" z="9" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="6" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="0" z="6" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="4" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="-1" z="6" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-18" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="0" z="-19" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="10" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="6" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="2" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="-1" z="3" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="-10" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="1" z="-11" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="2" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="0" z="3" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="3" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="-1" y="0" z="3" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="3" />
              <StartDirection>Right</StartDirection>
              <EndPosition x="1" y="0" z="3" />
              <EndDirection>Left</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="0" z="3" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="-2" y="0" z="3" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="0" z="3" />
              <StartDirection>Right</StartDirection>
              <EndPosition x="2" y="0" z="3" />
              <EndDirection>Left</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-1" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="0" z="-1" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="0" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="-1" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="5" z="-3" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="5" z="-2" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="6" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="0" z="7" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="2" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="1" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="5" z="-8" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="4" z="-8" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="-2" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="-1" z="-1" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="3" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="-1" z="3" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="4" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="3" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
          </ConveyorLines>
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>Torpedo 2 Rearming</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>1</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Torpedo Rearming</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>-4</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>-2</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>-3</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Main Artillery</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>-16</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>3</Y>
                  <Z>-20</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>3</Y>
                  <Z>10</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Searh Light</Name>
              <Blocks>
                <Vector3I>
                  <X>1</X>
                  <Y>6</Y>
                  <Z>-6</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>6</Y>
                  <Z>-6</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Reverse Impellers</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>-3</Y>
                  <Z>-18</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>-2</Y>
                  <Z>-19</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Servos</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>3</Y>
                  <Z>-10</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>AA Turrets</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>-8</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>3</Y>
                  <Z>6</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Targeting Camera TG</Name>
              <Blocks>
                <Vector3I>
                  <X>1</X>
                  <Y>2</Y>
                  <Z>-14</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Fire Control</Name>
              <Blocks>
                <Vector3I>
                  <X>1</X>
                  <Y>2</Y>
                  <Z>-14</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>2</Y>
                  <Z>5</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>-16</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>3</Y>
                  <Z>-20</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>3</Y>
                  <Z>10</Z>
                </Vector3I>
                <Vector3I>
                  <X>-2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>2</Y>
                  <Z>-7</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>2</Y>
                  <Z>-7</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Forward Torpedo TG</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>2</Y>
                  <Z>-3</Z>
                </Vector3I>
                <Vector3I>
                  <X>-2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>AA Front TG</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>-8</Z>
                </Vector3I>
                <Vector3I>
                  <X>-2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>AA Rear TG</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>3</Y>
                  <Z>6</Z>
                </Vector3I>
                <Vector3I>
                  <X>-2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Torpedo Fire Control</Name>
              <Blocks>
                <Vector3I>
                  <X>1</X>
                  <Y>2</Y>
                  <Z>-8</Z>
                </Vector3I>
                <Vector3I>
                  <X>-2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Slaved Group</Name>
              <Blocks>
                <Vector3I>
                  <X>1</X>
                  <Y>2</Y>
                  <Z>-14</Z>
                </Vector3I>
                <Vector3I>
                  <X>-2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Rear Torpedo TG</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>2</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>[NPC-IFMN] Holt Destroyer</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
          <OxygenRooms>
            <OxygenRoom OxygenAmount="29221.8613">
              <StartingPosition>
                <X>-4</X>
                <Y>-5</Y>
                <Z>-25</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="437.5">
              <StartingPosition>
                <X>0</X>
                <Y>0</Y>
                <Z>9</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="93.75">
              <StartingPosition>
                <X>2</X>
                <Y>0</Y>
                <Z>3</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="93.75">
              <StartingPosition>
                <X>-2</X>
                <Y>0</Y>
                <Z>3</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="234.375">
              <StartingPosition>
                <X>0</X>
                <Y>0</Y>
                <Z>1</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="328.125">
              <StartingPosition>
                <X>0</X>
                <Y>0</Y>
                <Z>-3</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="296.875">
              <StartingPosition>
                <X>0</X>
                <Y>0</Y>
                <Z>-8</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="593.75">
              <StartingPosition>
                <X>0</X>
                <Y>0</Y>
                <Z>-16</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="13.279582">
              <StartingPosition>
                <X>-1</X>
                <Y>3</Y>
                <Z>-10</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="13.2798157">
              <StartingPosition>
                <X>1</X>
                <Y>3</Y>
                <Z>-10</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="25">
              <StartingPosition>
                <X>0</X>
                <Y>-1</Y>
                <Z>-6</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="25">
              <StartingPosition>
                <X>0</X>
                <Y>-1</Y>
                <Z>-4</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="12.5">
              <StartingPosition>
                <X>0</X>
                <Y>-2</Y>
                <Z>-2</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="25">
              <StartingPosition>
                <X>0</X>
                <Y>-1</Y>
                <Z>0</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="37.5">
              <StartingPosition>
                <X>0</X>
                <Y>-2</Y>
                <Z>1</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="13.28673">
              <StartingPosition>
                <X>-1</X>
                <Y>0</Y>
                <Z>4</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="13.2865553">
              <StartingPosition>
                <X>1</X>
                <Y>0</Y>
                <Z>4</Z>
              </StartingPosition>
            </OxygenRoom>
            <OxygenRoom OxygenAmount="25">
              <StartingPosition>
                <X>0</X>
                <Y>0</Y>
                <Z>12</Z>
              </StartingPosition>
            </OxygenRoom>
          </OxygenRooms>
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>87465787732972481</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>87465787732972481</Name>
          <PositionAndOrientation>
            <Position x="28.680858612060547" y="-48.146204948425293" z="-15.244093894958496" />
            <Forward x="0.498108119" y="-0.8387737" z="-0.219878674" />
            <Up x="0.8635415" y="0.4568454" z="0.21351406" />
            <Orientation>
              <X>-0.247303709</X>
              <Y>-0.5734994</Y>
              <Z>-0.458713621</Z>
              <W>0.632076859</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>MediumHingeHead</SubtypeName>
              <EntityId>108357029176109985</EntityId>
              <ParentEntityId>115360832867369712</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ConveyorConnector">
              <SubtypeName>ConveyorFrameMedium</SubtypeName>
              <EntityId>140618555247560593</EntityId>
              <Min x="-1" y="0" z="0" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_LargeGatlingTurret">
              <SubtypeName>SmallGatlingTurret</SubtypeName>
              <EntityId>117353368071615414</EntityId>
              <Min x="-6" y="-1" z="-1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.084</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>true</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame10</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>10</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>true</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <RemainingAmmo>100</RemainingAmmo>
              <Target>0</Target>
              <IsPotentialTarget>true</IsPotentialTarget>
              <PreviousControlledEntityId xsi:nil="true" />
              <Rotation>0</Rotation>
              <Elevation>0</Elevation>
              <GunBase>
                <RemainingAmmo>100</RemainingAmmo>
                <CurrentAmmoMagazineName>NATO_25x184mm</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174944603244142</LastShootTime>
              </GunBase>
              <EnableIdleRotation>false</EnableIdleRotation>
              <PreviousIdleRotationState>true</PreviousIdleRotationState>
              <TargetCharacters>true</TargetCharacters>
              <TargetingGroup />
              <Flags>
                <TargetCharacters>true</TargetCharacters>
              </Flags>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.008504771" y="0.0124041066" z="-0.009008978" />
          <AngularVelocity x="0.000202230236" y="-0.00123197155" z="-0.00052066124" />
          <ConveyorLines>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="1" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="-2" y="1" z="1" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
          </ConveyorLines>
          <DisplayName>Small Grid 3336</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>100771890393931391</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>100771890393931391</Name>
          <PositionAndOrientation>
            <Position x="-4.7770614624023438" y="9.1185636520385742" z="2.1380624771118164" />
            <Forward x="-0.4976518" y="0.8411712" z="0.211597323" />
            <Up x="0.08302741" y="0.289028168" z="-0.953713238" />
            <Orientation>
              <X>-0.121630035</X>
              <Y>0.76876837</Y>
              <Z>-0.583688438</Z>
              <W>0.231320515</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>SmallAdvancedRotor</SubtypeName>
              <EntityId>81644509385420705</EntityId>
              <ParentEntityId>76352264448985215</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MergeBlock">
              <SubtypeName>SmallShipMergeBlock</SubtypeName>
              <EntityId>77650431388621453</EntityId>
              <Min x="0" y="2" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="1" y="2" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="2" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>139656183601588908</EntityId>
              <Min x="3" y="2" z="0" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>80464045548629322</EntityId>
              <Min x="3" y="2" z="1" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>78843192671671091</EntityId>
              <Min x="3" y="2" z="2" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>131457609045491361</EntityId>
              <Min x="-1" y="2" z="0" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>85430588266012575</EntityId>
              <Min x="-1" y="2" z="1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>143801718055866221</EntityId>
              <Min x="-1" y="2" z="2" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>91136004453875452</EntityId>
              <Min x="0" y="2" z="3" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>123346494978569041</EntityId>
              <Min x="2" y="2" z="3" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>83953559319889178</EntityId>
              <Min x="1" y="2" z="3" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Projector">
              <SubtypeName>SmallProjector</SubtypeName>
              <EntityId>119491951201276388</EntityId>
              <Min x="1" y="2" z="-2" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>LRM Projector</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <ProjectedGrids>
                <MyObjectBuilder_CubeGrid>
                  <SubtypeName />
                  <EntityId>81416977418911167</EntityId>
                  <PersistentFlags>CastShadows InScene</PersistentFlags>
                  <Name>81416977418911167</Name>
                  <PositionAndOrientation>
                    <Position x="0" y="0" z="0" />
                    <Forward x="0.6770829" y="-0.547585" z="-0.491639346" />
                    <Up x="0.6379689" y="0.103760608" z="0.76303947" />
                    <Orientation>
                      <X>0.09719033</X>
                      <Y>-0.494706362</Y>
                      <Z>-0.662324548</Z>
                      <W>0.554207444</W>
                    </Orientation>
                  </PositionAndOrientation>
                  <LocalPositionAndOrientation xsi:nil="true" />
                  <GridSizeEnum>Small</GridSizeEnum>
                  <CubeBlocks>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>97775196622617372</EntityId>
                      <Min x="0" y="2" z="0" />
                      <CustomName>(Missile 4) LRM Warhead 2</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>98726242671955416</EntityId>
                      <Min x="0" y="1" z="0" />
                      <CustomName>(Missile 4) LRM Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>91861898251667347</EntityId>
                      <Min x="0" y="3" z="0" />
                      <CustomName>(Missile 4) LRM Warhead 3</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmorInvCorner</SubtypeName>
                      <EntityId>140585173733457163</EntityId>
                      <Min x="1" y="3" z="0" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmorInvCorner</SubtypeName>
                      <EntityId>120247794247404324</EntityId>
                      <Min x="-1" y="3" z="0" />
                      <BlockOrientation Forward="Backward" Up="Left" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmorInvCorner</SubtypeName>
                      <EntityId>126390020147750774</EntityId>
                      <Min x="0" y="3" z="1" />
                      <BlockOrientation Forward="Right" Up="Backward" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmorInvCorner</SubtypeName>
                      <EntityId>139677079329178655</EntityId>
                      <Min x="0" y="3" z="-1" />
                      <BlockOrientation Forward="Left" Up="Forward" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>125781163601738676</EntityId>
                      <Min x="0" y="4" z="-1" />
                      <BlockOrientation Forward="Up" Up="Forward" />
                      <CustomName>(Missile 4) LRM Camera</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>143561699708608153</EntityId>
                      <Min x="0" y="4" z="1" />
                      <BlockOrientation Forward="Up" Up="Backward" />
                      <CustomName>(Missile 4) LRM Camera 2</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>125969171391392091</EntityId>
                      <Min x="1" y="4" z="0" />
                      <BlockOrientation Forward="Up" Up="Right" />
                      <CustomName>(Missile 4) LRM Camera 3</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>92794140476968956</EntityId>
                      <Min x="-1" y="4" z="0" />
                      <BlockOrientation Forward="Up" Up="Left" />
                      <CustomName>(Missile 4) LRM Camera 4</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>87929362206253851</EntityId>
                      <Min x="0" y="4" z="0" />
                      <BlockOrientation Forward="Up" Up="Backward" />
                      <CustomName>(Missile 4) LRM Camera 5</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>100995139906087912</EntityId>
                      <Min x="1" y="2" z="0" />
                      <CustomName>(Missile 4) LRM Warhead 4</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>104900884276465414</EntityId>
                      <Min x="-1" y="2" z="0" />
                      <CustomName>(Missile 4) LRM Warhead 5</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>116049596459509500</EntityId>
                      <Min x="1" y="1" z="0" />
                      <CustomName>(Missile 4) LRM Warhead 6</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>78248287804035925</EntityId>
                      <Min x="-1" y="1" z="0" />
                      <CustomName>(Missile 4) LRM Warhead 7</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>105922980048656112</EntityId>
                      <Min x="0" y="2" z="1" />
                      <CustomName>(Missile 4) LRM Warhead 8</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>80187101549512872</EntityId>
                      <Min x="0" y="2" z="-1" />
                      <CustomName>(Missile 4) LRM Warhead 9</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>79650926079669486</EntityId>
                      <Min x="0" y="1" z="1" />
                      <CustomName>(Missile 4) LRM Warhead 10</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>121086982051411471</EntityId>
                      <Min x="0" y="1" z="-1" />
                      <CustomName>(Missile 4) LRM Warhead 11</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorInvCorner2Tip</SubtypeName>
                      <Min x="1" y="2" z="1" />
                      <BlockOrientation Forward="Up" Up="Left" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorInvCorner2Tip</SubtypeName>
                      <Min x="-1" y="2" z="1" />
                      <BlockOrientation Forward="Up" Up="Forward" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorInvCorner2Tip</SubtypeName>
                      <Min x="1" y="2" z="-1" />
                      <BlockOrientation Forward="Up" Up="Backward" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorInvCorner2Tip</SubtypeName>
                      <Min x="-1" y="2" z="-1" />
                      <BlockOrientation Forward="Up" Up="Right" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
                      <Min x="1" y="3" z="1" />
                      <BlockOrientation Forward="Left" Up="Backward" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
                      <Min x="-1" y="3" z="1" />
                      <BlockOrientation Forward="Forward" Up="Left" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
                      <Min x="1" y="3" z="-1" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
                      <Min x="-1" y="3" z="-1" />
                      <BlockOrientation Forward="Right" Up="Forward" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorInvCorner2Base</SubtypeName>
                      <Min x="1" y="1" z="1" />
                      <BlockOrientation Forward="Up" Up="Left" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorInvCorner2Base</SubtypeName>
                      <Min x="-1" y="1" z="1" />
                      <BlockOrientation Forward="Up" Up="Forward" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorInvCorner2Base</SubtypeName>
                      <Min x="1" y="1" z="-1" />
                      <BlockOrientation Forward="Up" Up="Backward" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorInvCorner2Base</SubtypeName>
                      <Min x="-1" y="1" z="-1" />
                      <BlockOrientation Forward="Up" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>128586055035581497</EntityId>
                      <Min x="1" y="0" z="1" />
                      <CustomName>(Missile 4) LRM Warhead 12</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>85327450448666222</EntityId>
                      <Min x="-1" y="0" z="1" />
                      <CustomName>(Missile 4) LRM Warhead 13</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>135023313327516279</EntityId>
                      <Min x="1" y="0" z="-1" />
                      <CustomName>(Missile 4) LRM Warhead 14</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>87397117744692156</EntityId>
                      <Min x="-1" y="0" z="-1" />
                      <CustomName>(Missile 4) LRM Warhead 15</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>78573762881938841</EntityId>
                      <Min x="0" y="0" z="1" />
                      <CustomName>(Missile 4) LRM Warhead 16</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>126351916202743467</EntityId>
                      <Min x="0" y="0" z="-1" />
                      <CustomName>(Missile 4) LRM Warhead 17</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>75360421950891270</EntityId>
                      <Min x="1" y="0" z="0" />
                      <CustomName>(Missile 4) LRM Warhead 18</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>104879410283905045</EntityId>
                      <Min x="-1" y="0" z="0" />
                      <CustomName>(Missile 4) LRM Warhead 19</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
                      <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
                      <EntityId>74421434375216359</EntityId>
                      <Min x="1" y="-5" z="-1" />
                      <BlockOrientation Forward="Down" Up="Forward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyTimerComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_TimerComponent">
                              <Repeat>true</Repeat>
                              <TimeToEvent>0</TimeToEvent>
                              <SetTimeMinutes>0</SetTimeMinutes>
                              <TimerEnabled>false</TimerEnabled>
                              <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                              <TimerType>Frame100</TimerType>
                              <FramesFromLastTrigger>0</FramesFromLastTrigger>
                              <TimerTickInFrames>100</TimerTickInFrames>
                              <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 9</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>false</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
                      <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
                      <EntityId>112842593368747603</EntityId>
                      <Min x="-1" y="-1" z="-1" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyTimerComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_TimerComponent">
                              <Repeat>true</Repeat>
                              <TimeToEvent>0</TimeToEvent>
                              <SetTimeMinutes>0</SetTimeMinutes>
                              <TimerEnabled>false</TimerEnabled>
                              <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                              <TimerType>Frame100</TimerType>
                              <FramesFromLastTrigger>0</FramesFromLastTrigger>
                              <TimerTickInFrames>100</TimerTickInFrames>
                              <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 3</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>false</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>112776901523121658</EntityId>
                      <Min x="0" y="-2" z="1" />
                      <BlockOrientation Forward="Up" Up="Backward" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>(Missile 4) LRM Small Battery 8</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>132150220597540442</EntityId>
                      <Min x="1" y="0" z="2" />
                      <BlockOrientation Forward="Backward" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 21</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>73264068757095905</EntityId>
                      <Min x="2" y="1" z="0" />
                      <BlockOrientation Forward="Right" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 7</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>129027087036657821</EntityId>
                      <Min x="-1" y="0" z="2" />
                      <BlockOrientation Forward="Backward" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 20</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>139860578953814767</EntityId>
                      <Min x="-2" y="1" z="0" />
                      <BlockOrientation Forward="Left" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 9</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>100236639034260875</EntityId>
                      <Min x="2" y="0" z="1" />
                      <BlockOrientation Forward="Right" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 10</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
                      <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
                      <EntityId>112387490354313048</EntityId>
                      <Min x="-1" y="-5" z="-1" />
                      <BlockOrientation Forward="Down" Up="Forward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyTimerComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_TimerComponent">
                              <Repeat>true</Repeat>
                              <TimeToEvent>0</TimeToEvent>
                              <SetTimeMinutes>0</SetTimeMinutes>
                              <TimerEnabled>false</TimerEnabled>
                              <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                              <TimerType>Frame100</TimerType>
                              <FramesFromLastTrigger>0</FramesFromLastTrigger>
                              <TimerTickInFrames>100</TimerTickInFrames>
                              <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 10</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>false</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>102130816765953696</EntityId>
                      <Min x="-2" y="0" z="1" />
                      <BlockOrientation Forward="Left" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 12</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>115746540575491564</EntityId>
                      <Min x="2" y="0" z="-1" />
                      <BlockOrientation Forward="Right" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 14</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
                      <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
                      <EntityId>139564500754748181</EntityId>
                      <Min x="1" y="-5" z="1" />
                      <BlockOrientation Forward="Down" Up="Forward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyTimerComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_TimerComponent">
                              <Repeat>true</Repeat>
                              <TimeToEvent>0</TimeToEvent>
                              <SetTimeMinutes>0</SetTimeMinutes>
                              <TimerEnabled>false</TimerEnabled>
                              <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                              <TimerType>Frame100</TimerType>
                              <FramesFromLastTrigger>0</FramesFromLastTrigger>
                              <TimerTickInFrames>100</TimerTickInFrames>
                              <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 7</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>false</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>97692300613805004</EntityId>
                      <Min x="-2" y="0" z="-1" />
                      <BlockOrientation Forward="Left" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 16</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>130079844535824082</EntityId>
                      <Min x="2" y="0" z="0" />
                      <BlockOrientation Forward="Right" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 18</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>142102124761917523</EntityId>
                      <Min x="-2" y="0" z="0" />
                      <BlockOrientation Forward="Left" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 19</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>109498752408143004</EntityId>
                      <Min x="-1" y="0" z="-2" />
                      <CustomName>(Missile 4) LRM Camera 22</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>95471101647352727</EntityId>
                      <Min x="1" y="0" z="-2" />
                      <CustomName>(Missile 4) LRM Camera 23</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
                      <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
                      <EntityId>77033128676774441</EntityId>
                      <Min x="1" y="-1" z="-1" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyTimerComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_TimerComponent">
                              <Repeat>true</Repeat>
                              <TimeToEvent>0</TimeToEvent>
                              <SetTimeMinutes>0</SetTimeMinutes>
                              <TimerEnabled>false</TimerEnabled>
                              <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                              <TimerType>Frame100</TimerType>
                              <FramesFromLastTrigger>0</FramesFromLastTrigger>
                              <TimerTickInFrames>100</TimerTickInFrames>
                              <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 4</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>false</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>99012748711954692</EntityId>
                      <Min x="0" y="1" z="2" />
                      <BlockOrientation Forward="Backward" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 28</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>80883854316879722</EntityId>
                      <Min x="0" y="1" z="-2" />
                      <CustomName>(Missile 4) LRM Camera 29</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>89439912852861801</EntityId>
                      <Min x="0" y="0" z="2" />
                      <BlockOrientation Forward="Backward" Up="Up" />
                      <CustomName>(Missile 4) LRM Camera 30</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>137652403917973973</EntityId>
                      <Min x="0" y="0" z="-2" />
                      <CustomName>(Missile 4) LRM Camera 31</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RadioAntenna">
                      <SubtypeName>SmallBlockRadioAntenna</SubtypeName>
                      <EntityId>87962912349204659</EntityId>
                      <Min x="0" y="-1" z="0" />
                      <BlockOrientation Forward="Down" Up="Backward" />
                      <CustomName>(Missile 4) LRM Antenna</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>false</Enabled>
                      <BroadcastRadius>1</BroadcastRadius>
                      <ShowShipName>false</ShowShipName>
                      <EnableBroadcasting>false</EnableBroadcasting>
                      <AttachedPB>0</AttachedPB>
                      <IgnoreAllied>false</IgnoreAllied>
                      <IgnoreOther>true</IgnoreOther>
                      <HudText />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfArmorBlock</SubtypeName>
                      <Min x="0" y="-5" z="-1" />
                      <BlockOrientation Forward="Backward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Gyro">
                      <SubtypeName>SmallBlockGyro</SubtypeName>
                      <EntityId>102024294760058644</EntityId>
                      <Min x="0" y="-2" z="0" />
                      <BlockOrientation Forward="Left" Up="Up" />
                      <CustomName>(Missile 4) LRM Gyroscope</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>131052264164289074</EntityId>
                      <Min x="0" y="-2" z="-1" />
                      <BlockOrientation Forward="Up" Up="Forward" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>(Missile 4) LRM Small Battery 9</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
                      <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
                      <EntityId>130763544192684491</EntityId>
                      <Min x="1" y="-2" z="-1" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyTimerComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_TimerComponent">
                              <Repeat>true</Repeat>
                              <TimeToEvent>0</TimeToEvent>
                              <SetTimeMinutes>0</SetTimeMinutes>
                              <TimerEnabled>false</TimerEnabled>
                              <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                              <TimerType>Frame100</TimerType>
                              <FramesFromLastTrigger>0</FramesFromLastTrigger>
                              <TimerTickInFrames>100</TimerTickInFrames>
                              <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 6</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>false</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MergeBlock">
                      <SubtypeName>SmallShipMergeBlock</SubtypeName>
                      <EntityId>144010050483630421</EntityId>
                      <Min x="-1" y="-6" z="-1" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
                      <CustomName>(Missile 4) LRM Merge Block</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfArmorBlock</SubtypeName>
                      <Min x="-1" y="-5" z="0" />
                      <BlockOrientation Forward="Right" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfArmorBlock</SubtypeName>
                      <Min x="1" y="-5" z="0" />
                      <BlockOrientation Forward="Left" Up="Up" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>114285571050144506</EntityId>
                      <Min x="1" y="-3" z="0" />
                      <BlockOrientation Forward="Down" Up="Right" />
                      <CustomName>(Missile 4) LRM Small Battery 6</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>114531196575888894</EntityId>
                      <Min x="-1" y="-3" z="0" />
                      <BlockOrientation Forward="Up" Up="Left" />
                      <CustomName>(Missile 4) LRM Small Battery 7</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>77422470918027486</EntityId>
                      <Min x="0" y="-3" z="1" />
                      <BlockOrientation Forward="Up" Up="Backward" />
                      <CustomName>(Missile 4) LRM Small Battery 8</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>102925617894342975</EntityId>
                      <Min x="0" y="-3" z="-1" />
                      <BlockOrientation Forward="Down" Up="Forward" />
                      <CustomName>(Missile 4) LRM Small Battery 9</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RemoteControl">
                      <SubtypeName>SmallBlockRemoteControl</SubtypeName>
                      <EntityId>82120538482908650</EntityId>
                      <Min x="0" y="-3" z="0" />
                      <BlockOrientation Forward="Up" Up="Backward" />
                      <CustomName>(Missile 4) LRM Remote Control</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <UseSingleWeaponMode>false</UseSingleWeaponMode>
                      <Toolbar>
                        <ToolbarType>Character</ToolbarType>
                        <SelectedSlot xsi:nil="true" />
                        <Slots />
                        <SlotsGamepad />
                      </Toolbar>
                      <SelectedGunId xsi:nil="true" />
                      <BuildToolbar>
                        <ToolbarType>Character</ToolbarType>
                        <SelectedSlot xsi:nil="true" />
                        <Slots />
                        <SlotsGamepad />
                      </BuildToolbar>
                      <PreviousControlledEntityId xsi:nil="true" />
                      <AutoPilotEnabled>false</AutoPilotEnabled>
                      <FlightMode>0</FlightMode>
                      <BindedCamera>0</BindedCamera>
                      <CurrentWaypointIndex>-1</CurrentWaypointIndex>
                      <Waypoints />
                      <Direction>0</Direction>
                      <DockingModeEnabled>false</DockingModeEnabled>
                      <CollisionAvoidance>false</CollisionAvoidance>
                      <Coords />
                      <Names />
                      <WaypointThresholdDistance>0</WaypointThresholdDistance>
                      <IsMainRemoteControl>false</IsMainRemoteControl>
                      <WaitForFreeWay>false</WaitForFreeWay>
                      <IsUpdatedSave>false</IsUpdatedSave>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfArmorBlock</SubtypeName>
                      <Min x="-1" y="-4" z="0" />
                      <BlockOrientation Forward="Right" Up="Down" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfArmorBlock</SubtypeName>
                      <Min x="1" y="-4" z="0" />
                      <BlockOrientation Forward="Left" Up="Up" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfArmorBlock</SubtypeName>
                      <Min x="0" y="-4" z="1" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfArmorBlock</SubtypeName>
                      <Min x="0" y="-4" z="-1" />
                      <BlockOrientation Forward="Backward" Up="Down" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ExhaustBlock">
                      <SubtypeName>SmallExhaustPipe</SubtypeName>
                      <EntityId>133868794290032251</EntityId>
                      <Min x="0" y="-4" z="0" />
                      <BlockOrientation Forward="Right" Up="Down" />
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyModStorageComponentBase</TypeId>
                            <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                              <Storage>
                                <dictionary>
                                  <item>
                                    <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                                    <Value />
                                  </item>
                                </dictionary>
                              </Storage>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Missile 4) LRM Exhaust Pipe</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>false</Enabled>
                      <ExhaustEffect>Fire</ExhaustEffect>
                      <PowerDependency>0</PowerDependency>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
                      <SubtypeName>SmallProgrammableBlock</SubtypeName>
                      <EntityId>113790574315703323</EntityId>
                      <Min x="0" y="-1" z="1" />
                      <BlockOrientation Forward="Up" Up="Backward" />
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyModStorageComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                              <Storage>
                                <dictionary>
                                  <item>
                                    <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                                    <Value>[Names]
Auto-configure missile name=true
Missile name tag=Missile
Missile number=4
Fire control group name=Fire Control
Detach thruster name tag=Detach

[Delays]
Guidance delay (s)=3
Stage 1: Disconnect delay (s)=1
Stage 2: Detach duration (s)=0
Stage 3: Main ignition delay (s)=0

[Gyros]
Proportional gain=10
Integral gain=0
Derivative gain=10

[Homing Parameters]
Navigation constant=5
Acceleration constant=0

[Beam Riding Parameters]
Hit offset up (m)=0
Hit offset left (m)=0

[Spiral Parameters]
Spin rate (RPM)=0
Spiral angle (deg)=15
Spiral time (sec)=3
Spiral activation range (m)=1000

[Raycast/Sensors]
Use cameras for homing=true
Tripwire range (m)=3.33
Minimum target size (m)=10
Minimum warhead arming range (m)=100
Ignore friendlies=false
Ignore planets=true
Ignore target ID for detonation=false

[Misc.]
Allow remote firing=false
Antenna meme mode=true
</Value>
                                  </item>
                                </dictionary>
                              </Storage>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Missile 4) LRM Programmable block</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <Program>
#region Script
const string VERSION = "169.4.6";const string DATE = "2021/01/24";const string COMPAT_VERSION = "94.0.0";
/*
/ //// / (WHAM) Whip's Homing Advanced Missile Script / //// /

_______________________________
INSTRUCTIONS

See workshop page for instructions, there is no room left in this script!

_______________________________
NOTE

This code has been minified so that it will fit in the programmable block.
I have NOT obfuscated any of the code, so that if you copy paste this into an
IDE like Visual Studio or use a website like https://codebeautify.org/csharpviewer,

you can uncompress this and it will be human readable.




=================================================
DO NOT MODIFY VARIABLES IN THE SCRIPT!

USE THE CUSTOM DATA OF THIS PROGRAMMABLE BLOCK!
=================================================


























HEY! DONT EVEN THINK ABOUT TOUCHING BELOW THIS LINE!

*/

#region Global Fields
int _guidanceAlgoIndex = 0;bool _autoConfigure = true;
bool _debugAntennas = false; // If true, the antenna name will be set to the current missile status
MissileGuidanceBase _selectedGuidance;ProNavGuidance _proNavGuid;WhipNavGuidance _whipNavGuid;HybridNavGuidance _hybridNavGuid;ZeroEffortMissGuidance _zeroEffortMissGuid;List&lt;MissileGuidanceBase&gt; _guidanceAlgorithms = new List&lt;MissileGuidanceBase&gt;();
#region Guidance Variables
bool _topDownAttack = false;
bool _enableSpiralTrajectory = false; //determines if missiles will spiral to avoid turret fire
bool _precisionMode = false;bool _retask = false;
#endregion
const string MISSILE_NAME_PATTERN = "({0} {1})";const string MISSILE_GROUP_PATTERN = "{0} {1}";string _missileGroupNameTag = "";string _missileNameTag = "";
#region Custom Data Variables
string _missileTag = "Missile";int _missileNumber = 1;
string _fireControlGroupNameTag = "Fire Control"; //Name of group that contains all fire control blocks
string _detachThrustTag = "Detach"; //(Optional) tag on detach thrust
double _disconnectDelay = 1; // time (in seconds) that the missile will delay disconnection from firing ship
double _guidanceDelay = 2; // time (in seconds) that the missile will delay guidance activation by
double _detachDuration = 0;double _mainIgnitionDelay = 0;bool _useCamerasForHoming = true;double _raycastRange = 3.33;double _raycastMinimumTargetSize = 10;bool _raycastIgnoreFriends = false;bool _raycastIgnorePlanetSurface = true;bool _ignoreIdForDetonation = false;
double _spiralDegrees = 15; // radius of the spiral pattern
double _timeMaxSpiral = 3; // time it takes the missile to complete a full spiral cycle
double _spiralActivationRange = 1000; // In meters
double _gyroProportionalGain = 10; // proportional gain of gyroscopes
double _gyroIntegralGain = 0; // proportional gain of gyroscopes
double _gyroDerivativeGain = 10; // derivative gain of gyroscopes
double _navConstant = 5; //Recommended value is 3-5
//Higher values make the missile compensate faster but can lead to more overshoot/instability
double _accelNavConstant = 0;
double _offsetUp = 0; // (in meters) Positive numbers offset up, negative offset down
double _offsetLeft = 0; // (in meters) Positive numbers offset left, negative offset right
double _missileSpinRPM = 0; //this specifies how fast the missile will spin when flying(only in space)
bool _allowRemoteFire = false;double _minimumArmingRange = 100;
#endregion
bool _remotelyFired = false;bool _antennaMemeMode = true;string _antennaName = "";string[] _antennaMemeMessages = new string[]{"All your base are belong to us","Pucker up buttercup","You are screwed","Are you my mommy?","You feeling lucky?","Herpes","Pootis","From Whip with love!","Run!","General Distress","Unknown Signal","Here comes the pain","Bend over","Private Shipment","Argentavis","Cargo Hauler","Art thou feeling it now Mr. Krabs?","It's commin' right for us!","Nothing personal kid...","*Fortnite dancing in public*","*Dabbing intensifies*","*Heavy breathing*","A surprise to be sure, but a welcome one","Hello there","General Kenobi","You underestimate my power","I am the SENATE!","Did you ever hear the tragedy of Darth Plagueis The Wise?","I thought not. It's not a story the Jedi would tell you.","It's a Sith legend.","Darth Plagueis was a Dark Lord of the Sith...","...so powerful and so wise he could use the Force...","...to influence the midichlorians to create life","*Evil head turn*","Another happy landing!","*Internalized Oppression*","Area is not secure!","Perfectly balanced, as all things should be","It's super effective!","Ah yes, an old friend of mine is here","Anything else you'd like to order?","Hi! Welcome to Chili's!","Platinum","Gold","Dinner is served!","UwU","* Arrow to the knee *","Atmospheric Lander","Just like mother used to make!","Big Chungus","Hecking Bamboozolled","Time to take out the trash","BUT WAIT!! THERE'S MORE!!","Is this the Krusty Krab?","No this is PATRICK!!!","I'm about to end this whole man's career..","Do you get to the Cloud District very often?","It's over Anakin!","I have the high ground!","You underestimate my POWER!","You were the chosen one!","It was said you would destroy the sith not join them...","...Bring balance to the force, not leave it in darkness!",};Random RNGesus = new Random();
//So many lists...
List&lt;IMyTerminalBlock&gt; _missileBlocks = new List&lt;IMyTerminalBlock&gt;();List&lt;IMyFunctionalBlock&gt; _funcBlocks = new List&lt;IMyFunctionalBlock&gt;();List&lt;IMyThrust&gt; _unsortedThrusters = new List&lt;IMyThrust&gt;();List&lt;IMyThrust&gt; _mainThrusters = new List&lt;IMyThrust&gt;();List&lt;IMyThrust&gt; _sideThrusters = new List&lt;IMyThrust&gt;();List&lt;IMyThrust&gt; _detachThrusters = new List&lt;IMyThrust&gt;();List&lt;IMyVirtualMass&gt; _artMasses = new List&lt;IMyVirtualMass&gt;();List&lt;IMyShipMergeBlock&gt; _mergeBlocks = new List&lt;IMyShipMergeBlock&gt;();List&lt;IMyBatteryBlock&gt; _batteries = new List&lt;IMyBatteryBlock&gt;();List&lt;IMyShipController&gt; _shipControllers = new List&lt;IMyShipController&gt;();List&lt;IMyGyro&gt; _gyros = new List&lt;IMyGyro&gt;();List&lt;IMyShipConnector&gt; _connectors = new List&lt;IMyShipConnector&gt;();List&lt;IMyMotorStator&gt; _rotors = new List&lt;IMyMotorStator&gt;();List&lt;IMyReactor&gt; _reactors = new List&lt;IMyReactor&gt;();List&lt;IMyRadioAntenna&gt; _antennas = new List&lt;IMyRadioAntenna&gt;();List&lt;IMyBeacon&gt; _beacons = new List&lt;IMyBeacon&gt;();List&lt;IMySensorBlock&gt; _sensors = new List&lt;IMySensorBlock&gt;();List&lt;IMyWarhead&gt; _warheads = new List&lt;IMyWarhead&gt;();List&lt;IMyTimerBlock&gt; _timers = new List&lt;IMyTimerBlock&gt;();List&lt;IMyCameraBlock&gt; _cameras = new List&lt;IMyCameraBlock&gt;();List&lt;IMyCameraBlock&gt; _homingCameras = new List&lt;IMyCameraBlock&gt;();List&lt;IMyGasTank&gt; _gasTanks = new List&lt;IMyGasTank&gt;();List&lt;MyDetectedEntityInfo&gt; _sensorEntities = new List&lt;MyDetectedEntityInfo&gt;();List&lt;DynamicCircularBuffer&lt;IMyCameraBlock&gt;&gt; _cameraBufferList = new List&lt;DynamicCircularBuffer&lt;IMyCameraBlock&gt;&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasFront = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasBack = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasLeft = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasRight = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasUp = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasDown = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();List&lt;MyTuple&lt;Vector3D, long&gt;&gt; _remoteFireRequests = new List&lt;MyTuple&lt;Vector3D, long&gt;&gt;();HashSet&lt;long&gt; _savedKeycodes = new HashSet&lt;long&gt;();
//Yo dawg... I heard u like vectors...
//Optical / //// /
Vector3D _shooterForwardVec = new Vector3D(0, 0, 0);Vector3D _shooterLeftVec = new Vector3D(0, 0, 0);Vector3D _shooterUpVec = new Vector3D(0, 0, 0);Vector3D _shooterPos = new Vector3D(0, 0, 0);Vector3D _shooterPosCached = new Vector3D(0, 0, 0);
//Raycast / //// /
Vector3D _targetPos = new Vector3D(0, 0, 0);Vector3D _targetVel = new Vector3D(0, 0, 0);double _timeSinceLastLock = 0;IMyShipController _missileReference = null;
//These booleans track the status of the missile
bool _shouldFire = false;bool _shouldKill = false;bool _hasPassed = false;bool _killAllowed = false;bool _shouldDive = false;bool _shouldStealth = true;bool _shouldProximityScan = false;bool _enableGuidance = false;bool _broadcastListenersRegistered = false;enum PostSetupAction { None = 0, Fire = 1, FireRequestResponse = 2 };PostSetupAction _postSetupAction = PostSetupAction.None;bool _canSetup = true;bool _preSetupFailed = false;int _setupTicks = 0;int _missileStage = 0;
//Store all this important stuff for computations between methods
double _distanceFromShooter;
double _timeTotal = 0; //total time program has been running
double _timeSinceLastIngest = 0;const int MAX_INSTRUCTIONS_PER_SETUP_RUN = 5000;const double UPDATES_PER_SECOND = 10.0;const double SECONDS_PER_UPDATE = 1.0 / UPDATES_PER_SECOND;const double DEG_TO_RAD = Math.PI / 180;const double RPM_TO_RAD = Math.PI / 30;const double TOPDOWN_DESCENT_ANGLE = Math.PI / 6;
const double MAX_GUIDANCE_TIME = 180; //in seconds
const double RUNTIME_TO_REALTIME = (1.0 / 60.0) / 0.0166666;const double GYRO_SLOWDOWN_ANGLE = Math.PI / 36;const double GYRO_PLANETARY_ROLL_ACTIVATION_ANGLE = Math.PI / 18;readonly MyIni _guidanceIni = new MyIni();readonly StringBuilder _saveSB = new StringBuilder();readonly RaycastHoming _raycastHoming;enum GuidanceMode : int { BeamRiding = 1, SemiActive = 2, Active = 4 };PID _yawPID;PID _pitchPID;IMyBlockGroup _missileGroup;Scheduler _scheduler;GuidanceMode _guidanceMode = GuidanceMode.SemiActive;RuntimeTracker _runtimeTracker;IMyBroadcastListener _broadcastListenerHoming;IMyBroadcastListener _broadcastListenerBeamRiding;IMyBroadcastListener _broadcastListenerParameters;IMyBroadcastListener _broadcastListenerRemoteFire;IMyUnicastListener _unicastListener;const string IGC_TAG_PARAMS = "IGC_MSL_PAR_MSG";const string IGC_TAG_HOMING = "IGC_MSL_HOM_MSG";const string IGC_TAG_BEAM_RIDING = "IGC_MSL_OPT_MSG";const string IGC_TAG_IFF = "IGC_IFF_MSG";const string IGC_TAG_FIRE = "IGC_MSL_FIRE_MSG";const string IGC_TAG_REMOTE_FIRE_REQUEST = "IGC_MSL_REM_REQ";const string IGC_TAG_REMOTE_FIRE_RESPONSE = "IGC_MSL_REM_RSP";const string IGC_TAG_REGISTER = "IGC_MSL_REG_MSG";const string UNICAST_TAG = "UNICAST";
#region Missile Ini Constants
const string INI_PARAMETER_SECTION_NAME = "params";const string INI_KEYCODE_SECTION_NAME = "key";const string INI_OPTICAL_SECTION_NAME = "op";const string INI_SEMIACTIVE_SECTION_NAME = "sa";const string INI_KEYCODE_CODE_NAME = "kc_c";const string INI_OPTICAL_SHOOTER_POS_NAME = "op_sp";const string INI_OPTICAL_FRONT_VEC_NAME = "op_fv";const string INI_OPTICAL_LEFT_VEC_NAME = "op_lv";const string INI_OPTICAL_UP_VEC_NAME = "op_uv";const string INI_SEMIACTIVE_TARGET_POS_NAME = "sa_tp";const string INI_SEMIACTIVE_HIT_POS_NAME = "sa_hp";const string INI_SEMIACTIVE_TARGET_VEL_NAME = "sa_tv";const string INI_SEMIACTIVE_SHOOTER_POS_NAME = "sa_sp";const string INI_SEMIACTIVE_TIME_SINCE_LOCK_NAME = "sa_t";const string INI_PARAMETER_KILL_NAME = "kill";const string INI_PARAMETER_STEALTH_NAME = "stealth";const string INI_PARAMETER_SPIRAL_NAME = "spiral";const string INI_PARAMETER_TOPDOWN_NAME = "topdown";
#endregion

#region Custom Data Ini Constants
readonly MyIni _myIni = new MyIni();const string INI_MSL_SECTION_NAME = "Names";const string INI_MSL_NAME_AUTO_SETUP = "Auto-configure missile name";const string INI_MSL_NAME_TAG = "Missile name tag";const string INI_MSL_NAME_NUM = "Missile number";const string INI_MSL_NAME_FIRE_CTRL = "Fire control group name";const string INI_MSL_NAME_DETACH = "Detach thruster name tag";const string INI_MSL_SECTION_DELAY = "Delays";const string INI_MSL_DELAY_GUIDANCE = "Guidance delay (s)";const string INI_MSL_DELAY_DISCONNECT = "Stage 1: Disconnect delay (s)";const string INI_MSL_DELAY_DETACH = "Stage 2: Detach duration (s)";const string INI_MSL_DELAY_MAIN_IGITION = "Stage 3: Main ignition delay (s)";const string INI_MSL_SECTION_GYRO = "Gyros";const string INI_MSL_GYRO_KP = "Proportional gain";const string INI_MSL_GYRO_KI = "Integral gain";const string INI_MSL_GYRO_KD = "Derivative gain";const string INI_MSL_SECTION_HOMING = "Homing Parameters";const string INI_MSL_HOMING_RELNAV = "Navigation constant";const string INI_MSL_HOMING_RELNAV_ACCEL = "Acceleration constant";const string INI_MSL_SECTION_BEAMRIDE = "Beam Riding Parameters";const string INI_MSL_BEAMRIDE_OFFSET_UP = "Hit offset up (m)";const string INI_MSL_BEAMRIDE_OFFSET_LEFT = "Hit offset left (m)";const string INI_MSL_SECTION_SPIRAL = "Spiral Parameters";const string INI_MSL_SPIRAL_DEG = "Spiral angle (deg)";const string INI_MSL_SPIRAL_TIME = "Spiral time (sec)";const string INI_MSL_SPIRAL_RANGE = "Spiral activation range (m)";const string INI_MSL_SPIRAL_SPIN_RPM = "Spin rate (RPM)";const string INI_MSL_SECTION_RAYCAST = "Raycast/Sensors";const string INI_MSL_RAYCAST_CAMS_FOR_HOMING = "Use cameras for homing";const string INI_MSL_RAYCAST_RANGE = "Tripwire range (m)";const string INI_MSL_RAYCAST_MIN_TGT_SIZE = "Minimum target size (m)";const string INI_MSL_RAYCAST_MIN_RANGE = "Minimum warhead arming range (m)";const string INI_MSL_RAYCAST_FRIENDS = "Ignore friendlies";const string INI_MSL_RAYCAST_IGNORE_PLANETS = "Ignore planets";const string INI_MSL_RAYCAST_IGNORE_ID_DETONATION = "Ignore target ID for detonation";const string INI_MSL_SECTION_MISC = "Misc.";const string INI_MSL_REMOTE_FIRE = "Allow remote firing";const string INI_MSL_MEME_MODE = "Antenna meme mode";
#endregion
ScheduledAction _stage1Action;ScheduledAction _stage2Action;ScheduledAction _stage3Action;ScheduledAction _stage4Action;ScheduledAction _guidanceActivateAction;
#endregion

#region Main Methods
Program(){_unicastListener = IGC.UnicastListener;_unicastListener.SetMessageCallback(UNICAST_TAG);_broadcastListenerRemoteFire = IGC.RegisterBroadcastListener(IGC_TAG_REMOTE_FIRE_REQUEST);_broadcastListenerRemoteFire.SetMessageCallback(IGC_TAG_REMOTE_FIRE_REQUEST);_guidanceActivateAction = new ScheduledAction(ActivateGuidance, 0, true);_stage1Action = new ScheduledAction(MissileStage1, 0, true);_stage2Action = new ScheduledAction(MissileStage2, 0, true);_stage3Action = new ScheduledAction(MissileStage3, 0, true);_stage4Action = new ScheduledAction(MissileStage4, 0, true);_stage1Action.RunInterval = 0;
// Scheduler assignment
_scheduler = new Scheduler(this, true);
// Setting up scheduled tasks
_scheduler.AddScheduledAction(_guidanceActivateAction);_scheduler.AddScheduledAction(GuideMissile, UPDATES_PER_SECOND);_scheduler.AddScheduledAction(CheckProximity, 60);_scheduler.AddScheduledAction(PrintEcho, 1);_scheduler.AddScheduledAction(NetworkTargets, 6);
// Setting up sequential tasks
_scheduler.AddQueuedAction(_stage1Action);_scheduler.AddQueuedAction(_stage2Action);_scheduler.AddQueuedAction(_stage3Action);_scheduler.AddQueuedAction(_stage4Action);_scheduler.AddQueuedAction(KillPower, MAX_GUIDANCE_TIME);_runtimeTracker = new RuntimeTracker(this, 120, 0.005);_raycastHoming = new RaycastHoming(5000, 3, 0, Me.CubeGrid.EntityId);_raycastHoming.AddEntityTypeToFilter(MyDetectedEntityType.FloatingObject, MyDetectedEntityType.Planet, MyDetectedEntityType.Asteroid);
// Init guidance
_proNavGuid = new ProNavGuidance(UPDATES_PER_SECOND, 1, _navConstant);_whipNavGuid = new WhipNavGuidance(UPDATES_PER_SECOND, 1, _navConstant);_hybridNavGuid = new HybridNavGuidance(UPDATES_PER_SECOND, 1, _navConstant);_zeroEffortMissGuid = new ZeroEffortMissGuidance(UPDATES_PER_SECOND, 1, _navConstant);
// Populate guidance algo list
_guidanceAlgorithms.Add(_proNavGuid);_guidanceAlgorithms.Add(_whipNavGuid);_guidanceAlgorithms.Add(_hybridNavGuid);_guidanceAlgorithms.Add(_zeroEffortMissGuid);
// Enable raycast spooling
GridTerminalSystem.GetBlocksOfType&lt;IMyCameraBlock&gt;(null, camera =&gt;{if (camera.IsSameConstructAs(Me))camera.EnableRaycast = true;return false;});
// Save camera buffer references to our list
_cameraBufferList.Add(_camerasFront);_cameraBufferList.Add(_camerasRight);_cameraBufferList.Add(_camerasLeft);_cameraBufferList.Add(_camerasUp);_cameraBufferList.Add(_camerasDown);_cameraBufferList.Add(_camerasBack);
//load targeting data from last save
ParseStorage();if (_postSetupAction != PostSetupAction.Fire){InitiateSetup();}}void Main(string arg, UpdateType updateSource){if ((updateSource &amp; (UpdateType.Terminal | UpdateType.Trigger | UpdateType.Script)) != 0)ArgumentHandling(arg);if ((updateSource &amp; UpdateType.Once) != 0){RunSetupStateMachine();}if ((updateSource &amp; UpdateType.Update10) != 0){SendRemoteFireResponse();Runtime.UpdateFrequency &amp;= ~UpdateFrequency.Update10;}bool igcMsg = (updateSource &amp; UpdateType.IGC) != 0;if (igcMsg){if (arg.Equals(UNICAST_TAG)){ParseUnicastMessages();}else if (arg.Equals(IGC_TAG_REMOTE_FIRE_REQUEST) &amp;&amp; _allowRemoteFire &amp;&amp; !_shouldFire){ParseRemoteFireRequest();}}if (!_shouldFire)return;if (igcMsg){if (arg.Equals(IGC_TAG_HOMING)){ParseMissileHomingData();if (_retask)_retask = false;}else if (arg.Equals(IGC_TAG_BEAM_RIDING)){ParseMissileBeamRidingData();if (_retask)_retask = false;}else if (arg.Equals(IGC_TAG_PARAMS)){ParseMissileParameterData();}}_scheduler.Update();var lastRuntime = Math.Min(RUNTIME_TO_REALTIME * Math.Max(Runtime.TimeSinceLastRun.TotalSeconds, 0), SECONDS_PER_UPDATE);_timeTotal += lastRuntime;_timeSpiral += lastRuntime;_timeSinceLastIngest += lastRuntime;if (_shouldKill)KillPower();_runtimeTracker.AddRuntime();_runtimeTracker.AddInstructions();}void ActiveHomingScans(){if (_homingCameras.Count == 0 || _shipControllers.Count == 0)return;_raycastHoming.Update(SECONDS_PER_UPDATE, _homingCameras, _shipControllers);if (_raycastHoming.Status == RaycastHoming.TargetingStatus.Locked){
// handoff
_guidanceMode = GuidanceMode.Active;_targetPos = _raycastHoming.TargetPosition;_targetVel = _raycastHoming.TargetVelocity;_timeSinceLastLock = _raycastHoming.TimeSinceLastLock;
// Force time since last ingest to be zero since there is no transmission time for active homing scans
_timeSinceLastIngest = 0;}else if (_raycastHoming.LockLost){_guidanceMode = GuidanceMode.SemiActive;}}void PrintEcho(){Echo(GetTitle());Echo($"Time Active: {_timeTotal:n0} sec");Echo(_runtimeTracker.Write());}
#endregion

#region Ini Configuration
void LoadIniConfig(){_myIni.Clear();bool parsed = _myIni.TryParse(Me.CustomData);if (!parsed){SaveIniConfig();_setupBuilder.Append("Wrote default missile config!\n");return;}_autoConfigure = _myIni.Get(INI_MSL_SECTION_NAME, INI_MSL_NAME_AUTO_SETUP).ToBoolean(_autoConfigure);_missileTag = _myIni.Get(INI_MSL_SECTION_NAME, INI_MSL_NAME_TAG).ToString(_missileTag);_missileNumber = _myIni.Get(INI_MSL_SECTION_NAME, INI_MSL_NAME_NUM).ToInt32(_missileNumber);_fireControlGroupNameTag = _myIni.Get(INI_MSL_SECTION_NAME, INI_MSL_NAME_FIRE_CTRL).ToString(_fireControlGroupNameTag);_detachThrustTag = _myIni.Get(INI_MSL_SECTION_NAME, INI_MSL_NAME_DETACH).ToString(_detachThrustTag);_disconnectDelay = _myIni.Get(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_DISCONNECT).ToDouble(_disconnectDelay);_guidanceDelay = _myIni.Get(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_GUIDANCE).ToDouble(_guidanceDelay);_detachDuration = _myIni.Get(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_DETACH).ToDouble(_detachDuration);_mainIgnitionDelay = _myIni.Get(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_MAIN_IGITION).ToDouble(_mainIgnitionDelay);_gyroProportionalGain = _myIni.Get(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KP).ToDouble(_gyroProportionalGain);_gyroIntegralGain = _myIni.Get(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KI).ToDouble(_gyroIntegralGain);_gyroDerivativeGain = _myIni.Get(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KD).ToDouble(_gyroDerivativeGain);_navConstant = _myIni.Get(INI_MSL_SECTION_HOMING, INI_MSL_HOMING_RELNAV).ToDouble(_navConstant);_accelNavConstant = _myIni.Get(INI_MSL_SECTION_HOMING, INI_MSL_HOMING_RELNAV_ACCEL).ToDouble(_accelNavConstant);_offsetUp = _myIni.Get(INI_MSL_SECTION_BEAMRIDE, INI_MSL_BEAMRIDE_OFFSET_UP).ToDouble(_offsetUp);_offsetLeft = _myIni.Get(INI_MSL_SECTION_BEAMRIDE, INI_MSL_BEAMRIDE_OFFSET_LEFT).ToDouble(_offsetLeft);_missileSpinRPM = _myIni.Get(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_SPIN_RPM).ToDouble(_missileSpinRPM);_spiralDegrees = _myIni.Get(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_DEG).ToDouble(_spiralDegrees);_timeMaxSpiral = _myIni.Get(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_TIME).ToDouble(_timeMaxSpiral);_timeMaxSpiral = Math.Max(_timeMaxSpiral, 0.1);_spiralActivationRange = _myIni.Get(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_RANGE).ToDouble(_spiralActivationRange);_useCamerasForHoming = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_CAMS_FOR_HOMING).ToBoolean(_useCamerasForHoming);_raycastRange = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_RANGE).ToDouble(_raycastRange);_raycastMinimumTargetSize = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_MIN_TGT_SIZE).ToDouble(_raycastMinimumTargetSize);_minimumArmingRange = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_MIN_RANGE).ToDouble(_minimumArmingRange);_raycastIgnoreFriends = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_FRIENDS).ToBoolean(_raycastIgnoreFriends);_raycastIgnorePlanetSurface = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_IGNORE_PLANETS).ToBoolean(_raycastIgnorePlanetSurface);_ignoreIdForDetonation = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_IGNORE_ID_DETONATION).ToBoolean(_ignoreIdForDetonation);_allowRemoteFire = _myIni.Get(INI_MSL_SECTION_MISC, INI_MSL_REMOTE_FIRE).ToBoolean(_allowRemoteFire);_antennaMemeMode = _myIni.Get(INI_MSL_SECTION_MISC, INI_MSL_MEME_MODE).ToBoolean(_antennaMemeMode);_setupBuilder.Append("Loaded missile config!\n");}void SaveIniConfig(){_myIni.Clear();_missileGroupNameTag = string.Format(MISSILE_GROUP_PATTERN, _missileTag, _missileNumber);_missileNameTag = string.Format(MISSILE_NAME_PATTERN, _missileTag, _missileNumber);_myIni.Set(INI_MSL_SECTION_NAME, INI_MSL_NAME_AUTO_SETUP, _autoConfigure);_myIni.Set(INI_MSL_SECTION_NAME, INI_MSL_NAME_TAG, _missileTag);_myIni.Set(INI_MSL_SECTION_NAME, INI_MSL_NAME_NUM, _missileNumber);_myIni.Set(INI_MSL_SECTION_NAME, INI_MSL_NAME_FIRE_CTRL, _fireControlGroupNameTag);_myIni.Set(INI_MSL_SECTION_NAME, INI_MSL_NAME_DETACH, _detachThrustTag);_myIni.Set(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_GUIDANCE, _guidanceDelay);_myIni.Set(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_DISCONNECT, _disconnectDelay);_myIni.Set(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_DETACH, _detachDuration);_myIni.Set(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_MAIN_IGITION, _mainIgnitionDelay);_myIni.Set(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KP, _gyroProportionalGain);_myIni.Set(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KI, _gyroIntegralGain);_myIni.Set(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KD, _gyroDerivativeGain);_myIni.Set(INI_MSL_SECTION_HOMING, INI_MSL_HOMING_RELNAV, _navConstant);_myIni.Set(INI_MSL_SECTION_HOMING, INI_MSL_HOMING_RELNAV_ACCEL, _accelNavConstant);_myIni.Set(INI_MSL_SECTION_BEAMRIDE, INI_MSL_BEAMRIDE_OFFSET_UP, _offsetUp);_myIni.Set(INI_MSL_SECTION_BEAMRIDE, INI_MSL_BEAMRIDE_OFFSET_LEFT, _offsetLeft);_myIni.Set(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_SPIN_RPM, _missileSpinRPM);_myIni.Set(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_DEG, _spiralDegrees);_myIni.Set(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_TIME, _timeMaxSpiral);_myIni.Set(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_RANGE, _spiralActivationRange);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_CAMS_FOR_HOMING, _useCamerasForHoming);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_RANGE, _raycastRange);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_MIN_TGT_SIZE, _raycastMinimumTargetSize);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_MIN_RANGE, _minimumArmingRange);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_FRIENDS, _raycastIgnoreFriends);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_IGNORE_PLANETS, _raycastIgnorePlanetSurface);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_IGNORE_ID_DETONATION, _ignoreIdForDetonation);_myIni.Set(INI_MSL_SECTION_MISC, INI_MSL_REMOTE_FIRE, _allowRemoteFire);_myIni.Set(INI_MSL_SECTION_MISC, INI_MSL_MEME_MODE, _antennaMemeMode);_guidanceActivateAction.RunInterval = _guidanceDelay;_stage2Action.RunInterval = _disconnectDelay;_stage3Action.RunInterval = _detachDuration;_stage4Action.RunInterval = _mainIgnitionDelay;Me.CustomData = _myIni.ToString();}
#endregion

#region Argument Handling and IGC Processing
void ParseUnicastMessages(){bool fireCommanded = false;
// Process message queue
while (_unicastListener.HasPendingMessage){MyIGCMessage message = _unicastListener.AcceptMessage();object data = message.Data;if (message.Tag == IGC_TAG_FIRE){fireCommanded = true;}else if (message.Tag == IGC_TAG_REGISTER){if (data is long){long keycode = (long)data;_savedKeycodes.Add(keycode);_remotelyFired = true;}}}if (fireCommanded){_postSetupAction = PostSetupAction.Fire;InitiateSetup(_remotelyFired);}}void ParseRemoteFireRequest(){bool remoteFireRequest = false;while (_broadcastListenerRemoteFire.HasPendingMessage){object messageData = _broadcastListenerRemoteFire.AcceptMessage().Data;if (messageData is MyTuple&lt;Vector3D, long&gt;){var payload = (MyTuple&lt;Vector3D, long&gt;)messageData;_remoteFireRequests.Add(payload);remoteFireRequest = true;}}if (remoteFireRequest){_postSetupAction = PostSetupAction.FireRequestResponse;InitiateSetup(true);}}void ProcessRemoteFireRequests(){Runtime.UpdateFrequency |= UpdateFrequency.Update10;
// On 10, send
float antennaRange = 1f;foreach (MyTuple&lt;Vector3D, long&gt; request in _remoteFireRequests){Vector3D requestPos = request.Item1;float dSq = (float)Vector3D.DistanceSquared(requestPos, Me.GetPosition());if (dSq &gt; antennaRange){antennaRange = dSq;}}antennaRange = (float)Math.Sqrt(antennaRange);foreach (var a in _antennas){if (IsClosed(a))continue;a.Radius = (float)antennaRange;a.EnableBroadcasting = true;a.Enabled = true;break;}}void SendRemoteFireResponse(){foreach (MyTuple&lt;Vector3D, long&gt; request in _remoteFireRequests){long programId = request.Item2;var response = new MyTuple&lt;Vector3D, long&gt;();response.Item1 = Me.GetPosition();response.Item2 = Me.EntityId;IGC.SendUnicastMessage(programId, IGC_TAG_REMOTE_FIRE_RESPONSE, response);}_remoteFireRequests.Clear();foreach (var a in _antennas){if (IsClosed(a))continue;a.EnableBroadcasting = false;break;}}void ParseMissileParameterData(){while (_broadcastListenerParameters.HasPendingMessage){object messageData = _broadcastListenerParameters.AcceptMessage().Data;if (!(messageData is MyTuple&lt;byte, long&gt;))continue;var payload = (MyTuple&lt;byte, long&gt;)messageData;long keycode = payload.Item2;if (!_savedKeycodes.Contains(keycode))continue;byte packedBools = payload.Item1;if (_killAllowed &amp;&amp; !_shouldKill)_shouldKill = (packedBools &amp; (1)) != 0;_shouldStealth = (packedBools &amp; (1 &lt;&lt; 1)) != 0;_enableSpiralTrajectory = (packedBools &amp; (1 &lt;&lt; 2)) != 0;_topDownAttack = (packedBools &amp; (1 &lt;&lt; 3)) != 0;_precisionMode = (packedBools &amp; (1 &lt;&lt; 4)) != 0;_retask = (packedBools &amp; (1 &lt;&lt; 5)) != 0;if (_shouldKill)_shouldStealth = true;_raycastHoming.OffsetTargeting = _precisionMode;}}void ParseMissileBeamRidingData(){while (_broadcastListenerBeamRiding.HasPendingMessage){object messageData = _broadcastListenerBeamRiding.AcceptMessage().Data;if (_guidanceMode == GuidanceMode.Active &amp;&amp; !_retask)continue;if (!(messageData is MyTuple&lt;Vector3, Vector3, Vector3, Vector3, long&gt;))continue;var payload = (MyTuple&lt;Vector3, Vector3, Vector3, Vector3, long&gt;)messageData;long keycode = payload.Item5;if (!_savedKeycodes.Contains(keycode))continue;_shooterForwardVec = payload.Item1;_shooterLeftVec = payload.Item2;_shooterUpVec = payload.Item3;_shooterPosCached = payload.Item4;_guidanceMode = GuidanceMode.BeamRiding;}}void ParseMissileHomingData(){
/* Item1.Col0: Hit position */

/* Item1.Col1: Target position */

/* Item1.Col2: Target velocity */

/* Item2.Col0: Precision offset */

/* Item2.Col1: Shooter position */

/* Item2.Col2: &lt;NOT USED&gt; */

/* Item3:      Time since last lock */

/* Item4:      Target ID */

/* Item5:      Key code */
while (_broadcastListenerHoming.HasPendingMessage){object messageData = _broadcastListenerHoming.AcceptMessage().Data;if (!(messageData is MyTuple&lt;Matrix3x3, Matrix3x3, float, long, long&gt;))continue;var payload = (MyTuple&lt;Matrix3x3, Matrix3x3, float, long, long&gt;)messageData;long keycode = payload.Item5;if (!_savedKeycodes.Contains(keycode))continue;_shooterPosCached = payload.Item2.Col1;if (_guidanceMode == GuidanceMode.Active &amp;&amp; !_retask)continue;Vector3D hitPos = payload.Item1.Col0;Vector3D offset = payload.Item2.Col0;_targetPos = payload.Item1.Col1;_targetVel = payload.Item1.Col2;_timeSinceLastLock = payload.Item3;long targetId = payload.Item4;_timeSinceLastIngest = 0;_guidanceMode = GuidanceMode.SemiActive;_raycastHoming.SetInitialLockParameters(hitPos, _targetVel, offset, _timeSinceLastLock, targetId);}}void RegisterBroadcastListeners(){if (_broadcastListenersRegistered)return;_broadcastListenerHoming = IGC.RegisterBroadcastListener(IGC_TAG_HOMING);_broadcastListenerHoming.SetMessageCallback(IGC_TAG_HOMING);_broadcastListenerBeamRiding = IGC.RegisterBroadcastListener(IGC_TAG_BEAM_RIDING);_broadcastListenerBeamRiding.SetMessageCallback(IGC_TAG_BEAM_RIDING);_broadcastListenerParameters = IGC.RegisterBroadcastListener(IGC_TAG_PARAMS);_broadcastListenerParameters.SetMessageCallback(IGC_TAG_PARAMS);_broadcastListenersRegistered = true;}void ArgumentHandling(string arg){if (arg.ToLower().Equals("_fire")){_postSetupAction = PostSetupAction.Fire;InitiateSetup();}else if (arg.ToLower().Equals("setup") &amp;&amp; !_shouldFire){_postSetupAction = PostSetupAction.None;InitiateSetup();}}bool ContainsKey(string message, HashSet&lt;string&gt; savedKeycodes){foreach (string thisKeycode in savedKeycodes){if (message.Contains(thisKeycode))return true;}return false;}
#endregion

#region Setup
List&lt;IMyBlockGroup&gt; _allGroups = new List&lt;IMyBlockGroup&gt;();List&lt;IMyProgrammableBlock&gt; _groupPrograms = new List&lt;IMyProgrammableBlock&gt;();int _autoConfigureMissileNumber;IEnumerator&lt;SetupStatus&gt; _setupStateMachine;StringBuilder _setupBuilder = new StringBuilder();void ClearLists(){_missileBlocks.Clear();_funcBlocks.Clear();_unsortedThrusters.Clear();_mainThrusters.Clear();_sideThrusters.Clear();_detachThrusters.Clear();_artMasses.Clear();_mergeBlocks.Clear();_batteries.Clear();_shipControllers.Clear();_gyros.Clear();_connectors.Clear();_rotors.Clear();_reactors.Clear();_antennas.Clear();_beacons.Clear();_sensors.Clear();_warheads.Clear();_cameras.Clear();_camerasFront.Clear();_camerasBack.Clear();_camerasLeft.Clear();_camerasRight.Clear();_camerasUp.Clear();_camerasDown.Clear();_homingCameras.Clear();_gasTanks.Clear();}string GetTitle(){return $"Whip's Homing Adv. Missile Script\n(Version {VERSION} - {DATE})\n\nFor use with LAMP v{COMPAT_VERSION} or later.\n";}List&lt;IMyRadioAntenna&gt; _broadcasters = new List&lt;IMyRadioAntenna&gt;();List&lt;IMyBlockGroup&gt; _foundGroups = new List&lt;IMyBlockGroup&gt;();List&lt;IMyMechanicalConnectionBlock&gt; _mechConnections = new List&lt;IMyMechanicalConnectionBlock&gt;();enum SetupStatus { None = 0, Running = 1, Done = 2 }IEnumerator&lt;SetupStatus&gt; SetupStateMachine(bool reload = false){string title = GetTitle();_setupBuilder.Append(title).Append("\n");LoadIniConfig();
#region Auto-Configuration
if (_autoConfigure){_allGroups.Clear();_foundGroups.Clear();_autoConfigureMissileNumber = -1;_missileGroup = null;_setupBuilder.Append("\nRunning Autosetup...").Append("\n");GridTerminalSystem.GetBlockGroups(_allGroups);foreach (var group in _allGroups){
// Group collect
string groupName = group.Name;if (groupName.StartsWith(_missileTag)){int spaceIndex = groupName.IndexOf(' ', _missileTag.Length);if (spaceIndex == -1)continue;
// Check if this program exists in the group
_groupPrograms.Clear();group.GetBlocksOfType(_groupPrograms);bool foundSelf = false;foreach (var pb in _groupPrograms){if (pb == Me){foundSelf = true;break;}if (AtInstructionLimit()) { yield return SetupStatus.Running; }}if (!foundSelf)continue;string missileNumberStr = groupName.Substring(spaceIndex + 1);int missileNumber;bool parsed = int.TryParse(missileNumberStr, out missileNumber);if (!parsed)continue;_autoConfigureMissileNumber = missileNumber;if (_missileGroup == null)_missileGroup = group;_foundGroups.Add(group);}if (AtInstructionLimit()) { yield return SetupStatus.Running; }}if (_missileGroup == null){_setupBuilder.Append("&gt; WARN: No groups containing this\n  program found.").Append("\n");
_missileGroup = GridTerminalSystem.GetBlockGroupWithName(_missileGroupNameTag); // Default
}
else if (_foundGroups.Count &gt; 1) // Too many
{_setupBuilder.Append("&gt; WARN: MULTIPLE groups\n  containing this program\n  found:").Append("\n");for (int i = 0; i &lt; _foundGroups.Count; ++i){var thisGroup = _foundGroups[i];_setupBuilder.Append($"    {i + 1}: {thisGroup.Name}").Append("\n");}}else {_setupBuilder.Append($"&gt; Missile group found:\n  '{_missileTag} {_autoConfigureMissileNumber}'").Append("\n");_missileNumber = _autoConfigureMissileNumber;}}
else // Default: Read from custom data
{_missileGroup = GridTerminalSystem.GetBlockGroupWithName(_missileGroupNameTag);}
#endregion
SaveIniConfig();
#region Ignore own grids with raycast
_mechConnections.Clear();_raycastHoming.ClearIgnoredGridIDs();_raycastHoming.AddIgnoredGridID(Me.CubeGrid.EntityId);foreach (var mc in _mechConnections){_raycastHoming.AddIgnoredGridID(mc.CubeGrid.EntityId);if (mc.TopGrid != null)_raycastHoming.AddIgnoredGridID(mc.TopGrid.EntityId);if (AtInstructionLimit()) { yield return SetupStatus.Running; }}
#endregion

#region Guidance and PID config
_proNavGuid.NavConstant = _navConstant;_proNavGuid.NavAccelConstant = _accelNavConstant;_whipNavGuid.NavConstant = _navConstant;_whipNavGuid.NavAccelConstant = _accelNavConstant;_hybridNavGuid.NavConstant = _navConstant;_hybridNavGuid.NavAccelConstant = _accelNavConstant;_zeroEffortMissGuid.NavConstant = _navConstant;_zeroEffortMissGuid.NavAccelConstant = _accelNavConstant;_selectedGuidance = _guidanceAlgorithms[_guidanceAlgoIndex];_yawPID = new PID(_gyroProportionalGain, _gyroIntegralGain, _gyroDerivativeGain, 0.1, SECONDS_PER_UPDATE);_pitchPID = new PID(_gyroProportionalGain, _gyroIntegralGain, _gyroDerivativeGain, 0.1, SECONDS_PER_UPDATE);
#endregion

_preSetupFailed = false; // TODO rename
ClearLists();
#region Grab Key Codes
_setupBuilder.Append($"\nChecking for firing ship...").Append("\n");_broadcasters.Clear();var fcsGroup = GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupNameTag);if (fcsGroup != null){fcsGroup.GetBlocksOfType(_broadcasters);if (_broadcasters.Count == 0){if (!reload){_preSetupFailed = true;_setupBuilder.Append($"&gt;&gt; ERR: No antennas in group\n  named '{_fireControlGroupNameTag}'! This\n  missile MUST be attached to\n  a configured firing ship to fire!").Append("\n");}}else {foreach (IMyRadioAntenna thisAntenna in _broadcasters){
//x.IsSameConstructAs(Me))? Check if missile has connectors before this?
_savedKeycodes.Add(thisAntenna.EntityId);if (AtInstructionLimit()) { yield return SetupStatus.Running; }}_setupBuilder.Append($"&gt; Info: Found antenna(s) on firing ship").Append("\n");}}else if (!reload){_preSetupFailed = true;_setupBuilder.Append($"&gt;&gt; ERR: No group named\n  '{_fireControlGroupNameTag}' found!\n  This missile MUST be attached to\n  a configured firing ship to fire!").Append("\n");}
#endregion

#region Get Missile Blocks
_setupBuilder.Append($"\nSetup for group named \"{_missileGroupNameTag}\"...").Append("\n");if (_missileGroup != null){_missileGroup.GetBlocks(_missileBlocks);}else {_setupBuilder.Append($"&gt;&gt; ERR: No block group named '{_missileGroupNameTag}' found!").Append("\n");_preSetupFailed = true;}for (int i = 0; i &lt; _missileBlocks.Count; ++i){CollectBlocks(_missileBlocks[i]);if (AtInstructionLimit()) { yield return SetupStatus.Running; }}
#endregion

#region Set Meme Mode name
if (_antennaMemeMode){int index = RNGesus.Next(_antennaMemeMessages.Length);_antennaName = _antennaMemeMessages[index];}else {_antennaName = "";}
#endregion
yield return SetupStatus.Done;}public void RunSetupStateMachine(){_setupTicks++;if (_setupStateMachine != null){bool moreInstructions = _setupStateMachine.MoveNext();if (_setupStateMachine.Current == SetupStatus.Running){Runtime.UpdateFrequency = UpdateFrequency.Once;}
else // Done with block fetching
{_canSetup = true;
// Dispose of setup state machine
_setupStateMachine.Dispose();_setupStateMachine = null;_setupBuilder.Append($"&gt; Info: Setup took {_setupTicks} tick(s)").Append("\n");
// Post-block fetch
bool setupPassed = SetupErrorChecking();if (!setupPassed || _preSetupFailed){_setupBuilder.Append($"\n&gt;&gt;&gt; Setup Failed! &lt;&lt;&lt;").Append("\n");Echo(_setupBuilder.ToString());return;}
// Implied else
_setupBuilder.Append("\n&gt;&gt;&gt; Setup Successful! &lt;&lt;&lt;").Append("\n");_missileReference = _shipControllers[0];if ((_postSetupAction &amp; PostSetupAction.Fire) != 0){_shouldFire = true;RegisterBroadcastListeners();Runtime.UpdateFrequency = UpdateFrequency.Update1;}if ((_postSetupAction &amp; PostSetupAction.FireRequestResponse) != 0){ProcessRemoteFireRequests();}Echo(_setupBuilder.ToString());}}
else // Setup failed
{_setupBuilder.Append($"&gt; Info: Setup took {_setupTicks} tick(s)").Append("\n");_setupBuilder.Append($"\n&gt;&gt;&gt; Setup Failed! &lt;&lt;&lt;").Append("\n");_canSetup = true;Echo(_setupBuilder.ToString());}}void InitiateSetup(bool reload = false){if (!_canSetup)return;_canSetup = false;_setupTicks = 0;_setupBuilder.Clear();if (_setupStateMachine != null){_setupStateMachine.Dispose();_setupStateMachine = null;}_setupStateMachine = SetupStateMachine(reload);RunSetupStateMachine();}public bool AtInstructionLimit(){return Runtime.CurrentInstructionCount &gt;= MAX_INSTRUCTIONS_PER_SETUP_RUN;}bool SetupErrorChecking(){bool setupFailed = false;
// ERRORS
if (EchoIfTrue(_antennas.Count == 0, "&gt;&gt; ERR: No antennas found"))setupFailed = true;if (EchoIfTrue(_gyros.Count == 0, "&gt;&gt; ERR: No gyros found"))setupFailed = true;if (EchoIfTrue(_shipControllers.Count == 0, "&gt;&gt; ERR: No remotes found"))setupFailed = true;else GetThrusterOrientation(_shipControllers[0]);if (EchoIfTrue(_mainThrusters.Count == 0, "&gt;&gt; ERR: No main thrusters found"))setupFailed = true;if (EchoIfTrue(_batteries.Count == 0 &amp;&amp; _reactors.Count == 0, "&gt;&gt; ERR: No batteries or reactors found"))setupFailed = true;
// WARNINGS
EchoIfTrue(_mergeBlocks.Count == 0 &amp;&amp; _rotors.Count == 0 &amp;&amp; _connectors.Count == 0, "&gt; WARN: No merge blocks, rotors, or connectors found for detaching");
// INFO
EchoIfTrue(_artMasses.Count == 0, "&gt; Info: No artificial masses found");EchoIfTrue(_sensors.Count == 0, "&gt; Info: No sensors found");EchoIfTrue(_warheads.Count == 0, "&gt; Info: No warheads found");EchoIfTrue(_beacons.Count == 0, "&gt; Info: No beacons found");EchoIfTrue(_cameras.Count == 0, "&gt; Info: No cameras found");EchoIfTrue(_timers.Count == 0, "&gt; Info: No timers found");EchoIfTrue(_sideThrusters.Count == 0, "&gt; Info: No side thrusters found");EchoIfTrue(_detachThrusters.Count == 0, "&gt; Info: No detach thrusters found");EchoIfTrue(_gasTanks.Count == 0, "&gt; Info: No gas tanks found");return !setupFailed;}bool CollectBlocks(IMyTerminalBlock block){if (!block.IsSameConstructAs(Me))return false;
/*
Here we extract the missile prefix from block names to ensure that
we don't write multiple name tags to the same block.
Expected block name pattern is: "(Missile X) BLOCK_NAME"
*/
var name = block.CustomName;var splitName = name.Split('(', ')');if (splitName.Length &gt;= 2){var temp = splitName[1];var cleanName = name.Replace($"({temp})", "").TrimStart();block.CustomName = $"{_missileNameTag} {cleanName}";}else {block.CustomName = $"{_missileNameTag} {name}";}IMyThrust thrust;IMyRadioAntenna antenna;IMyCameraBlock camera;AddToListIfType(block, _funcBlocks);if (AddToListIfType(block, _unsortedThrusters, out thrust)){if (thrust.CustomName.Contains(_detachThrustTag))_detachThrusters.Add(thrust);}else if (AddToListIfType(block, _antennas, out antenna)){antenna.Radius = 1f;antenna.EnableBroadcasting = false;antenna.Enabled = _allowRemoteFire;}else if (AddToListIfType(block, _artMasses)){ }else if (AddToListIfType(block, _batteries)){ }else if (AddToListIfType(block, _gyros)){ }else if (AddToListIfType(block, _mergeBlocks)){ }else if (AddToListIfType(block, _shipControllers)){ }else if (AddToListIfType(block, _connectors)){ }else if (AddToListIfType(block, _rotors)){ }else if (AddToListIfType(block, _reactors)){ }else if (AddToListIfType(block, _beacons)){ }else if (AddToListIfType(block, _sensors)){ }else if (AddToListIfType(block, _warheads)){ }else if (AddToListIfType(block, _timers)){ }else if (AddToListIfType(block, _gasTanks)){ }else if (AddToListIfType(block, _cameras, out camera)){camera.Enabled = true;camera.EnableRaycast = true;if (_useCamerasForHoming)_homingCameras.Add(camera);GetCameraOrientation(camera);}return false;}bool AddToListIfType&lt;T&gt;(IMyTerminalBlock block, List&lt;T&gt; list) where T : class, IMyTerminalBlock {T typedBlock;return AddToListIfType(block, list, out typedBlock);}bool AddToListIfType&lt;T&gt;(IMyTerminalBlock block, List&lt;T&gt; list, out T typedBlock) where T : class, IMyTerminalBlock {typedBlock = block as T;if (typedBlock != null){list.Add(typedBlock);return true;}return false;}bool EchoIfTrue(bool state, string toEcho){if (state){_setupBuilder.Append(toEcho).Append("\n");}return state;}
// Assumes all thrust is on same grid as PB
void GetThrusterOrientation(IMyTerminalBlock refBlock){var forwardDirn = refBlock.Orientation.Forward;foreach (IMyThrust thisThrust in _unsortedThrusters){var thrustDirn = Base6Directions.GetFlippedDirection(thisThrust.Orientation.Forward);if (thrustDirn == forwardDirn){_mainThrusters.Add(thisThrust);}else {_sideThrusters.Add(thisThrust);}}}void GetCameraOrientation(IMyCameraBlock c){switch (c.Orientation.Forward){case Base6Directions.Direction.Forward: _camerasFront.Add(c);return;case Base6Directions.Direction.Backward: _camerasBack.Add(c);return;case Base6Directions.Direction.Left: _camerasLeft.Add(c);return;case Base6Directions.Direction.Right: _camerasRight.Add(c);return;case Base6Directions.Direction.Up: _camerasUp.Add(c);return;case Base6Directions.Direction.Down: _camerasDown.Add(c);return;}}
#endregion

#region Missile Launch Sequence

// Prepares missile for launch by activating power sources.
void MissileStage1(){_missileStage = 1;foreach (IMyBatteryBlock block in _batteries){if (IsClosed(block))continue;block.Enabled = true;block.ChargeMode = ChargeMode.Auto;}foreach (IMyReactor block in _reactors){if (IsClosed(block))continue;block.Enabled = true;}foreach (IMySensorBlock block in _sensors){if (IsClosed(block))continue;block.Enabled = false;}foreach (IMyWarhead block in _warheads){if (IsClosed(block))continue;block.IsArmed = false;}foreach (IMyGyro block in _gyros){if (IsClosed(block))continue;block.Enabled = true;}foreach (IMyGasTank block in _gasTanks){if (IsClosed(block))continue;block.Stockpile = false;}}
// Detaches missile from the firing ship.
void MissileStage2(){_missileStage = 2;foreach (IMyVirtualMass block in _artMasses){if (IsClosed(block))continue;block.Enabled = true;}foreach (IMyShipMergeBlock block in _mergeBlocks){if (IsClosed(block))continue;block.Enabled = false;}foreach (IMyShipConnector block in _connectors){if (IsClosed(block))continue;block.Disconnect();}foreach (IMyMotorStator block in _rotors){if (IsClosed(block))continue;block.Detach();}foreach (IMyRadioAntenna block in _antennas){if (IsClosed(block))continue;block.Radius = 1f;block.Enabled = false;block.EnableBroadcasting = false;
block.Enabled = true; //this used to be a bug workaround, not sure if it is still needed tbh
block.CustomName = "";}foreach (IMyBeacon block in _beacons){if (IsClosed(block))continue;block.Radius = 1f;block.Enabled = true;block.CustomName = "";}foreach (IMyTimerBlock block in _timers){if (IsClosed(block))continue;block.Trigger();}ApplyThrustOverride(_sideThrusters, 0.00001f, false);ApplyThrustOverride(_detachThrusters, 100f);}
// Disables missile thrust for drifting.
void MissileStage3(){_missileStage = 3;ApplyThrustOverride(_detachThrusters, 0.00001f);}
// Ignites main thrust.
void MissileStage4(){_missileStage = 4;foreach (IMyVirtualMass block in _artMasses){if (IsClosed(block))continue;block.Enabled = false;}foreach (IMyCameraBlock thisCamera in _cameras){if (IsClosed(thisCamera))continue;if (!thisCamera.EnableRaycast)thisCamera.EnableRaycast = true;if (!thisCamera.Enabled)thisCamera.Enabled = true;}ApplyThrustOverride(_detachThrusters, 0f);ApplyThrustOverride(_sideThrusters, 0f);ApplyThrustOverride(_mainThrusters, 100f);Me.CubeGrid.CustomName = _missileGroupNameTag;_killAllowed = true;}
#endregion

#region Missile Guidance

// Delays GuideMissile until the guidance delay is finished.
void ActivateGuidance(){_enableGuidance = true;}void GuideMissile(){if ((_guidanceMode &amp; (GuidanceMode.SemiActive | GuidanceMode.Active)) != 0)ActiveHomingScans();if (!_enableGuidance)return;
//Get missile position and velocity
MatrixD worldMatrix = _missileReference.WorldMatrix;double missileSpeed = _missileReference.GetShipSpeed();Vector3D missilePos = _missileReference.CenterOfMass;Vector3D missileVelocityVec = _missileReference.GetShipVelocities().LinearVelocity;
//Get orientation vectors of our missile
Vector3D missileFrontVec = worldMatrix.Forward;Vector3D missileLeftVec = worldMatrix.Left;Vector3D missileUpVec = worldMatrix.Up;
//Get positions of our origin with offsets added in
_shooterPos = _shooterPosCached + _offsetLeft * _shooterLeftVec + _offsetUp * _shooterUpVec;
//Find current distance from shooter to missile
_distanceFromShooter = Vector3D.Distance(_shooterPos, missilePos);ScaleAntennaRange(_distanceFromShooter + 100);
// Computing mass, thrust, and acceleration
double missileThrust = CalculateMissileThrust(_mainThrusters);double missileMass = _missileReference.CalculateShipMass().PhysicalMass;double missileAcceleration = missileThrust / missileMass;
//aligning bottom of missile to gravity
Vector3D gravityVec = _missileReference.GetNaturalGravity();bool inGravity = !Vector3D.IsZero(gravityVec);bool shouldSpiral = _enableSpiralTrajectory;Vector3D headingVec;bool pastMinArmingRange = Vector3D.DistanceSquared(missilePos, _shooterPos) &gt;= _minimumArmingRange * _minimumArmingRange;
//Determine destination
if (_guidanceMode == GuidanceMode.BeamRiding) //optical
{
#region Optical Guidance

//Find vector from shooter to missile
var shooterToMissileVec = missilePos - _shooterPos;
if (Vector3D.IsZero(_shooterForwardVec)) //this is to avoid NaN cases when the shooterForwardVec isnt cached yet
_shooterForwardVec = missileFrontVec; //messy but stops my code from breaking lol
//Calculate perpendicular distance from shooter vector
var projectionVec = VectorMath.Projection(shooterToMissileVec, _shooterForwardVec);
//Determine scaling factor
Vector3D destinationVec = _shooterPos + projectionVec + _shooterForwardVec * Math.Max(2 * missileSpeed, 200);
if (_shooterForwardVec.Dot(shooterToMissileVec) &gt; 0) // Missile is in front of the shooter
{if (!_hasPassed){_hasPassed = true;}}
else if (_hasPassed) // If behind shooter and we have already passed the shooter before
{int signLeft = Math.Sign(shooterToMissileVec.Dot(_shooterLeftVec));int signUp = Math.Sign(shooterToMissileVec.Dot(_shooterUpVec));destinationVec += signLeft * 100 * _shooterLeftVec + signUp * 100 * _shooterUpVec;}
//Find vector from missile to destinationVec
Vector3D missileToTargetVec = destinationVec - missilePos;
//Drift compensation
if (_missileStage == 4){headingVec = CalculateDriftCompensation(missileVelocityVec, missileToTargetVec, missileAcceleration, 0.5, gravityVec, 60);}else {headingVec = missileToTargetVec;}_shouldProximityScan = pastMinArmingRange;
#endregion
}
else // Homing
{
#region Homing Guidance
var adjustedTargetPos = _targetPos + _targetVel * (_timeSinceLastLock + _timeSinceLastIngest);if (_topDownAttack &amp;&amp; inGravity &amp;&amp; !_shouldDive){adjustedTargetPos += Vector3D.Normalize(gravityVec) * -1500;if (VectorMath.AngleBetween(_targetPos - missilePos, gravityVec) &lt; TOPDOWN_DESCENT_ANGLE)_shouldDive = true;}_selectedGuidance.MissileAcceleration = missileAcceleration;headingVec = _selectedGuidance.Update(missilePos, missileVelocityVec, adjustedTargetPos, _targetVel, gravityVec);double distanceToTgtSq = Vector3D.DistanceSquared(missilePos, adjustedTargetPos);double speedSq = (missileVelocityVec - _targetVel).LengthSquared();
_shouldProximityScan = pastMinArmingRange &amp;&amp; (speedSq &gt; distanceToTgtSq); // Roughly 1 second till impact
// Only spiral if we are close enough to the target to conserve fuel
if (shouldSpiral)
shouldSpiral = ((_spiralActivationRange * _spiralActivationRange &gt; distanceToTgtSq) &amp;&amp; (speedSq * 4.0 &lt; distanceToTgtSq)); // TODO: Don't hard code this lol

#endregion
}
#region General Functions

// Calc spiral trajectory
if (shouldSpiral){headingVec = SpiralTrajectory(headingVec, missileFrontVec, missileUpVec);}if (_missileStage == 4){var headingDeviation = VectorMath.CosBetween(headingVec, missileFrontVec);ApplyThrustOverride(_mainThrusters, (float)MathHelper.Clamp(headingDeviation, 0.25f, 1f) * 100f);}
// Get pitch and yaw angles
double yawAngle; double pitchAngle; double rollAngle;GetRotationAnglesSimultaneous(headingVec, -gravityVec, _missileReference.WorldMatrix, out pitchAngle, out yawAngle, out rollAngle);
// Angle controller
double yawSpeed = _yawPID.Control(yawAngle, SECONDS_PER_UPDATE);double pitchSpeed = _pitchPID.Control(pitchAngle, SECONDS_PER_UPDATE);
// Handle roll more simply
double rollSpeed = 0;if (!inGravity &amp;&amp; _missileStage == 4){
rollSpeed = _missileSpinRPM * RPM_TO_RAD; //converts RPM to rad/s
}else {rollSpeed = rollAngle;}if (Math.Abs(yawAngle) &lt; GYRO_SLOWDOWN_ANGLE){yawSpeed = UPDATES_PER_SECOND * .5 * yawAngle;}if (Math.Abs(pitchAngle) &lt; GYRO_SLOWDOWN_ANGLE){pitchSpeed = UPDATES_PER_SECOND * .5 * pitchAngle;}
// Disable roll until we are close to aligned with pitch and yaw to reduce errors due to simultaneous 3-axis control.
if (inGravity &amp;&amp; (Math.Abs(yawAngle) &gt; GYRO_PLANETARY_ROLL_ACTIVATION_ANGLE || Math.Abs(pitchAngle) &gt; GYRO_PLANETARY_ROLL_ACTIVATION_ANGLE)){
//rollSpeed = 0;
}
//Set appropriate gyro override
ApplyGyroOverride(pitchSpeed, yawSpeed, rollSpeed, _gyros, _missileReference.WorldMatrix);
#endregion
}
// Computes optimal drift compensation vector to eliminate drift in a specified time
static Vector3D CalculateDriftCompensation(Vector3D velocity, Vector3D directHeading, double accel, double timeConstant, Vector3D gravityVec, double maxDriftAngle = 60){if (directHeading.LengthSquared() == 0)return velocity;if (Vector3D.Dot(velocity, directHeading) &lt; 0)return directHeading;if (velocity.LengthSquared() &lt; 100)return directHeading;var normalVelocity = VectorMath.Rejection(velocity, directHeading);var normal = VectorMath.SafeNormalize(normalVelocity);var parallel = VectorMath.SafeNormalize(directHeading);var normalAccel = Vector3D.Dot(normal, normalVelocity) / timeConstant;normalAccel = Math.Min(normalAccel, accel * Math.Sin(MathHelper.ToRadians(maxDriftAngle)));var gravityCompensationTerm = 1.1 * -(VectorMath.Rejection(gravityVec, directHeading));var normalAccelerationVector = normalAccel * normal + gravityCompensationTerm;double parallelAccel = 0;var diff = accel * accel - normalAccelerationVector.LengthSquared();if (diff &gt; 0)parallelAccel = Math.Sqrt(diff);return parallelAccel * parallel - normal * normalAccel;}
#endregion

#region Broadcast Missile IFF
enum TargetRelation : byte { Neutral = 0, Enemy = 1, Friendly = 2, Locked = 4 }void NetworkTargets(){var myTuple = new MyTuple&lt;byte, long, Vector3D, double&gt;((byte)2, Me.CubeGrid.EntityId, Me.WorldAABB.Center, Me.CubeGrid.WorldAABB.HalfExtents.LengthSquared());IGC.SendBroadcastMessage(IGC_TAG_IFF, myTuple);if (_guidanceMode == GuidanceMode.Active &amp;&amp; _raycastHoming.Status == RaycastHoming.TargetingStatus.Locked){TargetRelation relation = TargetRelation.Locked;switch (_raycastHoming.TargetRelation){case MyRelationsBetweenPlayerAndBlock.Owner: case MyRelationsBetweenPlayerAndBlock.Friends: case MyRelationsBetweenPlayerAndBlock.FactionShare: relation |= TargetRelation.Friendly;break;case MyRelationsBetweenPlayerAndBlock.Enemies: relation |= TargetRelation.Enemy;break;
// Neutral is assumed if not friendly or enemy
}myTuple = new MyTuple&lt;byte, long, Vector3D, double&gt;((byte)relation, _raycastHoming.TargetId, _raycastHoming.TargetCenter, 0);IGC.SendBroadcastMessage(IGC_TAG_IFF, myTuple);}}
#endregion

#region Block Property Functions
public bool IsClosed(IMyTerminalBlock block){return GridTerminalSystem.GetBlockWithId(block.EntityId) == null;}void ScaleAntennaRange(double dist){foreach (IMyRadioAntenna thisAntenna in _antennas){if (IsClosed(thisAntenna))continue;thisAntenna.Radius = (float)dist;if (_shouldStealth)thisAntenna.EnableBroadcasting = false;else thisAntenna.EnableBroadcasting = true;if (_debugAntennas)thisAntenna.CustomName = $"{_guidanceMode}\n{_guidanceAlgoIndex}\n{_raycastHoming.Status}\n";else thisAntenna.CustomName = _antennaName;}foreach (IMyBeacon thisBeacon in _beacons){if (IsClosed(thisBeacon))continue;thisBeacon.Radius = (float)dist;}}void ApplyThrustOverride(List&lt;IMyThrust&gt; thrusters, float overrideValue, bool turnOn = true){float thrustProportion = overrideValue * 0.01f;foreach (IMyThrust thisThrust in thrusters){if (IsClosed(thisThrust))continue;if (thisThrust.Enabled != turnOn)thisThrust.Enabled = turnOn;if (thrustProportion != thisThrust.ThrustOverridePercentage)thisThrust.ThrustOverridePercentage = thrustProportion;}}void CheckProximity(){if (!_shouldProximityScan)return;Vector3D adjustedTargetPos = _raycastHoming.TargetPosition + _raycastHoming.TargetVelocity * (_timeSinceLastLock + _timeSinceLastIngest);
// If we have no cameras or sensors for detonation, use some approximations
if (_cameras.Count == 0 &amp;&amp; _sensors.Count == 0){
if (_guidanceMode == GuidanceMode.BeamRiding) // Arm warheads if in beam ride mode
{foreach (var thisWarhead in _warheads){if (IsClosed(thisWarhead))continue;if (!thisWarhead.IsArmed)thisWarhead.IsArmed = true;}}
else // Use bounding box estimation for detonation if we have no cameras or sensors
{
// TODO: Need a better estimate for ship depth
double distanceToTargetSq = Vector3D.DistanceSquared(_missileReference.GetPosition(), adjustedTargetPos);double estimatedRadius = Me.CubeGrid.WorldVolume.Radius;double adjustedDetonationRange = estimatedRadius + _raycastRange;if (distanceToTargetSq &lt; adjustedDetonationRange * adjustedDetonationRange){Detonate();}}return;}
// Do one scan in the direction of the relative velocity vector
if (RaycastTripwireInDirection(_missileReference.GetShipVelocities().LinearVelocity - _raycastHoming.TargetVelocity)){Detonate();return;}
// Do one scan in the direction of the target (if applicable)
if ((_guidanceMode &amp; (GuidanceMode.SemiActive | GuidanceMode.Active)) != 0 &amp;&amp; RaycastTripwireInDirection(adjustedTargetPos - _missileReference.GetPosition())){Detonate();return;}
// Do a randomized raycast for each side
if (RaycastTripwireRandomized()){Detonate();return;}foreach (IMySensorBlock sensor in _sensors){if (IsClosed(sensor))continue;if (!sensor.Enabled)sensor.Enabled = true;if (sensor.IsActive){_sensorEntities.Clear();sensor.DetectedEntities(_sensorEntities);foreach (var targetInfo in _sensorEntities){if (IsValidTarget(targetInfo)){Detonate();return;}}}}}bool RaycastTripwireInDirection(Vector3D directionToTarget){foreach (var cameraBuffer in _cameraBufferList){if (cameraBuffer.Count != 0 &amp;&amp; Vector3D.Dot(directionToTarget, cameraBuffer.Peek().WorldMatrix.Forward) &gt; .7071){IMyCameraBlock cam = cameraBuffer.MoveNext();if (!cam.EnableRaycast){cam.EnableRaycast = true;}if (!cam.Enabled){cam.Enabled = true;}Vector3D camLocalDirection = Vector3D.Rotate(directionToTarget, MatrixD.Transpose(cam.WorldMatrix));MyDetectedEntityInfo targetInfo = cam.Raycast(_raycastRange, camLocalDirection);return IsValidTarget(targetInfo);}}return false;}bool RaycastTripwireRandomized(){foreach (var cameraBuffer in _cameraBufferList){if (cameraBuffer.Count != 0){IMyCameraBlock cam = cameraBuffer.MoveNext();if (!cam.EnableRaycast){cam.EnableRaycast = true;}if (!cam.Enabled){cam.Enabled = true;}MyDetectedEntityInfo targetInfo;double azimuth = (RNGesus.NextDouble() - 0.5) * 90.0;double elevation = (RNGesus.NextDouble() - 0.5) * 90.0;targetInfo = cam.Raycast(_raycastRange, (float)azimuth, (float)elevation);if (IsValidTarget(targetInfo)){return true;}}}return false;}bool IsValidTarget(MyDetectedEntityInfo targetInfo){if (targetInfo.IsEmpty())return false;if (targetInfo.EntityId == Me.CubeGrid.EntityId)return false;if (!_ignoreIdForDetonation &amp;&amp; ((_guidanceMode &amp; (GuidanceMode.SemiActive | GuidanceMode.Active)) != 0) &amp;&amp; (targetInfo.EntityId != _raycastHoming.TargetId))return false;if (_raycastIgnorePlanetSurface &amp;&amp; targetInfo.Type == MyDetectedEntityType.Planet)return false;if (_raycastIgnoreFriends &amp;&amp; (targetInfo.Relationship &amp; (MyRelationsBetweenPlayerAndBlock.FactionShare | MyRelationsBetweenPlayerAndBlock.Owner)) != 0)return false;if (targetInfo.BoundingBox.Size.LengthSquared() &lt; _raycastMinimumTargetSize * _raycastMinimumTargetSize)return false;return true;}void Detonate(){foreach (var thisWarhead in _warheads){if (IsClosed(thisWarhead))continue;thisWarhead.Detonate();}}void KillPower(){foreach (var b in _funcBlocks){if (!IsClosed(b))b.Enabled = false;}foreach (var w in _warheads){if (!IsClosed(w))w.Detonate();}Runtime.UpdateFrequency = UpdateFrequency.None;}double CalculateMissileThrust(List&lt;IMyThrust&gt; mainThrusters){double thrust = 0;foreach (var block in mainThrusters){if (IsClosed(block))continue;thrust += block.IsFunctional ? block.MaxEffectiveThrust : 0;
//compensate for grav later
}return thrust;}
#endregion

#region Vector Math Functions
public static class VectorMath {public static Vector3D SafeNormalize(Vector3D a){if (Vector3D.IsZero(a))return Vector3D.Zero;if (Vector3D.IsUnit(ref a))return a;return Vector3D.Normalize(a);}
public static Vector3D Reflection(Vector3D a, Vector3D b, double rejectionFactor = 1) //reflect a over b
{Vector3D project_a = Projection(a, b);Vector3D reject_a = a - project_a;return project_a - reject_a * rejectionFactor;}
public static Vector3D Rejection(Vector3D a, Vector3D b) //reject a on b
{if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return Vector3D.Zero;return a - a.Dot(b) / b.LengthSquared() * b;}public static Vector3D Projection(Vector3D a, Vector3D b){if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return Vector3D.Zero;return a.Dot(b) / b.LengthSquared() * b;}public static double ScalarProjection(Vector3D a, Vector3D b){if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return 0;if (Vector3D.IsUnit(ref b))return a.Dot(b);return a.Dot(b) / b.Length();}
public static double AngleBetween(Vector3D a, Vector3D b) //returns radians
{if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return 0;else return Math.Acos(MathHelper.Clamp(a.Dot(b) / Math.Sqrt(a.LengthSquared() * b.LengthSquared()), -1, 1));}
public static double CosBetween(Vector3D a, Vector3D b, bool useSmallestAngle = false) //returns radians
{if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return 0;else return MathHelper.Clamp(a.Dot(b) / Math.Sqrt(a.LengthSquared() * b.LengthSquared()), -1, 1);}}
/*
Whip's GetRotationAnglesSimultaneous - Last modified: 2020/08/27

Gets axis angle rotation and decomposes it upon each cardinal axis.
Has the desired effect of not causing roll oversteer. Does NOT use
sequential rotation angles.

NOTE:
This is designed for use with Keen's gyroscopes where:
+ pitch = -X rotation
+ yaw   = -Y rotation
+ roll  = -Z rotation

As such, the resulting angles are negated since they are computed
using the opposite sign assumption.

Dependencies:
VectorMath.SafeNormalize
*/
void GetRotationAnglesSimultaneous(Vector3D desiredForwardVector, Vector3D desiredUpVector, MatrixD worldMatrix, out double pitch, out double yaw, out double roll){desiredForwardVector = VectorMath.SafeNormalize(desiredForwardVector);MatrixD transposedWm;MatrixD.Transpose(ref worldMatrix, out transposedWm);Vector3D.Rotate(ref desiredForwardVector, ref transposedWm, out desiredForwardVector);Vector3D.Rotate(ref desiredUpVector, ref transposedWm, out desiredUpVector);Vector3D leftVector = Vector3D.Cross(desiredUpVector, desiredForwardVector);Vector3D axis;double angle;if (Vector3D.IsZero(desiredUpVector) || Vector3D.IsZero(leftVector)){axis = new Vector3D(desiredForwardVector.Y, -desiredForwardVector.X, 0);angle = Math.Acos(MathHelper.Clamp(-desiredForwardVector.Z, -1.0, 1.0));}else {leftVector = VectorMath.SafeNormalize(leftVector);Vector3D upVector = Vector3D.Cross(desiredForwardVector, leftVector);
// Create matrix
MatrixD targetMatrix = MatrixD.Zero;targetMatrix.Forward = desiredForwardVector;targetMatrix.Left = leftVector;targetMatrix.Up = upVector;axis = new Vector3D(targetMatrix.M23 - targetMatrix.M32,targetMatrix.M31 - targetMatrix.M13,targetMatrix.M12 - targetMatrix.M21);double trace = targetMatrix.M11 + targetMatrix.M22 + targetMatrix.M33;angle = Math.Acos(MathHelper.Clamp((trace - 1) * 0.5, -1, 1));}if (Vector3D.IsZero(axis)){angle = desiredForwardVector.Z &lt; 0 ? 0 : Math.PI;yaw = angle;pitch = 0;roll = 0;return;}axis = VectorMath.SafeNormalize(axis);
// Because gyros rotate about -X -Y -Z, we need to negate our angles
yaw = -axis.Y * angle;pitch = -axis.X * angle;roll = -axis.Z * angle;}
//Whip's Spiral Trajectory Method v2
double _timeSpiral = 0;Vector3D SpiralTrajectory(Vector3D v_target, Vector3D v_front, Vector3D v_up){double spiralRadius = Math.Tan(_spiralDegrees * DEG_TO_RAD);if (Vector3D.IsZero(v_target))return v_target;Vector3D v_targ_norm = Vector3D.Normalize(v_target);if (_timeSpiral &gt; _timeMaxSpiral)_timeSpiral = 0;double angle_theta = 2 * Math.PI * _timeSpiral / _timeMaxSpiral;if (v_front.Dot(v_targ_norm) &gt; 0){Vector3D v_x = Vector3D.Normalize(v_up.Cross(v_targ_norm));Vector3D v_y = Vector3D.Normalize(v_x.Cross(v_targ_norm));Vector3D v_target_adjusted = v_targ_norm + spiralRadius * (v_x * Math.Cos(angle_theta) + v_y * Math.Sin(angle_theta));return v_target_adjusted;}else {return v_targ_norm;}}
#endregion

#region Gyroscopic Control Functions

/*
Whip's ApplyGyroOverride - Last modified: 2020/08/27

Takes pitch, yaw, and roll speeds relative to the gyro's backwards
ass rotation axes.

NOTE:
Added IsClosed check for WHAM
*/
void ApplyGyroOverride(double pitchSpeed, double yawSpeed, double rollSpeed, List&lt;IMyGyro&gt; gyroList, MatrixD worldMatrix){var rotationVec = new Vector3D(pitchSpeed, yawSpeed, rollSpeed);var relativeRotationVec = Vector3D.TransformNormal(rotationVec, worldMatrix);foreach (var thisGyro in gyroList){if (IsClosed(thisGyro))continue;var transformedRotationVec = Vector3D.TransformNormal(relativeRotationVec, Matrix.Transpose(thisGyro.WorldMatrix));thisGyro.Pitch = (float)transformedRotationVec.X;thisGyro.Yaw = (float)transformedRotationVec.Y;thisGyro.Roll = (float)transformedRotationVec.Z;thisGyro.GyroOverride = true;}}
#endregion

#region Storage Parsing/Saving

void ParseStorage() //TODO: Add proper ini save/parse for Active guidance
{if (GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupNameTag) != null){
// This means missile is still attached to firing ship
Storage = "";return;}var storageSplit = Storage.Split('\n');foreach (var line in storageSplit){if (line.StartsWith("@")){var trimmedLine = line.Replace("@", "");bool parsed = int.TryParse(trimmedLine, out _missileStage);if (parsed &amp;&amp; _missileStage == 0){_savedKeycodes.Clear();return;}continue;}long code = 0;if (!string.IsNullOrWhiteSpace(line) &amp;&amp; long.TryParse(line, out code))_savedKeycodes.Add(code);}if (_savedKeycodes.Count != 0 &amp;&amp; _missileStage != 0){_postSetupAction = PostSetupAction.Fire;InitiateSetup(true);}Echo("Storage parsed");}void Save(){_saveSB.Clear();foreach (var id in _savedKeycodes)_saveSB.Append($"{id}\n");_saveSB.Append($"@{_missileStage}");Storage = _saveSB.ToString();}
#endregion

#region Scheduler

// Class for scheduling actions to occur at specific frequencies. Actions can be updated in parallel or in sequence (queued).
public class Scheduler {ScheduledAction _currentlyQueuedAction = null;bool _firstRun = true;readonly bool _ignoreFirstRun;readonly List&lt;ScheduledAction&gt; _scheduledActions = new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt; _actionsToDispose = new List&lt;ScheduledAction&gt;();readonly Queue&lt;ScheduledAction&gt; _queuedActions = new Queue&lt;ScheduledAction&gt;();readonly Program _program;const double RUNTIME_TO_REALTIME = (1.0 / 60.0) / 0.0166666;public Scheduler(Program program, bool ignoreFirstRun = false){_program = program;_ignoreFirstRun = ignoreFirstRun;}public void Update(){double deltaTime = Math.Max(0, _program.Runtime.TimeSinceLastRun.TotalSeconds * RUNTIME_TO_REALTIME);if (_ignoreFirstRun &amp;&amp; _firstRun)deltaTime = 0;_firstRun = false;_actionsToDispose.Clear();foreach (ScheduledAction action in _scheduledActions){action.Update(deltaTime);if (action.JustRan &amp;&amp; action.DisposeAfterRun){_actionsToDispose.Add(action);}}
// Remove all actions that we should dispose
_scheduledActions.RemoveAll((x) =&gt; _actionsToDispose.Contains(x));if (_currentlyQueuedAction == null){
// If queue is not empty, populate current queued action
if (_queuedActions.Count != 0)_currentlyQueuedAction = _queuedActions.Dequeue();}
// If queued action is populated
if (_currentlyQueuedAction != null){_currentlyQueuedAction.Update(deltaTime);if (_currentlyQueuedAction.JustRan){
// Set the queued action to null for the next cycle
_currentlyQueuedAction = null;}}}public void AddScheduledAction(Action action, double updateFrequency, bool disposeAfterRun = false, double timeOffset = 0){ScheduledAction scheduledAction = new ScheduledAction(action, updateFrequency, disposeAfterRun, timeOffset);_scheduledActions.Add(scheduledAction);}public void AddScheduledAction(ScheduledAction scheduledAction){_scheduledActions.Add(scheduledAction);}public void AddQueuedAction(Action action, double updateInterval){if (updateInterval &lt;= 0){
updateInterval = 0.001; // avoids divide by zero
}ScheduledAction scheduledAction = new ScheduledAction(action, 1.0 / updateInterval, true);_queuedActions.Enqueue(scheduledAction);}public void AddQueuedAction(ScheduledAction scheduledAction){_queuedActions.Enqueue(scheduledAction);}}
// Class for scheduling an action to occur at a specified frequency (in Hz).
public class ScheduledAction {public bool JustRan { get; private set; } = false;public bool DisposeAfterRun { get; set; } = false;public double TimeSinceLastRun { get; private set; } = 0;public double RunInterval {get {return _runInterval;}set {if (value == _runInterval)return;_runInterval = value &lt; Epsilon ? 0 : value;_runFrequency = value == 0 ? double.MaxValue : 1.0 / _runInterval;}}public double RunFrequency {get {return _runFrequency;}set {if (value == _runFrequency)return;if (value == 0)RunInterval = double.MaxValue;else RunInterval = 1.0 / value;}}double _runInterval = -1e9;double _runFrequency = -1e9;readonly Action _action;const double Epsilon = 1e-12;public ScheduledAction(Action action, double runFrequency = 0, bool removeAfterRun = false, double timeOffset = 0){_action = action;
RunFrequency = runFrequency; // Implicitly sets RunInterval
DisposeAfterRun = removeAfterRun;TimeSinceLastRun = timeOffset;}public void Update(double deltaTime){TimeSinceLastRun += deltaTime;if (TimeSinceLastRun + Epsilon &gt;= RunInterval){_action.Invoke();TimeSinceLastRun = 0;JustRan = true;}else {JustRan = false;}}}
#endregion

#region PID Control

//Whip's PID controller class v6 - 11/22/17
public class PID {double _kP = 0;double _kI = 0;double _kD = 0;double _integralDecayRatio = 0;double _lowerBound = 0;double _upperBound = 0;double _timeStep = 0;double _inverseTimeStep = 0;double _errorSum = 0;double _lastError = 0;bool _firstRun = true;bool _integralDecay = false;public double Value { get; private set; }public PID(double kP, double kI, double kD, double lowerBound, double upperBound, double timeStep){_kP = kP;_kI = kI;_kD = kD;_lowerBound = lowerBound;_upperBound = upperBound;_timeStep = timeStep;_inverseTimeStep = 1 / _timeStep;_integralDecay = false;}public PID(double kP, double kI, double kD, double integralDecayRatio, double timeStep){_kP = kP;_kI = kI;_kD = kD;_timeStep = timeStep;_inverseTimeStep = 1 / _timeStep;_integralDecayRatio = integralDecayRatio;_integralDecay = true;}public double Control(double error){
//Compute derivative term
var errorDerivative = (error - _lastError) * _inverseTimeStep;if (_firstRun){errorDerivative = 0;_firstRun = false;}
//Compute integral term
if (!_integralDecay){_errorSum += error * _timeStep;
//Clamp integral term
if (_errorSum &gt; _upperBound)_errorSum = _upperBound;else if (_errorSum &lt; _lowerBound)_errorSum = _lowerBound;}else {_errorSum = _errorSum * (1.0 - _integralDecayRatio) + error * _timeStep;}
//Store this error as last error
_lastError = error;
//Construct output
this.Value = _kP * error + _kI * _errorSum + _kD * errorDerivative;return this.Value;}public double Control(double error, double timeStep){_timeStep = timeStep;_inverseTimeStep = 1 / _timeStep;return Control(error);}public void Reset(){_errorSum = 0;_lastError = 0;_firstRun = true;}}
#endregion

#region Runtime Monitoring

// Class that tracks runtime history.
public class RuntimeTracker {public int Capacity { get; set; }public double Sensitivity { get; set; }public double MaxRuntime { get; private set; }public double MaxInstructions { get; private set; }public double AverageRuntime { get; private set; }public double AverageInstructions { get; private set; }private readonly Queue&lt;double&gt; _runtimes = new Queue&lt;double&gt;();private readonly Queue&lt;double&gt; _instructions = new Queue&lt;double&gt;();private readonly StringBuilder _sb = new StringBuilder();private readonly int _instructionLimit;private readonly Program _program;public RuntimeTracker(Program program, int capacity = 100, double sensitivity = 0.01){_program = program;Capacity = capacity;Sensitivity = sensitivity;_instructionLimit = _program.Runtime.MaxInstructionCount;}public void AddRuntime(){double runtime = _program.Runtime.LastRunTimeMs;AverageRuntime = Sensitivity * (runtime - AverageRuntime) + AverageRuntime;_runtimes.Enqueue(runtime);if (_runtimes.Count == Capacity){_runtimes.Dequeue();}MaxRuntime = _runtimes.Max();}public void AddInstructions(){double instructions = _program.Runtime.CurrentInstructionCount;AverageInstructions = Sensitivity * (instructions - AverageInstructions) + AverageInstructions;_instructions.Enqueue(instructions);if (_instructions.Count == Capacity){_instructions.Dequeue();}MaxInstructions = _instructions.Max();}public string Write(){_sb.Clear();_sb.AppendLine("\n_____________________________\nGeneral Runtime Info\n");_sb.AppendLine($"Avg instructions: {AverageInstructions:n2}");_sb.AppendLine($"Max instructions: {MaxInstructions:n0}");_sb.AppendLine($"Avg complexity: {MaxInstructions / _instructionLimit:0.000}%");_sb.AppendLine($"Avg runtime: {AverageRuntime:n4} ms");_sb.AppendLine($"Max runtime: {MaxRuntime:n4} ms");return _sb.ToString();}}
#endregion

#region Ini Helper
public static class MyIniHelper {public static void SetVector3D(string sectionName, string vectorName, ref Vector3D vector, MyIni ini){ini.Set(sectionName, vectorName, vector.ToString());}public static Vector3D GetVector3D(string sectionName, string vectorName, MyIni ini){var vector = Vector3D.Zero;Vector3D.TryParse(ini.Get(sectionName, vectorName).ToString(), out vector);return vector;}}
#endregion

#region Raycast Homing
class RaycastHoming {public TargetingStatus Status { get; private set; } = TargetingStatus.NotLocked;public Vector3D TargetPosition {get {return OffsetTargeting ? OffsetTargetPosition : TargetCenter;}}public Vector3D TargetCenter { get; private set; } = Vector3D.Zero;public Vector3D OffsetTargetPosition { get; private set; } = Vector3D.Zero;public Vector3D TargetVelocity { get; private set; } = Vector3D.Zero;public Vector3D HitPosition { get; private set; } = Vector3D.Zero;public Vector3D PreciseModeOffset { get; private set; } = Vector3D.Zero;public bool OffsetTargeting = false;public bool MissedLastScan { get; private set; } = false;public bool LockLost { get; private set; } = false;public bool IsScanning { get; private set; } = false;public string TargetType { get; private set; } = "";public double TimeSinceLastLock { get; private set; } = 0;public double TargetSize { get; private set; } = 0;public double MaxRange { get; private set; }public double MinRange { get; private set; }public long TargetId { get; private set; } = 0;public double AutoScanInterval { get; private set; } = 0;public double MaxTimeForLockBreak { get; private set; }public MyRelationsBetweenPlayerAndBlock TargetRelation;public enum TargetingStatus { NotLocked, Locked, TooClose };enum AimMode { None = 0, Center = 1, Offset = 2, OffsetRelative = 4 };AimMode _currentAimMode = AimMode.Center;readonly HashSet&lt;MyDetectedEntityType&gt; _targetFilter = new HashSet&lt;MyDetectedEntityType&gt;();readonly List&lt;IMyCameraBlock&gt; _availableCameras = new List&lt;IMyCameraBlock&gt;();readonly Random _rngeesus = new Random();MyDetectedEntityInfo _targetInfo = default(MyDetectedEntityInfo);MatrixD _targetOrientation;Vector3D _targetPosCached;Vector3D _targetPositionOverride;HashSet&lt;long&gt; _gridIDsToIgnore = new HashSet&lt;long&gt;();double _timeSinceLastScan = 0;bool _manualLockOverride = false;bool _fudgeVectorSwitch = false;public RaycastHoming(double maxRange, double maxTimeForLockBreak, double minRange = 0, long gridIDToIgnore = 0){MinRange = minRange;MaxRange = maxRange;MaxTimeForLockBreak = maxTimeForLockBreak;AddIgnoredGridID(gridIDToIgnore);}public void SetInitialLockParameters(Vector3D hitPosition, Vector3D targetVelocity, Vector3D offset, double timeSinceLastLock, long targetId){_targetPositionOverride = hitPosition;TargetCenter = hitPosition;HitPosition = hitPosition;OffsetTargetPosition = hitPosition;PreciseModeOffset = offset;TargetVelocity = targetVelocity;TimeSinceLastLock = timeSinceLastLock;_manualLockOverride = true;IsScanning = true;TargetId = targetId;}public void AddIgnoredGridID(long id){_gridIDsToIgnore.Add(id);}public void ClearIgnoredGridIDs(){_gridIDsToIgnore.Clear();}public void AddEntityTypeToFilter(params MyDetectedEntityType[] types){foreach (var type in types){_targetFilter.Add(type);}}public void RemoveEntityTypeToFilter(params MyDetectedEntityType[] types){foreach (var type in types){_targetFilter.Remove(type);}}public void AcknowledgeLockLost(){LockLost = false;}public void LockOn(){ClearLockInternal();LockLost = false;IsScanning = true;}public void ClearLock(){ClearLockInternal();LockLost = false;}void ClearLockInternal(){_targetInfo = default(MyDetectedEntityInfo);IsScanning = false;Status = TargetingStatus.NotLocked;MissedLastScan = false;TimeSinceLastLock = 0;TargetSize = 0;HitPosition = Vector3D.Zero;TargetId = 0;_timeSinceLastScan = 141;_targetPosCached = Vector3D.Zero;_currentAimMode = AimMode.Center;TargetRelation = MyRelationsBetweenPlayerAndBlock.NoOwnership;}Vector3D CalculateFudgeVector(Vector3D targetDirection, double fudgeFactor = 5){_fudgeVectorSwitch = !_fudgeVectorSwitch;if (!_fudgeVectorSwitch)return Vector3D.Zero;var perpVector1 = Vector3D.CalculatePerpendicularVector(targetDirection);var perpVector2 = Vector3D.Cross(perpVector1, targetDirection);if (!Vector3D.IsUnit(ref perpVector2))perpVector2.Normalize();var randomVector = (2.0 * _rngeesus.NextDouble() - 1.0) * perpVector1 + (2.0 * _rngeesus.NextDouble() - 1.0) * perpVector2;return randomVector * fudgeFactor * TimeSinceLastLock;}public bool IsClosed(IMyTerminalBlock block){return block.WorldMatrix == MatrixD.Identity;}public void Update(double timeStep, List&lt;IMyCameraBlock&gt; cameraList, List&lt;IMyShipController&gt; shipControllers){_timeSinceLastScan += timeStep;if (!IsScanning)return;TimeSinceLastLock += timeStep;_targetInfo = default(MyDetectedEntityInfo);_availableCameras.Clear();
//Check for lock lost
if (TimeSinceLastLock &gt; (MaxTimeForLockBreak + AutoScanInterval) &amp;&amp; Status == TargetingStatus.Locked){LockLost = true;ClearLockInternal();return;}
// Determine where to scan next
var scanPosition = Vector3D.Zero;if (_currentAimMode == AimMode.Offset){scanPosition = HitPosition + TargetVelocity * TimeSinceLastLock;}else if (_currentAimMode == AimMode.OffsetRelative){scanPosition = OffsetTargetPosition + TargetVelocity * TimeSinceLastLock;}else {scanPosition = TargetCenter + TargetVelocity * TimeSinceLastLock;}if (MissedLastScan &amp;&amp; cameraList.Count &gt; 0){scanPosition += CalculateFudgeVector(scanPosition - cameraList[0].GetPosition());}
// Trim out cameras that cant see our next scan position
Vector3D testDirection = Vector3D.Zero;if (Status == TargetingStatus.Locked || _manualLockOverride){GetAvailableCameras(cameraList, _availableCameras, scanPosition, true);}else {
/*
* The following prioritizes references in the following hierarchy:
* 1. Currently used camera
* 2. Currently used control seat
*/
IMyTerminalBlock reference = GetControlledCamera(cameraList);if (reference == null)reference = GetControlledShipController(shipControllers);if (reference != null){testDirection = reference.WorldMatrix.Forward;GetAvailableCameras(cameraList, _availableCameras, testDirection);}else {_availableCameras.AddRange(cameraList);}}
// Check for transition between faces
if (_availableCameras.Count == 0) //transition between faces
{
_timeSinceLastScan = 100000; // Set to scan immediately on the next cycle
MissedLastScan = true;return;}
//Get camera with maximum available range
var thisCamera = GetCameraWithMaxRange(_availableCameras);var cameraMatrix = thisCamera.WorldMatrix;
// Determine scan range
double scanRange;Vector3D adjustedTargetPos = new Vector3D(0, 0, 0);if (Status == TargetingStatus.Locked || _manualLockOverride){
// We adjust the scan position to scan a bit past the target so we are more likely to hit if it is moving away
adjustedTargetPos = scanPosition + Vector3D.Normalize(scanPosition - cameraMatrix.Translation) * 2 * TargetSize;scanRange = (adjustedTargetPos - cameraMatrix.Translation).Length();}else {scanRange = MaxRange;}
// This operates under the assumption that raycast charges at 2km/s
AutoScanInterval = scanRange / 2000 / _availableCameras.Count * 1.1; // Give a fudge factor for safety
var availableScanRange = thisCamera.AvailableScanRange;
//Attempt to scan adjusted target position
if (availableScanRange &gt; scanRange &amp;&amp; _timeSinceLastScan &gt;= AutoScanInterval){if (Status == TargetingStatus.Locked || _manualLockOverride)_targetInfo = ScanTargetPosition(thisCamera, adjustedTargetPos, scanRange);else if (!Vector3D.IsZero(testDirection))_targetInfo = ScanTargetDirection(thisCamera, testDirection, MaxRange);else _targetInfo = thisCamera.Raycast(MaxRange);_timeSinceLastScan = 0;}
else // Not enough charge stored up yet
{return;}
// Validate target and assign values
if (!_targetInfo.IsEmpty() &amp;&amp; !_targetFilter.Contains(_targetInfo.Type) &amp;&amp; 
!_gridIDsToIgnore.Contains(_targetInfo.EntityId)) //target lock
{if (Vector3D.DistanceSquared(_targetInfo.Position, thisCamera.GetPosition()) &lt; MinRange * MinRange &amp;&amp; Status != TargetingStatus.Locked){Status = TargetingStatus.TooClose;return;}
else if (Status == TargetingStatus.Locked) // Target already locked
{if (_targetInfo.EntityId == TargetId){TargetCenter = _targetInfo.Position;HitPosition = _targetInfo.HitPosition.Value;_targetOrientation = _targetInfo.Orientation;OffsetTargetPosition = TargetCenter + Vector3D.TransformNormal(PreciseModeOffset, _targetOrientation);TargetVelocity = _targetInfo.Velocity;TargetSize = _targetInfo.BoundingBox.Size.Length();TargetType = _targetInfo.Type.ToString();TimeSinceLastLock = 0;if (_manualLockOverride){TargetId = _targetInfo.EntityId;_manualLockOverride = false;}MissedLastScan = false;TargetRelation = _targetInfo.Relationship;}else {MissedLastScan = true;}}
else // Target not yet locked: initial lockon
{if (_manualLockOverride &amp;&amp; TargetId != _targetInfo.EntityId &amp;&amp; TargetId != 0)return;if (_manualLockOverride &amp;&amp; TargetId == 0){double maxDispPerTickSq = 100 + _targetInfo.Velocity.LengthSquared() * timeStep * timeStep;if (Vector3D.DistanceSquared(_targetPositionOverride, _targetInfo.HitPosition.Value) &gt; maxDispPerTickSq){
return; // Abort lock since it is not locked onto what we want
}}Status = TargetingStatus.Locked;TargetId = _targetInfo.EntityId;TargetCenter = _targetInfo.Position;HitPosition = _targetInfo.HitPosition.Value;TargetVelocity = _targetInfo.Velocity;TargetSize = _targetInfo.BoundingBox.Size.Length();TargetType = _targetInfo.Type.ToString();TimeSinceLastLock = 0;var aimingCamera = GetControlledCamera(_availableCameras);Vector3D hitPosOffset = Vector3D.Zero;if (aimingCamera != null){hitPosOffset = aimingCamera.GetPosition() - thisCamera.GetPosition();}var hitPos = _targetInfo.HitPosition.Value + hitPosOffset;_targetOrientation = _targetInfo.Orientation;if (_manualLockOverride){_manualLockOverride = false;}else {PreciseModeOffset = Vector3D.TransformNormal(hitPos - TargetCenter, MatrixD.Transpose(_targetOrientation));OffsetTargetPosition = hitPos;}MissedLastScan = false;TargetRelation = _targetInfo.Relationship;}_targetPosCached = _targetInfo.Position;}else {
//TODO: Investigate if we should only count a miss when we are LOCKED
MissedLastScan = true;}if (MissedLastScan){
// If scan missed, switch aim mode
if (_currentAimMode == AimMode.Center){_currentAimMode = AimMode.Offset;}else if (_currentAimMode == AimMode.Offset){_currentAimMode = AimMode.OffsetRelative;}else {_currentAimMode = AimMode.Center;}
_timeSinceLastScan = 1000000; // Make sure we scan as fast as we can to try and re-establish lock.
}}void GetAvailableCameras(List&lt;IMyCameraBlock&gt; allCameras, List&lt;IMyCameraBlock&gt; availableCameras, Vector3D testVector, bool vectorIsPosition = false){availableCameras.Clear();foreach (var block in allCameras){if (IsClosed(block))continue;if (TestCameraAngles(block, vectorIsPosition ? testVector - block.GetPosition() : testVector))availableCameras.Add(block);}}MyDetectedEntityInfo ScanTargetPosition(IMyCameraBlock camera, Vector3D targetPosition, double scanDistance){Vector3D targetDirection = targetPosition - camera.GetPosition();return ScanTargetDirection(camera, targetDirection, scanDistance);}MyDetectedEntityInfo ScanTargetDirection(IMyCameraBlock camera, Vector3D targetDirection, double scanDistance){double yaw, pitch;GetRotationAngles(targetDirection, camera.WorldMatrix, out yaw, out pitch);return camera.Raycast(scanDistance, (float)MathHelperD.ToDegrees(pitch), (float)MathHelperD.ToDegrees(yaw));}
/*
/// Whip's Get Rotation Angles Method v14 - 9/25/18 ///

MODIFIED FOR WHAM FIRE SCRIPT 2/17/19
Dependencies: AngleBetween
*/
void GetRotationAngles(Vector3D targetVector, MatrixD worldMatrix, out double yaw, out double pitch){var localTargetVector = Vector3D.TransformNormal(targetVector, MatrixD.Transpose(worldMatrix));var flattenedTargetVector = new Vector3D(localTargetVector.X, 0, localTargetVector.Z);
yaw = AngleBetween(Vector3D.Forward, flattenedTargetVector) * Math.Sign(localTargetVector.X); //right is positive
if (Math.Abs(yaw) &lt; 1E-6 &amp;&amp; localTargetVector.Z &gt; 0) //check for straight back case
yaw = Math.PI;
if (Vector3D.IsZero(flattenedTargetVector)) //check for straight up case
pitch = MathHelper.PiOver2 * Math.Sign(localTargetVector.Y);else 
pitch = AngleBetween(localTargetVector, flattenedTargetVector) * Math.Sign(localTargetVector.Y); //up is positive
}
public static double AngleBetween(Vector3D a, Vector3D b) //returns radians
{if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return 0;else return Math.Acos(MathHelper.Clamp(a.Dot(b) / Math.Sqrt(a.LengthSquared() * b.LengthSquared()), -1, 1));}bool TestCameraAngles(IMyCameraBlock camera, Vector3D direction){Vector3D localDirection = Vector3D.Rotate(direction, MatrixD.Transpose(camera.WorldMatrix));
if (localDirection.Z &gt; 0) //pointing backwards
return false;var yawTan = Math.Abs(localDirection.X / localDirection.Z);var pitchTan = Math.Abs(localDirection.Y / localDirection.Z);return yawTan &lt;= 1 &amp;&amp; pitchTan &lt;= 1;}IMyCameraBlock GetCameraWithMaxRange(List&lt;IMyCameraBlock&gt; cameraList){double maxRange = double.MinValue;IMyCameraBlock maxRangeCamera = default(IMyCameraBlock);foreach (IMyCameraBlock thisCamera in cameraList){if (thisCamera.AvailableScanRange &gt; maxRange){maxRangeCamera = thisCamera;maxRange = maxRangeCamera.AvailableScanRange;}}return maxRangeCamera;}IMyCameraBlock GetControlledCamera(List&lt;IMyCameraBlock&gt; cameras){foreach (var block in cameras){if (IsClosed(block))continue;if (block.IsActive)return block;}return null;}IMyShipController GetControlledShipController(List&lt;IMyShipController&gt; shipControllers){if (shipControllers.Count == 0)return null;IMyShipController mainControlled = null;IMyShipController controlled = null;foreach (IMyShipController thisController in shipControllers){if (thisController.IsUnderControl &amp;&amp; thisController.CanControlShip){if (controlled == null){controlled = thisController;}if (thisController.IsMainCockpit){
mainControlled = thisController; // Only one per grid so no null check needed
}}}if (mainControlled != null)return mainControlled;if (controlled != null)return controlled;return shipControllers[0];}}
#endregion

#region MissileGuidanceBase
abstract class MissileGuidanceBase {public double MissileAcceleration;protected double _deltaTime;protected double _updatesPerSecond;Vector3D _lastVelocity;bool _lastVelocitySet = false;public MissileGuidanceBase(double updatesPerSecond, double missileAcceleration){MissileAcceleration = missileAcceleration;_updatesPerSecond = updatesPerSecond;_deltaTime = 1.0 / _updatesPerSecond;}public void ClearAcceleration(){_lastVelocitySet = false;}public Vector3D Update(Vector3D missilePosition, Vector3D missileVelocity, Vector3D targetPosition, Vector3D targetVelocity, Vector3D? gravity = null){Vector3D targetAcceleration = Vector3D.Zero;if (!_lastVelocitySet)_lastVelocitySet = true;else targetAcceleration = (targetVelocity - _lastVelocity) * _updatesPerSecond;_lastVelocity = targetVelocity;return GetPointingVector(missilePosition, missileVelocity, targetPosition, targetVelocity, targetAcceleration, gravity == null ? Vector3D.Zero : gravity.Value);}protected abstract Vector3D GetPointingVector(Vector3D missilePosition, Vector3D missileVelocity, Vector3D targetPosition, Vector3D targetVelocity, Vector3D targetAcceleration, Vector3D gravity);}abstract class RelNavGuidance : MissileGuidanceBase {public double NavConstant;public double NavAccelConstant;public RelNavGuidance(double updatesPerSecond, double missileAcceleration, double navConstant, double navAccelConstant = 0) : base(updatesPerSecond, missileAcceleration){NavConstant = navConstant;NavAccelConstant = navAccelConstant;}abstract protected Vector3D GetLatax(Vector3D missileToTarget, Vector3D missileToTargetNorm, Vector3D relativeVelocity, Vector3D lateralTargetAcceleration, Vector3D gravityCompensationTerm);override protected Vector3D GetPointingVector(Vector3D missilePosition, Vector3D missileVelocity, Vector3D targetPosition, Vector3D targetVelocity, Vector3D targetAcceleration, Vector3D gravity){Vector3D missileToTarget = targetPosition - missilePosition;Vector3D missileToTargetNorm = Vector3D.Normalize(missileToTarget);Vector3D relativeVelocity = targetVelocity - missileVelocity;Vector3D lateralTargetAcceleration = (targetAcceleration - Vector3D.Dot(targetAcceleration, missileToTargetNorm) * missileToTargetNorm);Vector3D gravityCompensationTerm = 1.1 * -(gravity - Vector3D.Dot(gravity, missileToTargetNorm) * missileToTargetNorm);Vector3D lateralAcceleration = GetLatax(missileToTarget, missileToTargetNorm, relativeVelocity, lateralTargetAcceleration, gravityCompensationTerm);if (Vector3D.IsZero(lateralAcceleration))return missileToTarget;double diff = MissileAcceleration * MissileAcceleration - lateralAcceleration.LengthSquared();if (diff &lt; 0)
return lateralAcceleration; //fly parallel to the target
return lateralAcceleration + Math.Sqrt(diff) * missileToTargetNorm;}}
/// &lt;summary&gt;
/// Whip's Proportional Navigation Intercept
/// Derived from: https://en.wikipedia.org/wiki/Proportional_navigation
/// And: http://www.moddb.com/members/blahdy/blogs/gamedev-introduction-to-proportional-navigation-part-i
/// And: http://www.dtic.mil/dtic/tr/fulltext/u2/a556639.pdf
/// And: http://nptel.ac.in/courses/101108054/module8/lecture22.pdf
/// &lt;/summary&gt;
class ProNavGuidance : RelNavGuidance {public ProNavGuidance(double updatesPerSecond, double missileAcceleration, double navConstant, double navAccelConstant = 0) : base(updatesPerSecond, missileAcceleration, navConstant, navAccelConstant) { }override protected Vector3D GetLatax(Vector3D missileToTarget, Vector3D missileToTargetNorm, Vector3D relativeVelocity, Vector3D lateralTargetAcceleration, Vector3D gravityCompensationTerm){
Vector3D omega = Vector3D.Cross(missileToTarget, relativeVelocity) / Math.Max(missileToTarget.LengthSquared(), 1); //to combat instability at close range
return NavConstant * relativeVelocity.Length() * Vector3D.Cross(omega, missileToTargetNorm)+ NavAccelConstant * lateralTargetAcceleration 
+ gravityCompensationTerm; //normal to LOS
}}class WhipNavGuidance : RelNavGuidance {public WhipNavGuidance(double updatesPerSecond, double missileAcceleration, double navConstant, double navAccelConstant = 0) : base(updatesPerSecond, missileAcceleration, navConstant, navAccelConstant) { }override protected Vector3D GetLatax(Vector3D missileToTarget, Vector3D missileToTargetNorm, Vector3D relativeVelocity, Vector3D lateralTargetAcceleration, Vector3D gravityCompensationTerm){
Vector3D parallelVelocity = relativeVelocity.Dot(missileToTargetNorm) * missileToTargetNorm; //bootleg vector projection
Vector3D normalVelocity = (relativeVelocity - parallelVelocity);return NavConstant * 0.1 * normalVelocity + NavAccelConstant * lateralTargetAcceleration 
+ gravityCompensationTerm; //normal to LOS
}}class HybridNavGuidance : RelNavGuidance {public HybridNavGuidance(double updatesPerSecond, double missileAcceleration, double navConstant, double navAccelConstant = 0) : base(updatesPerSecond, missileAcceleration, navConstant, navAccelConstant) { }override protected Vector3D GetLatax(Vector3D missileToTarget, Vector3D missileToTargetNorm, Vector3D relativeVelocity, Vector3D lateralTargetAcceleration, Vector3D gravityCompensationTerm){
Vector3D omega = Vector3D.Cross(missileToTarget, relativeVelocity) / Math.Max(missileToTarget.LengthSquared(), 1); //to combat instability at close range
Vector3D parallelVelocity = relativeVelocity.Dot(missileToTargetNorm) * missileToTargetNorm; //bootleg vector projection
Vector3D normalVelocity = (relativeVelocity - parallelVelocity);return NavConstant * (relativeVelocity.Length() * Vector3D.Cross(omega, missileToTargetNorm) + 0.1 * normalVelocity)+ NavAccelConstant * lateralTargetAcceleration 
+ gravityCompensationTerm; //normal to LOS
}}
/// &lt;summary&gt;
/// Zero Effort Miss Intercept
/// Derived from: https://doi.org/10.2514/1.26948
/// &lt;/summary&gt;
class ZeroEffortMissGuidance : RelNavGuidance {public ZeroEffortMissGuidance(double updatesPerSecond, double missileAcceleration, double navConstant) : base(updatesPerSecond, missileAcceleration, navConstant, 0) { }override protected Vector3D GetLatax(Vector3D missileToTarget, Vector3D missileToTargetNorm, Vector3D relativeVelocity, Vector3D lateralTargetAcceleration, Vector3D gravityCompensationTerm){double distToTarget = Vector3D.Dot(missileToTarget, missileToTargetNorm);
// Equation (8) with sign modification to keep time positive and not NaN
double tau = distToTarget / Math.Max(1, relativeVelocity.Length());
// Equation (6)
Vector3D z = missileToTarget + relativeVelocity * tau;
// Equation (7)
return NavConstant * z / (tau * tau)+ NavAccelConstant * lateralTargetAcceleration + gravityCompensationTerm;}}
#endregion

#region CircularBuffer
public class DynamicCircularBuffer&lt;T&gt;{public int Count {get {return _list.Count;}}List&lt;T&gt; _list = new List&lt;T&gt;();int _getIndex = 0;public void Add(T item){_list.Add(item);}public void Clear(){_list.Clear();_getIndex = 0;}public T MoveNext(){if (_list.Count == 0)return default(T);T val = _list[_getIndex];_getIndex = ++_getIndex % _list.Count;return val;}public T Peek(){if (_list.Count == 0)return default(T);return _list[_getIndex];}}
#endregion

#endregion
</Program>
                      <Storage>@0</Storage>
                      <DefaultRunArgument>setup</DefaultRunArgument>
                      <TextPanels>
                        <MySerializedTextPanelData>
                          <ChangeInterval>0</ChangeInterval>
                          <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                          <FontSize>1</FontSize>
                          <ShowText>NONE</ShowText>
                          <FontColor>
                            <PackedValue>4294967295</PackedValue>
                            <X>255</X>
                            <Y>255</Y>
                            <Z>255</Z>
                            <R>255</R>
                            <G>255</G>
                            <B>255</B>
                            <A>255</A>
                          </FontColor>
                          <BackgroundColor>
                            <PackedValue>4278190080</PackedValue>
                            <X>0</X>
                            <Y>0</Y>
                            <Z>0</Z>
                            <R>0</R>
                            <G>0</G>
                            <B>0</B>
                            <A>255</A>
                          </BackgroundColor>
                          <CurrentShownTexture>0</CurrentShownTexture>
                          <SelectedScript />
                          <TextPadding>2</TextPadding>
                          <ScriptBackgroundColor>
                            <PackedValue>4288108544</PackedValue>
                            <X>0</X>
                            <Y>88</Y>
                            <Z>151</Z>
                            <R>0</R>
                            <G>88</G>
                            <B>151</B>
                            <A>255</A>
                          </ScriptBackgroundColor>
                          <ScriptForegroundColor>
                            <PackedValue>4294962611</PackedValue>
                            <X>179</X>
                            <Y>237</Y>
                            <Z>255</Z>
                            <R>179</R>
                            <G>237</G>
                            <B>255</B>
                            <A>255</A>
                          </ScriptForegroundColor>
                          <Sprites>
                            <Length>0</Length>
                          </Sprites>
                        </MySerializedTextPanelData>
                        <MySerializedTextPanelData>
                          <ChangeInterval>0</ChangeInterval>
                          <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                          <FontSize>1</FontSize>
                          <ShowText>NONE</ShowText>
                          <FontColor>
                            <PackedValue>4294967295</PackedValue>
                            <X>255</X>
                            <Y>255</Y>
                            <Z>255</Z>
                            <R>255</R>
                            <G>255</G>
                            <B>255</B>
                            <A>255</A>
                          </FontColor>
                          <BackgroundColor>
                            <PackedValue>4278190080</PackedValue>
                            <X>0</X>
                            <Y>0</Y>
                            <Z>0</Z>
                            <R>0</R>
                            <G>0</G>
                            <B>0</B>
                            <A>255</A>
                          </BackgroundColor>
                          <CurrentShownTexture>0</CurrentShownTexture>
                          <SelectedScript />
                          <TextPadding>2</TextPadding>
                          <ScriptBackgroundColor>
                            <PackedValue>4288108544</PackedValue>
                            <X>0</X>
                            <Y>88</Y>
                            <Z>151</Z>
                            <R>0</R>
                            <G>88</G>
                            <B>151</B>
                            <A>255</A>
                          </ScriptBackgroundColor>
                          <ScriptForegroundColor>
                            <PackedValue>4294962611</PackedValue>
                            <X>179</X>
                            <Y>237</Y>
                            <Z>255</Z>
                            <R>179</R>
                            <G>237</G>
                            <B>255</B>
                            <A>255</A>
                          </ScriptForegroundColor>
                          <Sprites>
                            <Length>0</Length>
                          </Sprites>
                        </MySerializedTextPanelData>
                      </TextPanels>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
                      <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
                      <EntityId>77046236633555566</EntityId>
                      <Min x="-1" y="-5" z="1" />
                      <BlockOrientation Forward="Down" Up="Forward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyTimerComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_TimerComponent">
                              <Repeat>true</Repeat>
                              <TimeToEvent>0</TimeToEvent>
                              <SetTimeMinutes>0</SetTimeMinutes>
                              <TimerEnabled>false</TimerEnabled>
                              <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                              <TimerType>Frame100</TimerType>
                              <FramesFromLastTrigger>0</FramesFromLastTrigger>
                              <TimerTickInFrames>100</TimerTickInFrames>
                              <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 8</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>false</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>138135888810805704</EntityId>
                      <Min x="0" y="-1" z="-1" />
                      <BlockOrientation Forward="Up" Up="Forward" />
                      <CustomName>(Missile 4) LRM Small Battery 12</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
                      <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
                      <EntityId>112178659606982292</EntityId>
                      <Min x="-1" y="-2" z="-1" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyTimerComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_TimerComponent">
                              <Repeat>true</Repeat>
                              <TimeToEvent>0</TimeToEvent>
                              <SetTimeMinutes>0</SetTimeMinutes>
                              <TimerEnabled>false</TimerEnabled>
                              <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                              <TimerType>Frame100</TimerType>
                              <FramesFromLastTrigger>0</FramesFromLastTrigger>
                              <TimerTickInFrames>100</TimerTickInFrames>
                              <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 5</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>false</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SensorBlock">
                      <SubtypeName>SmallBlockSensor</SubtypeName>
                      <EntityId>118718433360703846</EntityId>
                      <Min x="0" y="-3" z="2" />
                      <BlockOrientation Forward="Backward" Up="Down" />
                      <CustomName>(Missile 4) LRM Sensor</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>0</NumberInGrid>
                      <Enabled>true</Enabled>
                      <FieldMin x="-5" y="-5" z="-5" />
                      <FieldMax x="5" y="5" z="5" />
                      <Toolbar>
                        <ToolbarType>Character</ToolbarType>
                        <SelectedSlot xsi:nil="true" />
                        <Slots>
                          <Slot>
                            <Index>0</Index>
                            <Item />
                            <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                              <Action>OnOff_On</Action>
                              <GridEntityId>0</GridEntityId>
                              <BlockEntityId>118718433360703846</BlockEntityId>
                              <GroupName>Flame Effect</GroupName>
                            </Data>
                          </Slot>
                        </Slots>
                        <SlotsGamepad />
                      </Toolbar>
                      <PlaySound>false</PlaySound>
                      <DetectPlayers>false</DetectPlayers>
                      <DetectFloatingObjects>false</DetectFloatingObjects>
                      <DetectSmallShips>false</DetectSmallShips>
                      <DetectLargeShips>true</DetectLargeShips>
                      <DetectStations>false</DetectStations>
                      <DetectSubgrids>false</DetectSubgrids>
                      <IsActive>false</IsActive>
                      <DetectAsteroids>false</DetectAsteroids>
                      <DetectOwner>true</DetectOwner>
                      <DetectFriendly>true</DetectFriendly>
                      <DetectNeutral>false</DetectNeutral>
                      <DetectEnemy>false</DetectEnemy>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfArmorBlock</SubtypeName>
                      <Min x="0" y="-5" z="1" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                    </MyObjectBuilder_CubeBlock>
                  </CubeBlocks>
                  <XMirroxPlane x="0" y="0" z="0" />
                  <ZMirroxPlane x="0" y="0" z="0" />
                  <BlockGroups>
                    <MyObjectBuilder_BlockGroup>
                      <Name>Flame Effect</Name>
                      <Blocks>
                        <Vector3I>
                          <X>0</X>
                          <Y>-4</Y>
                          <Z>0</Z>
                        </Vector3I>
                      </Blocks>
                    </MyObjectBuilder_BlockGroup>
                    <MyObjectBuilder_BlockGroup>
                      <Name>Missile 4</Name>
                      <Blocks>
                        <Vector3I>
                          <X>0</X>
                          <Y>0</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>4</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>2</X>
                          <Y>0</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-2</X>
                          <Y>0</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>2</X>
                          <Y>0</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-2</X>
                          <Y>0</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>2</X>
                          <Y>0</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-2</X>
                          <Y>0</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>4</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>0</Y>
                          <Z>2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>0</Y>
                          <Z>2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>0</Y>
                          <Z>-2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>0</Y>
                          <Z>-2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>1</Y>
                          <Z>2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>1</Y>
                          <Z>-2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>4</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>0</Y>
                          <Z>2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>0</Y>
                          <Z>-2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>4</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>4</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>2</X>
                          <Y>1</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-2</X>
                          <Y>1</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>-4</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>-2</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>-1</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>-3</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>-3</Y>
                          <Z>2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>-1</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>-3</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>-3</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>-3</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>-3</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>1</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>1</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>1</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>0</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>0</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>0</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>0</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>0</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>0</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>0</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>0</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>2</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>3</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>2</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>2</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>1</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>1</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>2</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>2</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>-6</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>-4</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>-1</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>-1</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>-2</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>-2</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>-4</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-1</X>
                          <Y>-4</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>1</X>
                          <Y>-4</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>-2</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>0</X>
                          <Y>-2</Y>
                          <Z>-1</Z>
                        </Vector3I>
                      </Blocks>
                    </MyObjectBuilder_BlockGroup>
                  </BlockGroups>
                  <DisplayName>IFM Stinger LRM Atmo_2</DisplayName>
                  <DestructibleBlocks>true</DestructibleBlocks>
                  <CreatePhysics>false</CreatePhysics>
                  <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
                  <IsRespawnGrid>false</IsRespawnGrid>
                  <LocalCoordSys>0</LocalCoordSys>
                  <TargetingTargets />
                </MyObjectBuilder_CubeGrid>
              </ProjectedGrids>
              <ProjectionOffset>
                <X>0</X>
                <Y>-9</Y>
                <Z>3</Z>
              </ProjectionOffset>
              <ProjectionRotation>
                <X>2</X>
                <Y>0</Y>
                <Z>0</Z>
              </ProjectionRotation>
              <KeepProjection>true</KeepProjection>
              <ShowOnlyBuildable>false</ShowOnlyBuildable>
              <InstantBuildingEnabled>false</InstantBuildingEnabled>
              <MaxNumberOfProjections>5</MaxNumberOfProjections>
              <MaxNumberOfBlocks>200</MaxNumberOfBlocks>
              <ProjectionsRemaining>0</ProjectionsRemaining>
              <GetOwnershipFromProjector>false</GetOwnershipFromProjector>
              <Scale>1</Scale>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>117170480131481097</EntityId>
              <Min x="3" y="2" z="-1" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorCenter</SubtypeName>
              <EntityId>113984497523021500</EntityId>
              <Min x="2" y="2" z="-2" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>73761854208590626</EntityId>
              <Min x="-1" y="2" z="-1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorCenter</SubtypeName>
              <EntityId>110850531940313940</EntityId>
              <Min x="0" y="2" z="-2" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorCorner</SubtypeName>
              <EntityId>85457731978176355</EntityId>
              <Min x="3" y="2" z="3" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorCorner</SubtypeName>
              <EntityId>97849688942214733</EntityId>
              <Min x="-1" y="2" z="3" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SensorBlock">
              <SubtypeName>SmallBlockSensor</SubtypeName>
              <EntityId>118122393995470812</EntityId>
              <Min x="1" y="2" z="-3" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>LRM Launch Sensor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <FieldMin x="-5" y="-5" z="-5" />
              <FieldMax x="5" y="5" z="5" />
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>OnOff_On</Action>
                      <BlockEntityId>99482334882928702</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>OnOff_Off</Action>
                      <BlockEntityId>99482334882928702</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <PlaySound>false</PlaySound>
              <DetectPlayers>false</DetectPlayers>
              <DetectFloatingObjects>false</DetectFloatingObjects>
              <DetectSmallShips>true</DetectSmallShips>
              <DetectLargeShips>false</DetectLargeShips>
              <DetectStations>false</DetectStations>
              <DetectSubgrids>false</DetectSubgrids>
              <IsActive>false</IsActive>
              <DetectAsteroids>false</DetectAsteroids>
              <DetectOwner>true</DetectOwner>
              <DetectFriendly>false</DetectFriendly>
              <DetectNeutral>false</DetectNeutral>
              <DetectEnemy>false</DetectEnemy>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>128895532352045336</EntityId>
              <Min x="3" y="2" z="-2" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>144069105837260620</EntityId>
              <Min x="-1" y="2" z="-2" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MergeBlock">
              <SubtypeName>SmallShipMergeBlock</SubtypeName>
              <EntityId>80773725585261715</EntityId>
              <Min x="0" y="3" z="0" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Merge Block</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="4" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="1" y="4" z="0" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="2" y="4" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="1" y="4" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="2" y="5" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="5" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="1" y="5" z="0" />
              <BlockOrientation Forward="Backward" Up="Down" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>95001874403821008</EntityId>
              <Min x="0" y="4" z="0" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 10</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>108487308413887492</EntityId>
              <Min x="2" y="4" z="2" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 7</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>97873130755841461</EntityId>
              <Min x="2" y="4" z="0" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 9</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>122475660763699303</EntityId>
              <Min x="1" y="6" z="0" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Small Battery 9</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>87881863228639331</EntityId>
              <Min x="2" y="6" z="1" />
              <BlockOrientation Forward="Down" Up="Right" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Small Battery 6</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>136558455944105325</EntityId>
              <Min x="0" y="4" z="2" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 8</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="1" y="5" z="2" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>115147684122153282</EntityId>
              <Min x="0" y="6" z="1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Small Battery 7</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>127617080981246122</EntityId>
              <Min x="1" y="6" z="2" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Small Battery 8</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RemoteControl">
              <SubtypeName>SmallBlockRemoteControl</SubtypeName>
              <EntityId>92809206770730032</EntityId>
              <Min x="1" y="6" z="1" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyAutopilotComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_AutopilotComponent">
                      <AutoPilotEnabled>false</AutoPilotEnabled>
                      <FlightMode>0</FlightMode>
                      <CurrentWaypointIndex>-1</CurrentWaypointIndex>
                      <Waypoints />
                      <DockingModeEnabled>false</DockingModeEnabled>
                      <CollisionAvoidance>false</CollisionAvoidance>
                      <Direction>0</Direction>
                      <AutopilotSpeedLimit>100</AutopilotSpeedLimit>
                      <WaitForFreeWay>false</WaitForFreeWay>
                      <WaypointThresholdDistance>0</WaypointThresholdDistance>
                      <Coords />
                      <Names />
                      <LookAtPosition xsi:nil="true" />
                      <FacingDirection>Forward</FacingDirection>
                      <AlignToGravity>true</AlignToGravity>
                      <MinHeightAboveTerrain>25</MinHeightAboveTerrain>
                      <IsWorkAreaReturningToStart>false</IsWorkAreaReturningToStart>
                      <WorkAreaStartForward>
                        <X>0</X>
                        <Y>0</Y>
                        <Z>0</Z>
                      </WorkAreaStartForward>
                      <PitchAngle>0</PitchAngle>
                      <RollAngle>0</RollAngle>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Missile 4) LRM Remote Control</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <IsTargetLockingEnabled>false</IsTargetLockingEnabled>
              <PreviousControlledEntityId xsi:nil="true" />
              <AutoPilotEnabled>false</AutoPilotEnabled>
              <FlightMode>0</FlightMode>
              <BindedCamera>0</BindedCamera>
              <CurrentWaypointIndex>-1</CurrentWaypointIndex>
              <Waypoints />
              <Direction>0</Direction>
              <DockingModeEnabled>false</DockingModeEnabled>
              <CollisionAvoidance>false</CollisionAvoidance>
              <Coords />
              <Names />
              <WaypointThresholdDistance>0</WaypointThresholdDistance>
              <IsMainRemoteControl>false</IsMainRemoteControl>
              <WaitForFreeWay>false</WaitForFreeWay>
              <IsUpdatedSave>true</IsUpdatedSave>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>131775469129955493</EntityId>
              <Min x="1" y="7" z="0" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Small Battery 9</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>138287019002055858</EntityId>
              <Min x="2" y="7" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 6</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>124162416167475118</EntityId>
              <Min x="0" y="7" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 5</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>120344514090088967</EntityId>
              <Min x="0" y="8" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SensorBlock">
              <SubtypeName>SmallBlockSensor</SubtypeName>
              <EntityId>72706839510471176</EntityId>
              <Min x="1" y="6" z="3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Sensor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <FieldMin x="-5" y="-5" z="-5" />
              <FieldMax x="5" y="5" z="5" />
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>OnOff_On</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>72706839510471176</BlockEntityId>
                      <GroupName>Flame Effect</GroupName>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <PlaySound>false</PlaySound>
              <DetectPlayers>false</DetectPlayers>
              <DetectFloatingObjects>false</DetectFloatingObjects>
              <DetectSmallShips>false</DetectSmallShips>
              <DetectLargeShips>true</DetectLargeShips>
              <DetectStations>false</DetectStations>
              <DetectSubgrids>false</DetectSubgrids>
              <IsActive>false</IsActive>
              <DetectAsteroids>false</DetectAsteroids>
              <DetectOwner>true</DetectOwner>
              <DetectFriendly>true</DetectFriendly>
              <DetectNeutral>false</DetectNeutral>
              <DetectEnemy>false</DetectEnemy>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ExhaustBlock">
              <SubtypeName>SmallExhaustPipe</SubtypeName>
              <EntityId>114033343492319484</EntityId>
              <Min x="1" y="5" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value />
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Missile 4) LRM Exhaust Pipe</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <ExhaustEffect>Fire</ExhaustEffect>
              <PowerDependency>0</PowerDependency>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrustSciFi</SubtypeName>
              <EntityId>102459759011702681</EntityId>
              <Min x="2" y="8" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Missile 4) LRM Sci-Fi Atmospheric Thruster 4</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>8</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>112070090735980350</EntityId>
              <Min x="1" y="8" z="0" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Small Battery 12</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Gyro">
              <SubtypeName>SmallBlockGyro</SubtypeName>
              <EntityId>130795188780802465</EntityId>
              <Min x="1" y="7" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Gyroscope</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>95128320765238741</EntityId>
              <Min x="1" y="7" z="2" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Small Battery 8</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>139058403272236068</EntityId>
              <Min x="1" y="9" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 17</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>97009957844433893</EntityId>
              <Min x="0" y="9" z="1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 19</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>98402457815761242</EntityId>
              <Min x="2" y="9" z="1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 18</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RadioAntenna">
              <SubtypeName>SmallBlockRadioAntenna</SubtypeName>
              <EntityId>131525470663362903</EntityId>
              <Min x="1" y="8" z="1" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Antenna</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <BroadcastRadius>1</BroadcastRadius>
              <ShowShipName>false</ShowShipName>
              <EnableBroadcasting>false</EnableBroadcasting>
              <AttachedPB>0</AttachedPB>
              <IgnoreAllied>false</IgnoreAllied>
              <IgnoreOther>true</IgnoreOther>
              <HudText />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>91482747758402622</EntityId>
              <Min x="1" y="9" z="-1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 31</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>96514779775473459</EntityId>
              <Min x="2" y="9" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 14</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>100127938859267397</EntityId>
              <Min x="-1" y="9" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 19</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>93995297385097151</EntityId>
              <Min x="3" y="9" z="1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 18</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>126467402298734439</EntityId>
              <Min x="0" y="9" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 15</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>89246817331742971</EntityId>
              <Min x="1" y="9" z="2" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 16</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorInvCorner2Base</SubtypeName>
              <Min x="2" y="10" z="0" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>104532186479763443</EntityId>
              <Min x="2" y="10" z="1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 6</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>98988829637848057</EntityId>
              <Min x="0" y="9" z="2" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 13</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>8</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>126285739312051785</EntityId>
              <Min x="2" y="9" z="-1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 23</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>75002452515452340</EntityId>
              <Min x="3" y="9" z="0" />
              <BlockOrientation Forward="Right" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 14</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorInvCorner2Base</SubtypeName>
              <Min x="0" y="10" z="0" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>83047451575238378</EntityId>
              <Min x="1" y="10" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 11</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>9</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>110009444455360835</EntityId>
              <Min x="1" y="10" z="1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>10</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>89866573029974313</EntityId>
              <Min x="0" y="10" z="1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 7</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>11</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>85330791077101790</EntityId>
              <Min x="-1" y="9" z="0" />
              <BlockOrientation Forward="Left" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 16</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>75369362000813473</EntityId>
              <Min x="2" y="9" z="2" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 12</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>12</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>141580766725594190</EntityId>
              <Min x="0" y="9" z="-1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 22</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
              <SubtypeName>SmallProgrammableBlock</SubtypeName>
              <EntityId>108930623588084207</EntityId>
              <Min x="1" y="8" z="2" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[Names]
Auto-configure missile name=true
Missile name tag=Missile
Missile number=4
Fire control group name=Fire Control
Detach thruster name tag=Detach

[Delays]
Guidance delay (s)=3
Stage 1: Disconnect delay (s)=1
Stage 2: Detach duration (s)=0
Stage 3: Main ignition delay (s)=0

[Gyros]
Proportional gain=10
Integral gain=0
Derivative gain=10

[Homing Parameters]
Navigation constant=5
Acceleration constant=0

[Beam Riding Parameters]
Hit offset up (m)=0
Hit offset left (m)=0

[Spiral Parameters]
Spin rate (RPM)=0
Spiral angle (deg)=15
Spiral time (sec)=3
Spiral activation range (m)=1000

[Raycast/Sensors]
Use cameras for homing=true
Tripwire range (m)=3.33
Minimum target size (m)=10
Minimum warhead arming range (m)=100
Ignore friendlies=false
Ignore planets=true
Ignore target ID for detonation=false

[Misc.]
Allow remote firing=false
Antenna meme mode=true
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Missile 4) LRM Programmable block</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <Program>
#region Script
const string VERSION = "169.4.6";const string DATE = "2021/01/24";const string COMPAT_VERSION = "94.0.0";
/*
/ //// / (WHAM) Whip's Homing Advanced Missile Script / //// /

_______________________________
INSTRUCTIONS

See workshop page for instructions, there is no room left in this script!

_______________________________
NOTE

This code has been minified so that it will fit in the programmable block.
I have NOT obfuscated any of the code, so that if you copy paste this into an
IDE like Visual Studio or use a website like https://codebeautify.org/csharpviewer,

you can uncompress this and it will be human readable.




=================================================
DO NOT MODIFY VARIABLES IN THE SCRIPT!

USE THE CUSTOM DATA OF THIS PROGRAMMABLE BLOCK!
=================================================


























HEY! DONT EVEN THINK ABOUT TOUCHING BELOW THIS LINE!

*/

#region Global Fields
int _guidanceAlgoIndex = 0;bool _autoConfigure = true;
bool _debugAntennas = false; // If true, the antenna name will be set to the current missile status
MissileGuidanceBase _selectedGuidance;ProNavGuidance _proNavGuid;WhipNavGuidance _whipNavGuid;HybridNavGuidance _hybridNavGuid;ZeroEffortMissGuidance _zeroEffortMissGuid;List&lt;MissileGuidanceBase&gt; _guidanceAlgorithms = new List&lt;MissileGuidanceBase&gt;();
#region Guidance Variables
bool _topDownAttack = false;
bool _enableSpiralTrajectory = false; //determines if missiles will spiral to avoid turret fire
bool _precisionMode = false;bool _retask = false;
#endregion
const string MISSILE_NAME_PATTERN = "({0} {1})";const string MISSILE_GROUP_PATTERN = "{0} {1}";string _missileGroupNameTag = "";string _missileNameTag = "";
#region Custom Data Variables
string _missileTag = "Missile";int _missileNumber = 1;
string _fireControlGroupNameTag = "Fire Control"; //Name of group that contains all fire control blocks
string _detachThrustTag = "Detach"; //(Optional) tag on detach thrust
double _disconnectDelay = 1; // time (in seconds) that the missile will delay disconnection from firing ship
double _guidanceDelay = 2; // time (in seconds) that the missile will delay guidance activation by
double _detachDuration = 0;double _mainIgnitionDelay = 0;bool _useCamerasForHoming = true;double _raycastRange = 3.33;double _raycastMinimumTargetSize = 10;bool _raycastIgnoreFriends = false;bool _raycastIgnorePlanetSurface = true;bool _ignoreIdForDetonation = false;
double _spiralDegrees = 15; // radius of the spiral pattern
double _timeMaxSpiral = 3; // time it takes the missile to complete a full spiral cycle
double _spiralActivationRange = 1000; // In meters
double _gyroProportionalGain = 10; // proportional gain of gyroscopes
double _gyroIntegralGain = 0; // proportional gain of gyroscopes
double _gyroDerivativeGain = 10; // derivative gain of gyroscopes
double _navConstant = 5; //Recommended value is 3-5
//Higher values make the missile compensate faster but can lead to more overshoot/instability
double _accelNavConstant = 0;
double _offsetUp = 0; // (in meters) Positive numbers offset up, negative offset down
double _offsetLeft = 0; // (in meters) Positive numbers offset left, negative offset right
double _missileSpinRPM = 0; //this specifies how fast the missile will spin when flying(only in space)
bool _allowRemoteFire = false;double _minimumArmingRange = 100;
#endregion
bool _remotelyFired = false;bool _antennaMemeMode = true;string _antennaName = "";string[] _antennaMemeMessages = new string[]{"All your base are belong to us","Pucker up buttercup","You are screwed","Are you my mommy?","You feeling lucky?","Herpes","Pootis","From Whip with love!","Run!","General Distress","Unknown Signal","Here comes the pain","Bend over","Private Shipment","Argentavis","Cargo Hauler","Art thou feeling it now Mr. Krabs?","It's commin' right for us!","Nothing personal kid...","*Fortnite dancing in public*","*Dabbing intensifies*","*Heavy breathing*","A surprise to be sure, but a welcome one","Hello there","General Kenobi","You underestimate my power","I am the SENATE!","Did you ever hear the tragedy of Darth Plagueis The Wise?","I thought not. It's not a story the Jedi would tell you.","It's a Sith legend.","Darth Plagueis was a Dark Lord of the Sith...","...so powerful and so wise he could use the Force...","...to influence the midichlorians to create life","*Evil head turn*","Another happy landing!","*Internalized Oppression*","Area is not secure!","Perfectly balanced, as all things should be","It's super effective!","Ah yes, an old friend of mine is here","Anything else you'd like to order?","Hi! Welcome to Chili's!","Platinum","Gold","Dinner is served!","UwU","* Arrow to the knee *","Atmospheric Lander","Just like mother used to make!","Big Chungus","Hecking Bamboozolled","Time to take out the trash","BUT WAIT!! THERE'S MORE!!","Is this the Krusty Krab?","No this is PATRICK!!!","I'm about to end this whole man's career..","Do you get to the Cloud District very often?","It's over Anakin!","I have the high ground!","You underestimate my POWER!","You were the chosen one!","It was said you would destroy the sith not join them...","...Bring balance to the force, not leave it in darkness!",};Random RNGesus = new Random();
//So many lists...
List&lt;IMyTerminalBlock&gt; _missileBlocks = new List&lt;IMyTerminalBlock&gt;();List&lt;IMyFunctionalBlock&gt; _funcBlocks = new List&lt;IMyFunctionalBlock&gt;();List&lt;IMyThrust&gt; _unsortedThrusters = new List&lt;IMyThrust&gt;();List&lt;IMyThrust&gt; _mainThrusters = new List&lt;IMyThrust&gt;();List&lt;IMyThrust&gt; _sideThrusters = new List&lt;IMyThrust&gt;();List&lt;IMyThrust&gt; _detachThrusters = new List&lt;IMyThrust&gt;();List&lt;IMyVirtualMass&gt; _artMasses = new List&lt;IMyVirtualMass&gt;();List&lt;IMyShipMergeBlock&gt; _mergeBlocks = new List&lt;IMyShipMergeBlock&gt;();List&lt;IMyBatteryBlock&gt; _batteries = new List&lt;IMyBatteryBlock&gt;();List&lt;IMyShipController&gt; _shipControllers = new List&lt;IMyShipController&gt;();List&lt;IMyGyro&gt; _gyros = new List&lt;IMyGyro&gt;();List&lt;IMyShipConnector&gt; _connectors = new List&lt;IMyShipConnector&gt;();List&lt;IMyMotorStator&gt; _rotors = new List&lt;IMyMotorStator&gt;();List&lt;IMyReactor&gt; _reactors = new List&lt;IMyReactor&gt;();List&lt;IMyRadioAntenna&gt; _antennas = new List&lt;IMyRadioAntenna&gt;();List&lt;IMyBeacon&gt; _beacons = new List&lt;IMyBeacon&gt;();List&lt;IMySensorBlock&gt; _sensors = new List&lt;IMySensorBlock&gt;();List&lt;IMyWarhead&gt; _warheads = new List&lt;IMyWarhead&gt;();List&lt;IMyTimerBlock&gt; _timers = new List&lt;IMyTimerBlock&gt;();List&lt;IMyCameraBlock&gt; _cameras = new List&lt;IMyCameraBlock&gt;();List&lt;IMyCameraBlock&gt; _homingCameras = new List&lt;IMyCameraBlock&gt;();List&lt;IMyGasTank&gt; _gasTanks = new List&lt;IMyGasTank&gt;();List&lt;MyDetectedEntityInfo&gt; _sensorEntities = new List&lt;MyDetectedEntityInfo&gt;();List&lt;DynamicCircularBuffer&lt;IMyCameraBlock&gt;&gt; _cameraBufferList = new List&lt;DynamicCircularBuffer&lt;IMyCameraBlock&gt;&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasFront = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasBack = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasLeft = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasRight = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasUp = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt; _camerasDown = new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();List&lt;MyTuple&lt;Vector3D, long&gt;&gt; _remoteFireRequests = new List&lt;MyTuple&lt;Vector3D, long&gt;&gt;();HashSet&lt;long&gt; _savedKeycodes = new HashSet&lt;long&gt;();
//Yo dawg... I heard u like vectors...
//Optical / //// /
Vector3D _shooterForwardVec = new Vector3D(0, 0, 0);Vector3D _shooterLeftVec = new Vector3D(0, 0, 0);Vector3D _shooterUpVec = new Vector3D(0, 0, 0);Vector3D _shooterPos = new Vector3D(0, 0, 0);Vector3D _shooterPosCached = new Vector3D(0, 0, 0);
//Raycast / //// /
Vector3D _targetPos = new Vector3D(0, 0, 0);Vector3D _targetVel = new Vector3D(0, 0, 0);double _timeSinceLastLock = 0;IMyShipController _missileReference = null;
//These booleans track the status of the missile
bool _shouldFire = false;bool _shouldKill = false;bool _hasPassed = false;bool _killAllowed = false;bool _shouldDive = false;bool _shouldStealth = true;bool _shouldProximityScan = false;bool _enableGuidance = false;bool _broadcastListenersRegistered = false;enum PostSetupAction { None = 0, Fire = 1, FireRequestResponse = 2 };PostSetupAction _postSetupAction = PostSetupAction.None;bool _canSetup = true;bool _preSetupFailed = false;int _setupTicks = 0;int _missileStage = 0;
//Store all this important stuff for computations between methods
double _distanceFromShooter;
double _timeTotal = 0; //total time program has been running
double _timeSinceLastIngest = 0;const int MAX_INSTRUCTIONS_PER_SETUP_RUN = 5000;const double UPDATES_PER_SECOND = 10.0;const double SECONDS_PER_UPDATE = 1.0 / UPDATES_PER_SECOND;const double DEG_TO_RAD = Math.PI / 180;const double RPM_TO_RAD = Math.PI / 30;const double TOPDOWN_DESCENT_ANGLE = Math.PI / 6;
const double MAX_GUIDANCE_TIME = 180; //in seconds
const double RUNTIME_TO_REALTIME = (1.0 / 60.0) / 0.0166666;const double GYRO_SLOWDOWN_ANGLE = Math.PI / 36;const double GYRO_PLANETARY_ROLL_ACTIVATION_ANGLE = Math.PI / 18;readonly MyIni _guidanceIni = new MyIni();readonly StringBuilder _saveSB = new StringBuilder();readonly RaycastHoming _raycastHoming;enum GuidanceMode : int { BeamRiding = 1, SemiActive = 2, Active = 4 };PID _yawPID;PID _pitchPID;IMyBlockGroup _missileGroup;Scheduler _scheduler;GuidanceMode _guidanceMode = GuidanceMode.SemiActive;RuntimeTracker _runtimeTracker;IMyBroadcastListener _broadcastListenerHoming;IMyBroadcastListener _broadcastListenerBeamRiding;IMyBroadcastListener _broadcastListenerParameters;IMyBroadcastListener _broadcastListenerRemoteFire;IMyUnicastListener _unicastListener;const string IGC_TAG_PARAMS = "IGC_MSL_PAR_MSG";const string IGC_TAG_HOMING = "IGC_MSL_HOM_MSG";const string IGC_TAG_BEAM_RIDING = "IGC_MSL_OPT_MSG";const string IGC_TAG_IFF = "IGC_IFF_MSG";const string IGC_TAG_FIRE = "IGC_MSL_FIRE_MSG";const string IGC_TAG_REMOTE_FIRE_REQUEST = "IGC_MSL_REM_REQ";const string IGC_TAG_REMOTE_FIRE_RESPONSE = "IGC_MSL_REM_RSP";const string IGC_TAG_REGISTER = "IGC_MSL_REG_MSG";const string UNICAST_TAG = "UNICAST";
#region Missile Ini Constants
const string INI_PARAMETER_SECTION_NAME = "params";const string INI_KEYCODE_SECTION_NAME = "key";const string INI_OPTICAL_SECTION_NAME = "op";const string INI_SEMIACTIVE_SECTION_NAME = "sa";const string INI_KEYCODE_CODE_NAME = "kc_c";const string INI_OPTICAL_SHOOTER_POS_NAME = "op_sp";const string INI_OPTICAL_FRONT_VEC_NAME = "op_fv";const string INI_OPTICAL_LEFT_VEC_NAME = "op_lv";const string INI_OPTICAL_UP_VEC_NAME = "op_uv";const string INI_SEMIACTIVE_TARGET_POS_NAME = "sa_tp";const string INI_SEMIACTIVE_HIT_POS_NAME = "sa_hp";const string INI_SEMIACTIVE_TARGET_VEL_NAME = "sa_tv";const string INI_SEMIACTIVE_SHOOTER_POS_NAME = "sa_sp";const string INI_SEMIACTIVE_TIME_SINCE_LOCK_NAME = "sa_t";const string INI_PARAMETER_KILL_NAME = "kill";const string INI_PARAMETER_STEALTH_NAME = "stealth";const string INI_PARAMETER_SPIRAL_NAME = "spiral";const string INI_PARAMETER_TOPDOWN_NAME = "topdown";
#endregion

#region Custom Data Ini Constants
readonly MyIni _myIni = new MyIni();const string INI_MSL_SECTION_NAME = "Names";const string INI_MSL_NAME_AUTO_SETUP = "Auto-configure missile name";const string INI_MSL_NAME_TAG = "Missile name tag";const string INI_MSL_NAME_NUM = "Missile number";const string INI_MSL_NAME_FIRE_CTRL = "Fire control group name";const string INI_MSL_NAME_DETACH = "Detach thruster name tag";const string INI_MSL_SECTION_DELAY = "Delays";const string INI_MSL_DELAY_GUIDANCE = "Guidance delay (s)";const string INI_MSL_DELAY_DISCONNECT = "Stage 1: Disconnect delay (s)";const string INI_MSL_DELAY_DETACH = "Stage 2: Detach duration (s)";const string INI_MSL_DELAY_MAIN_IGITION = "Stage 3: Main ignition delay (s)";const string INI_MSL_SECTION_GYRO = "Gyros";const string INI_MSL_GYRO_KP = "Proportional gain";const string INI_MSL_GYRO_KI = "Integral gain";const string INI_MSL_GYRO_KD = "Derivative gain";const string INI_MSL_SECTION_HOMING = "Homing Parameters";const string INI_MSL_HOMING_RELNAV = "Navigation constant";const string INI_MSL_HOMING_RELNAV_ACCEL = "Acceleration constant";const string INI_MSL_SECTION_BEAMRIDE = "Beam Riding Parameters";const string INI_MSL_BEAMRIDE_OFFSET_UP = "Hit offset up (m)";const string INI_MSL_BEAMRIDE_OFFSET_LEFT = "Hit offset left (m)";const string INI_MSL_SECTION_SPIRAL = "Spiral Parameters";const string INI_MSL_SPIRAL_DEG = "Spiral angle (deg)";const string INI_MSL_SPIRAL_TIME = "Spiral time (sec)";const string INI_MSL_SPIRAL_RANGE = "Spiral activation range (m)";const string INI_MSL_SPIRAL_SPIN_RPM = "Spin rate (RPM)";const string INI_MSL_SECTION_RAYCAST = "Raycast/Sensors";const string INI_MSL_RAYCAST_CAMS_FOR_HOMING = "Use cameras for homing";const string INI_MSL_RAYCAST_RANGE = "Tripwire range (m)";const string INI_MSL_RAYCAST_MIN_TGT_SIZE = "Minimum target size (m)";const string INI_MSL_RAYCAST_MIN_RANGE = "Minimum warhead arming range (m)";const string INI_MSL_RAYCAST_FRIENDS = "Ignore friendlies";const string INI_MSL_RAYCAST_IGNORE_PLANETS = "Ignore planets";const string INI_MSL_RAYCAST_IGNORE_ID_DETONATION = "Ignore target ID for detonation";const string INI_MSL_SECTION_MISC = "Misc.";const string INI_MSL_REMOTE_FIRE = "Allow remote firing";const string INI_MSL_MEME_MODE = "Antenna meme mode";
#endregion
ScheduledAction _stage1Action;ScheduledAction _stage2Action;ScheduledAction _stage3Action;ScheduledAction _stage4Action;ScheduledAction _guidanceActivateAction;
#endregion

#region Main Methods
Program(){_unicastListener = IGC.UnicastListener;_unicastListener.SetMessageCallback(UNICAST_TAG);_broadcastListenerRemoteFire = IGC.RegisterBroadcastListener(IGC_TAG_REMOTE_FIRE_REQUEST);_broadcastListenerRemoteFire.SetMessageCallback(IGC_TAG_REMOTE_FIRE_REQUEST);_guidanceActivateAction = new ScheduledAction(ActivateGuidance, 0, true);_stage1Action = new ScheduledAction(MissileStage1, 0, true);_stage2Action = new ScheduledAction(MissileStage2, 0, true);_stage3Action = new ScheduledAction(MissileStage3, 0, true);_stage4Action = new ScheduledAction(MissileStage4, 0, true);_stage1Action.RunInterval = 0;
// Scheduler assignment
_scheduler = new Scheduler(this, true);
// Setting up scheduled tasks
_scheduler.AddScheduledAction(_guidanceActivateAction);_scheduler.AddScheduledAction(GuideMissile, UPDATES_PER_SECOND);_scheduler.AddScheduledAction(CheckProximity, 60);_scheduler.AddScheduledAction(PrintEcho, 1);_scheduler.AddScheduledAction(NetworkTargets, 6);
// Setting up sequential tasks
_scheduler.AddQueuedAction(_stage1Action);_scheduler.AddQueuedAction(_stage2Action);_scheduler.AddQueuedAction(_stage3Action);_scheduler.AddQueuedAction(_stage4Action);_scheduler.AddQueuedAction(KillPower, MAX_GUIDANCE_TIME);_runtimeTracker = new RuntimeTracker(this, 120, 0.005);_raycastHoming = new RaycastHoming(5000, 3, 0, Me.CubeGrid.EntityId);_raycastHoming.AddEntityTypeToFilter(MyDetectedEntityType.FloatingObject, MyDetectedEntityType.Planet, MyDetectedEntityType.Asteroid);
// Init guidance
_proNavGuid = new ProNavGuidance(UPDATES_PER_SECOND, 1, _navConstant);_whipNavGuid = new WhipNavGuidance(UPDATES_PER_SECOND, 1, _navConstant);_hybridNavGuid = new HybridNavGuidance(UPDATES_PER_SECOND, 1, _navConstant);_zeroEffortMissGuid = new ZeroEffortMissGuidance(UPDATES_PER_SECOND, 1, _navConstant);
// Populate guidance algo list
_guidanceAlgorithms.Add(_proNavGuid);_guidanceAlgorithms.Add(_whipNavGuid);_guidanceAlgorithms.Add(_hybridNavGuid);_guidanceAlgorithms.Add(_zeroEffortMissGuid);
// Enable raycast spooling
GridTerminalSystem.GetBlocksOfType&lt;IMyCameraBlock&gt;(null, camera =&gt;{if (camera.IsSameConstructAs(Me))camera.EnableRaycast = true;return false;});
// Save camera buffer references to our list
_cameraBufferList.Add(_camerasFront);_cameraBufferList.Add(_camerasRight);_cameraBufferList.Add(_camerasLeft);_cameraBufferList.Add(_camerasUp);_cameraBufferList.Add(_camerasDown);_cameraBufferList.Add(_camerasBack);
//load targeting data from last save
ParseStorage();if (_postSetupAction != PostSetupAction.Fire){InitiateSetup();}}void Main(string arg, UpdateType updateSource){if ((updateSource &amp; (UpdateType.Terminal | UpdateType.Trigger | UpdateType.Script)) != 0)ArgumentHandling(arg);if ((updateSource &amp; UpdateType.Once) != 0){RunSetupStateMachine();}if ((updateSource &amp; UpdateType.Update10) != 0){SendRemoteFireResponse();Runtime.UpdateFrequency &amp;= ~UpdateFrequency.Update10;}bool igcMsg = (updateSource &amp; UpdateType.IGC) != 0;if (igcMsg){if (arg.Equals(UNICAST_TAG)){ParseUnicastMessages();}else if (arg.Equals(IGC_TAG_REMOTE_FIRE_REQUEST) &amp;&amp; _allowRemoteFire &amp;&amp; !_shouldFire){ParseRemoteFireRequest();}}if (!_shouldFire)return;if (igcMsg){if (arg.Equals(IGC_TAG_HOMING)){ParseMissileHomingData();if (_retask)_retask = false;}else if (arg.Equals(IGC_TAG_BEAM_RIDING)){ParseMissileBeamRidingData();if (_retask)_retask = false;}else if (arg.Equals(IGC_TAG_PARAMS)){ParseMissileParameterData();}}_scheduler.Update();var lastRuntime = Math.Min(RUNTIME_TO_REALTIME * Math.Max(Runtime.TimeSinceLastRun.TotalSeconds, 0), SECONDS_PER_UPDATE);_timeTotal += lastRuntime;_timeSpiral += lastRuntime;_timeSinceLastIngest += lastRuntime;if (_shouldKill)KillPower();_runtimeTracker.AddRuntime();_runtimeTracker.AddInstructions();}void ActiveHomingScans(){if (_homingCameras.Count == 0 || _shipControllers.Count == 0)return;_raycastHoming.Update(SECONDS_PER_UPDATE, _homingCameras, _shipControllers);if (_raycastHoming.Status == RaycastHoming.TargetingStatus.Locked){
// handoff
_guidanceMode = GuidanceMode.Active;_targetPos = _raycastHoming.TargetPosition;_targetVel = _raycastHoming.TargetVelocity;_timeSinceLastLock = _raycastHoming.TimeSinceLastLock;
// Force time since last ingest to be zero since there is no transmission time for active homing scans
_timeSinceLastIngest = 0;}else if (_raycastHoming.LockLost){_guidanceMode = GuidanceMode.SemiActive;}}void PrintEcho(){Echo(GetTitle());Echo($"Time Active: {_timeTotal:n0} sec");Echo(_runtimeTracker.Write());}
#endregion

#region Ini Configuration
void LoadIniConfig(){_myIni.Clear();bool parsed = _myIni.TryParse(Me.CustomData);if (!parsed){SaveIniConfig();_setupBuilder.Append("Wrote default missile config!\n");return;}_autoConfigure = _myIni.Get(INI_MSL_SECTION_NAME, INI_MSL_NAME_AUTO_SETUP).ToBoolean(_autoConfigure);_missileTag = _myIni.Get(INI_MSL_SECTION_NAME, INI_MSL_NAME_TAG).ToString(_missileTag);_missileNumber = _myIni.Get(INI_MSL_SECTION_NAME, INI_MSL_NAME_NUM).ToInt32(_missileNumber);_fireControlGroupNameTag = _myIni.Get(INI_MSL_SECTION_NAME, INI_MSL_NAME_FIRE_CTRL).ToString(_fireControlGroupNameTag);_detachThrustTag = _myIni.Get(INI_MSL_SECTION_NAME, INI_MSL_NAME_DETACH).ToString(_detachThrustTag);_disconnectDelay = _myIni.Get(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_DISCONNECT).ToDouble(_disconnectDelay);_guidanceDelay = _myIni.Get(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_GUIDANCE).ToDouble(_guidanceDelay);_detachDuration = _myIni.Get(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_DETACH).ToDouble(_detachDuration);_mainIgnitionDelay = _myIni.Get(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_MAIN_IGITION).ToDouble(_mainIgnitionDelay);_gyroProportionalGain = _myIni.Get(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KP).ToDouble(_gyroProportionalGain);_gyroIntegralGain = _myIni.Get(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KI).ToDouble(_gyroIntegralGain);_gyroDerivativeGain = _myIni.Get(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KD).ToDouble(_gyroDerivativeGain);_navConstant = _myIni.Get(INI_MSL_SECTION_HOMING, INI_MSL_HOMING_RELNAV).ToDouble(_navConstant);_accelNavConstant = _myIni.Get(INI_MSL_SECTION_HOMING, INI_MSL_HOMING_RELNAV_ACCEL).ToDouble(_accelNavConstant);_offsetUp = _myIni.Get(INI_MSL_SECTION_BEAMRIDE, INI_MSL_BEAMRIDE_OFFSET_UP).ToDouble(_offsetUp);_offsetLeft = _myIni.Get(INI_MSL_SECTION_BEAMRIDE, INI_MSL_BEAMRIDE_OFFSET_LEFT).ToDouble(_offsetLeft);_missileSpinRPM = _myIni.Get(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_SPIN_RPM).ToDouble(_missileSpinRPM);_spiralDegrees = _myIni.Get(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_DEG).ToDouble(_spiralDegrees);_timeMaxSpiral = _myIni.Get(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_TIME).ToDouble(_timeMaxSpiral);_timeMaxSpiral = Math.Max(_timeMaxSpiral, 0.1);_spiralActivationRange = _myIni.Get(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_RANGE).ToDouble(_spiralActivationRange);_useCamerasForHoming = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_CAMS_FOR_HOMING).ToBoolean(_useCamerasForHoming);_raycastRange = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_RANGE).ToDouble(_raycastRange);_raycastMinimumTargetSize = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_MIN_TGT_SIZE).ToDouble(_raycastMinimumTargetSize);_minimumArmingRange = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_MIN_RANGE).ToDouble(_minimumArmingRange);_raycastIgnoreFriends = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_FRIENDS).ToBoolean(_raycastIgnoreFriends);_raycastIgnorePlanetSurface = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_IGNORE_PLANETS).ToBoolean(_raycastIgnorePlanetSurface);_ignoreIdForDetonation = _myIni.Get(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_IGNORE_ID_DETONATION).ToBoolean(_ignoreIdForDetonation);_allowRemoteFire = _myIni.Get(INI_MSL_SECTION_MISC, INI_MSL_REMOTE_FIRE).ToBoolean(_allowRemoteFire);_antennaMemeMode = _myIni.Get(INI_MSL_SECTION_MISC, INI_MSL_MEME_MODE).ToBoolean(_antennaMemeMode);_setupBuilder.Append("Loaded missile config!\n");}void SaveIniConfig(){_myIni.Clear();_missileGroupNameTag = string.Format(MISSILE_GROUP_PATTERN, _missileTag, _missileNumber);_missileNameTag = string.Format(MISSILE_NAME_PATTERN, _missileTag, _missileNumber);_myIni.Set(INI_MSL_SECTION_NAME, INI_MSL_NAME_AUTO_SETUP, _autoConfigure);_myIni.Set(INI_MSL_SECTION_NAME, INI_MSL_NAME_TAG, _missileTag);_myIni.Set(INI_MSL_SECTION_NAME, INI_MSL_NAME_NUM, _missileNumber);_myIni.Set(INI_MSL_SECTION_NAME, INI_MSL_NAME_FIRE_CTRL, _fireControlGroupNameTag);_myIni.Set(INI_MSL_SECTION_NAME, INI_MSL_NAME_DETACH, _detachThrustTag);_myIni.Set(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_GUIDANCE, _guidanceDelay);_myIni.Set(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_DISCONNECT, _disconnectDelay);_myIni.Set(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_DETACH, _detachDuration);_myIni.Set(INI_MSL_SECTION_DELAY, INI_MSL_DELAY_MAIN_IGITION, _mainIgnitionDelay);_myIni.Set(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KP, _gyroProportionalGain);_myIni.Set(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KI, _gyroIntegralGain);_myIni.Set(INI_MSL_SECTION_GYRO, INI_MSL_GYRO_KD, _gyroDerivativeGain);_myIni.Set(INI_MSL_SECTION_HOMING, INI_MSL_HOMING_RELNAV, _navConstant);_myIni.Set(INI_MSL_SECTION_HOMING, INI_MSL_HOMING_RELNAV_ACCEL, _accelNavConstant);_myIni.Set(INI_MSL_SECTION_BEAMRIDE, INI_MSL_BEAMRIDE_OFFSET_UP, _offsetUp);_myIni.Set(INI_MSL_SECTION_BEAMRIDE, INI_MSL_BEAMRIDE_OFFSET_LEFT, _offsetLeft);_myIni.Set(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_SPIN_RPM, _missileSpinRPM);_myIni.Set(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_DEG, _spiralDegrees);_myIni.Set(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_TIME, _timeMaxSpiral);_myIni.Set(INI_MSL_SECTION_SPIRAL, INI_MSL_SPIRAL_RANGE, _spiralActivationRange);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_CAMS_FOR_HOMING, _useCamerasForHoming);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_RANGE, _raycastRange);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_MIN_TGT_SIZE, _raycastMinimumTargetSize);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_MIN_RANGE, _minimumArmingRange);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_FRIENDS, _raycastIgnoreFriends);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_IGNORE_PLANETS, _raycastIgnorePlanetSurface);_myIni.Set(INI_MSL_SECTION_RAYCAST, INI_MSL_RAYCAST_IGNORE_ID_DETONATION, _ignoreIdForDetonation);_myIni.Set(INI_MSL_SECTION_MISC, INI_MSL_REMOTE_FIRE, _allowRemoteFire);_myIni.Set(INI_MSL_SECTION_MISC, INI_MSL_MEME_MODE, _antennaMemeMode);_guidanceActivateAction.RunInterval = _guidanceDelay;_stage2Action.RunInterval = _disconnectDelay;_stage3Action.RunInterval = _detachDuration;_stage4Action.RunInterval = _mainIgnitionDelay;Me.CustomData = _myIni.ToString();}
#endregion

#region Argument Handling and IGC Processing
void ParseUnicastMessages(){bool fireCommanded = false;
// Process message queue
while (_unicastListener.HasPendingMessage){MyIGCMessage message = _unicastListener.AcceptMessage();object data = message.Data;if (message.Tag == IGC_TAG_FIRE){fireCommanded = true;}else if (message.Tag == IGC_TAG_REGISTER){if (data is long){long keycode = (long)data;_savedKeycodes.Add(keycode);_remotelyFired = true;}}}if (fireCommanded){_postSetupAction = PostSetupAction.Fire;InitiateSetup(_remotelyFired);}}void ParseRemoteFireRequest(){bool remoteFireRequest = false;while (_broadcastListenerRemoteFire.HasPendingMessage){object messageData = _broadcastListenerRemoteFire.AcceptMessage().Data;if (messageData is MyTuple&lt;Vector3D, long&gt;){var payload = (MyTuple&lt;Vector3D, long&gt;)messageData;_remoteFireRequests.Add(payload);remoteFireRequest = true;}}if (remoteFireRequest){_postSetupAction = PostSetupAction.FireRequestResponse;InitiateSetup(true);}}void ProcessRemoteFireRequests(){Runtime.UpdateFrequency |= UpdateFrequency.Update10;
// On 10, send
float antennaRange = 1f;foreach (MyTuple&lt;Vector3D, long&gt; request in _remoteFireRequests){Vector3D requestPos = request.Item1;float dSq = (float)Vector3D.DistanceSquared(requestPos, Me.GetPosition());if (dSq &gt; antennaRange){antennaRange = dSq;}}antennaRange = (float)Math.Sqrt(antennaRange);foreach (var a in _antennas){if (IsClosed(a))continue;a.Radius = (float)antennaRange;a.EnableBroadcasting = true;a.Enabled = true;break;}}void SendRemoteFireResponse(){foreach (MyTuple&lt;Vector3D, long&gt; request in _remoteFireRequests){long programId = request.Item2;var response = new MyTuple&lt;Vector3D, long&gt;();response.Item1 = Me.GetPosition();response.Item2 = Me.EntityId;IGC.SendUnicastMessage(programId, IGC_TAG_REMOTE_FIRE_RESPONSE, response);}_remoteFireRequests.Clear();foreach (var a in _antennas){if (IsClosed(a))continue;a.EnableBroadcasting = false;break;}}void ParseMissileParameterData(){while (_broadcastListenerParameters.HasPendingMessage){object messageData = _broadcastListenerParameters.AcceptMessage().Data;if (!(messageData is MyTuple&lt;byte, long&gt;))continue;var payload = (MyTuple&lt;byte, long&gt;)messageData;long keycode = payload.Item2;if (!_savedKeycodes.Contains(keycode))continue;byte packedBools = payload.Item1;if (_killAllowed &amp;&amp; !_shouldKill)_shouldKill = (packedBools &amp; (1)) != 0;_shouldStealth = (packedBools &amp; (1 &lt;&lt; 1)) != 0;_enableSpiralTrajectory = (packedBools &amp; (1 &lt;&lt; 2)) != 0;_topDownAttack = (packedBools &amp; (1 &lt;&lt; 3)) != 0;_precisionMode = (packedBools &amp; (1 &lt;&lt; 4)) != 0;_retask = (packedBools &amp; (1 &lt;&lt; 5)) != 0;if (_shouldKill)_shouldStealth = true;_raycastHoming.OffsetTargeting = _precisionMode;}}void ParseMissileBeamRidingData(){while (_broadcastListenerBeamRiding.HasPendingMessage){object messageData = _broadcastListenerBeamRiding.AcceptMessage().Data;if (_guidanceMode == GuidanceMode.Active &amp;&amp; !_retask)continue;if (!(messageData is MyTuple&lt;Vector3, Vector3, Vector3, Vector3, long&gt;))continue;var payload = (MyTuple&lt;Vector3, Vector3, Vector3, Vector3, long&gt;)messageData;long keycode = payload.Item5;if (!_savedKeycodes.Contains(keycode))continue;_shooterForwardVec = payload.Item1;_shooterLeftVec = payload.Item2;_shooterUpVec = payload.Item3;_shooterPosCached = payload.Item4;_guidanceMode = GuidanceMode.BeamRiding;}}void ParseMissileHomingData(){
/* Item1.Col0: Hit position */

/* Item1.Col1: Target position */

/* Item1.Col2: Target velocity */

/* Item2.Col0: Precision offset */

/* Item2.Col1: Shooter position */

/* Item2.Col2: &lt;NOT USED&gt; */

/* Item3:      Time since last lock */

/* Item4:      Target ID */

/* Item5:      Key code */
while (_broadcastListenerHoming.HasPendingMessage){object messageData = _broadcastListenerHoming.AcceptMessage().Data;if (!(messageData is MyTuple&lt;Matrix3x3, Matrix3x3, float, long, long&gt;))continue;var payload = (MyTuple&lt;Matrix3x3, Matrix3x3, float, long, long&gt;)messageData;long keycode = payload.Item5;if (!_savedKeycodes.Contains(keycode))continue;_shooterPosCached = payload.Item2.Col1;if (_guidanceMode == GuidanceMode.Active &amp;&amp; !_retask)continue;Vector3D hitPos = payload.Item1.Col0;Vector3D offset = payload.Item2.Col0;_targetPos = payload.Item1.Col1;_targetVel = payload.Item1.Col2;_timeSinceLastLock = payload.Item3;long targetId = payload.Item4;_timeSinceLastIngest = 0;_guidanceMode = GuidanceMode.SemiActive;_raycastHoming.SetInitialLockParameters(hitPos, _targetVel, offset, _timeSinceLastLock, targetId);}}void RegisterBroadcastListeners(){if (_broadcastListenersRegistered)return;_broadcastListenerHoming = IGC.RegisterBroadcastListener(IGC_TAG_HOMING);_broadcastListenerHoming.SetMessageCallback(IGC_TAG_HOMING);_broadcastListenerBeamRiding = IGC.RegisterBroadcastListener(IGC_TAG_BEAM_RIDING);_broadcastListenerBeamRiding.SetMessageCallback(IGC_TAG_BEAM_RIDING);_broadcastListenerParameters = IGC.RegisterBroadcastListener(IGC_TAG_PARAMS);_broadcastListenerParameters.SetMessageCallback(IGC_TAG_PARAMS);_broadcastListenersRegistered = true;}void ArgumentHandling(string arg){if (arg.ToLower().Equals("_fire")){_postSetupAction = PostSetupAction.Fire;InitiateSetup();}else if (arg.ToLower().Equals("setup") &amp;&amp; !_shouldFire){_postSetupAction = PostSetupAction.None;InitiateSetup();}}bool ContainsKey(string message, HashSet&lt;string&gt; savedKeycodes){foreach (string thisKeycode in savedKeycodes){if (message.Contains(thisKeycode))return true;}return false;}
#endregion

#region Setup
List&lt;IMyBlockGroup&gt; _allGroups = new List&lt;IMyBlockGroup&gt;();List&lt;IMyProgrammableBlock&gt; _groupPrograms = new List&lt;IMyProgrammableBlock&gt;();int _autoConfigureMissileNumber;IEnumerator&lt;SetupStatus&gt; _setupStateMachine;StringBuilder _setupBuilder = new StringBuilder();void ClearLists(){_missileBlocks.Clear();_funcBlocks.Clear();_unsortedThrusters.Clear();_mainThrusters.Clear();_sideThrusters.Clear();_detachThrusters.Clear();_artMasses.Clear();_mergeBlocks.Clear();_batteries.Clear();_shipControllers.Clear();_gyros.Clear();_connectors.Clear();_rotors.Clear();_reactors.Clear();_antennas.Clear();_beacons.Clear();_sensors.Clear();_warheads.Clear();_cameras.Clear();_camerasFront.Clear();_camerasBack.Clear();_camerasLeft.Clear();_camerasRight.Clear();_camerasUp.Clear();_camerasDown.Clear();_homingCameras.Clear();_gasTanks.Clear();}string GetTitle(){return $"Whip's Homing Adv. Missile Script\n(Version {VERSION} - {DATE})\n\nFor use with LAMP v{COMPAT_VERSION} or later.\n";}List&lt;IMyRadioAntenna&gt; _broadcasters = new List&lt;IMyRadioAntenna&gt;();List&lt;IMyBlockGroup&gt; _foundGroups = new List&lt;IMyBlockGroup&gt;();List&lt;IMyMechanicalConnectionBlock&gt; _mechConnections = new List&lt;IMyMechanicalConnectionBlock&gt;();enum SetupStatus { None = 0, Running = 1, Done = 2 }IEnumerator&lt;SetupStatus&gt; SetupStateMachine(bool reload = false){string title = GetTitle();_setupBuilder.Append(title).Append("\n");LoadIniConfig();
#region Auto-Configuration
if (_autoConfigure){_allGroups.Clear();_foundGroups.Clear();_autoConfigureMissileNumber = -1;_missileGroup = null;_setupBuilder.Append("\nRunning Autosetup...").Append("\n");GridTerminalSystem.GetBlockGroups(_allGroups);foreach (var group in _allGroups){
// Group collect
string groupName = group.Name;if (groupName.StartsWith(_missileTag)){int spaceIndex = groupName.IndexOf(' ', _missileTag.Length);if (spaceIndex == -1)continue;
// Check if this program exists in the group
_groupPrograms.Clear();group.GetBlocksOfType(_groupPrograms);bool foundSelf = false;foreach (var pb in _groupPrograms){if (pb == Me){foundSelf = true;break;}if (AtInstructionLimit()) { yield return SetupStatus.Running; }}if (!foundSelf)continue;string missileNumberStr = groupName.Substring(spaceIndex + 1);int missileNumber;bool parsed = int.TryParse(missileNumberStr, out missileNumber);if (!parsed)continue;_autoConfigureMissileNumber = missileNumber;if (_missileGroup == null)_missileGroup = group;_foundGroups.Add(group);}if (AtInstructionLimit()) { yield return SetupStatus.Running; }}if (_missileGroup == null){_setupBuilder.Append("&gt; WARN: No groups containing this\n  program found.").Append("\n");
_missileGroup = GridTerminalSystem.GetBlockGroupWithName(_missileGroupNameTag); // Default
}
else if (_foundGroups.Count &gt; 1) // Too many
{_setupBuilder.Append("&gt; WARN: MULTIPLE groups\n  containing this program\n  found:").Append("\n");for (int i = 0; i &lt; _foundGroups.Count; ++i){var thisGroup = _foundGroups[i];_setupBuilder.Append($"    {i + 1}: {thisGroup.Name}").Append("\n");}}else {_setupBuilder.Append($"&gt; Missile group found:\n  '{_missileTag} {_autoConfigureMissileNumber}'").Append("\n");_missileNumber = _autoConfigureMissileNumber;}}
else // Default: Read from custom data
{_missileGroup = GridTerminalSystem.GetBlockGroupWithName(_missileGroupNameTag);}
#endregion
SaveIniConfig();
#region Ignore own grids with raycast
_mechConnections.Clear();_raycastHoming.ClearIgnoredGridIDs();_raycastHoming.AddIgnoredGridID(Me.CubeGrid.EntityId);foreach (var mc in _mechConnections){_raycastHoming.AddIgnoredGridID(mc.CubeGrid.EntityId);if (mc.TopGrid != null)_raycastHoming.AddIgnoredGridID(mc.TopGrid.EntityId);if (AtInstructionLimit()) { yield return SetupStatus.Running; }}
#endregion

#region Guidance and PID config
_proNavGuid.NavConstant = _navConstant;_proNavGuid.NavAccelConstant = _accelNavConstant;_whipNavGuid.NavConstant = _navConstant;_whipNavGuid.NavAccelConstant = _accelNavConstant;_hybridNavGuid.NavConstant = _navConstant;_hybridNavGuid.NavAccelConstant = _accelNavConstant;_zeroEffortMissGuid.NavConstant = _navConstant;_zeroEffortMissGuid.NavAccelConstant = _accelNavConstant;_selectedGuidance = _guidanceAlgorithms[_guidanceAlgoIndex];_yawPID = new PID(_gyroProportionalGain, _gyroIntegralGain, _gyroDerivativeGain, 0.1, SECONDS_PER_UPDATE);_pitchPID = new PID(_gyroProportionalGain, _gyroIntegralGain, _gyroDerivativeGain, 0.1, SECONDS_PER_UPDATE);
#endregion

_preSetupFailed = false; // TODO rename
ClearLists();
#region Grab Key Codes
_setupBuilder.Append($"\nChecking for firing ship...").Append("\n");_broadcasters.Clear();var fcsGroup = GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupNameTag);if (fcsGroup != null){fcsGroup.GetBlocksOfType(_broadcasters);if (_broadcasters.Count == 0){if (!reload){_preSetupFailed = true;_setupBuilder.Append($"&gt;&gt; ERR: No antennas in group\n  named '{_fireControlGroupNameTag}'! This\n  missile MUST be attached to\n  a configured firing ship to fire!").Append("\n");}}else {foreach (IMyRadioAntenna thisAntenna in _broadcasters){
//x.IsSameConstructAs(Me))? Check if missile has connectors before this?
_savedKeycodes.Add(thisAntenna.EntityId);if (AtInstructionLimit()) { yield return SetupStatus.Running; }}_setupBuilder.Append($"&gt; Info: Found antenna(s) on firing ship").Append("\n");}}else if (!reload){_preSetupFailed = true;_setupBuilder.Append($"&gt;&gt; ERR: No group named\n  '{_fireControlGroupNameTag}' found!\n  This missile MUST be attached to\n  a configured firing ship to fire!").Append("\n");}
#endregion

#region Get Missile Blocks
_setupBuilder.Append($"\nSetup for group named \"{_missileGroupNameTag}\"...").Append("\n");if (_missileGroup != null){_missileGroup.GetBlocks(_missileBlocks);}else {_setupBuilder.Append($"&gt;&gt; ERR: No block group named '{_missileGroupNameTag}' found!").Append("\n");_preSetupFailed = true;}for (int i = 0; i &lt; _missileBlocks.Count; ++i){CollectBlocks(_missileBlocks[i]);if (AtInstructionLimit()) { yield return SetupStatus.Running; }}
#endregion

#region Set Meme Mode name
if (_antennaMemeMode){int index = RNGesus.Next(_antennaMemeMessages.Length);_antennaName = _antennaMemeMessages[index];}else {_antennaName = "";}
#endregion
yield return SetupStatus.Done;}public void RunSetupStateMachine(){_setupTicks++;if (_setupStateMachine != null){bool moreInstructions = _setupStateMachine.MoveNext();if (_setupStateMachine.Current == SetupStatus.Running){Runtime.UpdateFrequency = UpdateFrequency.Once;}
else // Done with block fetching
{_canSetup = true;
// Dispose of setup state machine
_setupStateMachine.Dispose();_setupStateMachine = null;_setupBuilder.Append($"&gt; Info: Setup took {_setupTicks} tick(s)").Append("\n");
// Post-block fetch
bool setupPassed = SetupErrorChecking();if (!setupPassed || _preSetupFailed){_setupBuilder.Append($"\n&gt;&gt;&gt; Setup Failed! &lt;&lt;&lt;").Append("\n");Echo(_setupBuilder.ToString());return;}
// Implied else
_setupBuilder.Append("\n&gt;&gt;&gt; Setup Successful! &lt;&lt;&lt;").Append("\n");_missileReference = _shipControllers[0];if ((_postSetupAction &amp; PostSetupAction.Fire) != 0){_shouldFire = true;RegisterBroadcastListeners();Runtime.UpdateFrequency = UpdateFrequency.Update1;}if ((_postSetupAction &amp; PostSetupAction.FireRequestResponse) != 0){ProcessRemoteFireRequests();}Echo(_setupBuilder.ToString());}}
else // Setup failed
{_setupBuilder.Append($"&gt; Info: Setup took {_setupTicks} tick(s)").Append("\n");_setupBuilder.Append($"\n&gt;&gt;&gt; Setup Failed! &lt;&lt;&lt;").Append("\n");_canSetup = true;Echo(_setupBuilder.ToString());}}void InitiateSetup(bool reload = false){if (!_canSetup)return;_canSetup = false;_setupTicks = 0;_setupBuilder.Clear();if (_setupStateMachine != null){_setupStateMachine.Dispose();_setupStateMachine = null;}_setupStateMachine = SetupStateMachine(reload);RunSetupStateMachine();}public bool AtInstructionLimit(){return Runtime.CurrentInstructionCount &gt;= MAX_INSTRUCTIONS_PER_SETUP_RUN;}bool SetupErrorChecking(){bool setupFailed = false;
// ERRORS
if (EchoIfTrue(_antennas.Count == 0, "&gt;&gt; ERR: No antennas found"))setupFailed = true;if (EchoIfTrue(_gyros.Count == 0, "&gt;&gt; ERR: No gyros found"))setupFailed = true;if (EchoIfTrue(_shipControllers.Count == 0, "&gt;&gt; ERR: No remotes found"))setupFailed = true;else GetThrusterOrientation(_shipControllers[0]);if (EchoIfTrue(_mainThrusters.Count == 0, "&gt;&gt; ERR: No main thrusters found"))setupFailed = true;if (EchoIfTrue(_batteries.Count == 0 &amp;&amp; _reactors.Count == 0, "&gt;&gt; ERR: No batteries or reactors found"))setupFailed = true;
// WARNINGS
EchoIfTrue(_mergeBlocks.Count == 0 &amp;&amp; _rotors.Count == 0 &amp;&amp; _connectors.Count == 0, "&gt; WARN: No merge blocks, rotors, or connectors found for detaching");
// INFO
EchoIfTrue(_artMasses.Count == 0, "&gt; Info: No artificial masses found");EchoIfTrue(_sensors.Count == 0, "&gt; Info: No sensors found");EchoIfTrue(_warheads.Count == 0, "&gt; Info: No warheads found");EchoIfTrue(_beacons.Count == 0, "&gt; Info: No beacons found");EchoIfTrue(_cameras.Count == 0, "&gt; Info: No cameras found");EchoIfTrue(_timers.Count == 0, "&gt; Info: No timers found");EchoIfTrue(_sideThrusters.Count == 0, "&gt; Info: No side thrusters found");EchoIfTrue(_detachThrusters.Count == 0, "&gt; Info: No detach thrusters found");EchoIfTrue(_gasTanks.Count == 0, "&gt; Info: No gas tanks found");return !setupFailed;}bool CollectBlocks(IMyTerminalBlock block){if (!block.IsSameConstructAs(Me))return false;
/*
Here we extract the missile prefix from block names to ensure that
we don't write multiple name tags to the same block.
Expected block name pattern is: "(Missile X) BLOCK_NAME"
*/
var name = block.CustomName;var splitName = name.Split('(', ')');if (splitName.Length &gt;= 2){var temp = splitName[1];var cleanName = name.Replace($"({temp})", "").TrimStart();block.CustomName = $"{_missileNameTag} {cleanName}";}else {block.CustomName = $"{_missileNameTag} {name}";}IMyThrust thrust;IMyRadioAntenna antenna;IMyCameraBlock camera;AddToListIfType(block, _funcBlocks);if (AddToListIfType(block, _unsortedThrusters, out thrust)){if (thrust.CustomName.Contains(_detachThrustTag))_detachThrusters.Add(thrust);}else if (AddToListIfType(block, _antennas, out antenna)){antenna.Radius = 1f;antenna.EnableBroadcasting = false;antenna.Enabled = _allowRemoteFire;}else if (AddToListIfType(block, _artMasses)){ }else if (AddToListIfType(block, _batteries)){ }else if (AddToListIfType(block, _gyros)){ }else if (AddToListIfType(block, _mergeBlocks)){ }else if (AddToListIfType(block, _shipControllers)){ }else if (AddToListIfType(block, _connectors)){ }else if (AddToListIfType(block, _rotors)){ }else if (AddToListIfType(block, _reactors)){ }else if (AddToListIfType(block, _beacons)){ }else if (AddToListIfType(block, _sensors)){ }else if (AddToListIfType(block, _warheads)){ }else if (AddToListIfType(block, _timers)){ }else if (AddToListIfType(block, _gasTanks)){ }else if (AddToListIfType(block, _cameras, out camera)){camera.Enabled = true;camera.EnableRaycast = true;if (_useCamerasForHoming)_homingCameras.Add(camera);GetCameraOrientation(camera);}return false;}bool AddToListIfType&lt;T&gt;(IMyTerminalBlock block, List&lt;T&gt; list) where T : class, IMyTerminalBlock {T typedBlock;return AddToListIfType(block, list, out typedBlock);}bool AddToListIfType&lt;T&gt;(IMyTerminalBlock block, List&lt;T&gt; list, out T typedBlock) where T : class, IMyTerminalBlock {typedBlock = block as T;if (typedBlock != null){list.Add(typedBlock);return true;}return false;}bool EchoIfTrue(bool state, string toEcho){if (state){_setupBuilder.Append(toEcho).Append("\n");}return state;}
// Assumes all thrust is on same grid as PB
void GetThrusterOrientation(IMyTerminalBlock refBlock){var forwardDirn = refBlock.Orientation.Forward;foreach (IMyThrust thisThrust in _unsortedThrusters){var thrustDirn = Base6Directions.GetFlippedDirection(thisThrust.Orientation.Forward);if (thrustDirn == forwardDirn){_mainThrusters.Add(thisThrust);}else {_sideThrusters.Add(thisThrust);}}}void GetCameraOrientation(IMyCameraBlock c){switch (c.Orientation.Forward){case Base6Directions.Direction.Forward: _camerasFront.Add(c);return;case Base6Directions.Direction.Backward: _camerasBack.Add(c);return;case Base6Directions.Direction.Left: _camerasLeft.Add(c);return;case Base6Directions.Direction.Right: _camerasRight.Add(c);return;case Base6Directions.Direction.Up: _camerasUp.Add(c);return;case Base6Directions.Direction.Down: _camerasDown.Add(c);return;}}
#endregion

#region Missile Launch Sequence

// Prepares missile for launch by activating power sources.
void MissileStage1(){_missileStage = 1;foreach (IMyBatteryBlock block in _batteries){if (IsClosed(block))continue;block.Enabled = true;block.ChargeMode = ChargeMode.Auto;}foreach (IMyReactor block in _reactors){if (IsClosed(block))continue;block.Enabled = true;}foreach (IMySensorBlock block in _sensors){if (IsClosed(block))continue;block.Enabled = false;}foreach (IMyWarhead block in _warheads){if (IsClosed(block))continue;block.IsArmed = false;}foreach (IMyGyro block in _gyros){if (IsClosed(block))continue;block.Enabled = true;}foreach (IMyGasTank block in _gasTanks){if (IsClosed(block))continue;block.Stockpile = false;}}
// Detaches missile from the firing ship.
void MissileStage2(){_missileStage = 2;foreach (IMyVirtualMass block in _artMasses){if (IsClosed(block))continue;block.Enabled = true;}foreach (IMyShipMergeBlock block in _mergeBlocks){if (IsClosed(block))continue;block.Enabled = false;}foreach (IMyShipConnector block in _connectors){if (IsClosed(block))continue;block.Disconnect();}foreach (IMyMotorStator block in _rotors){if (IsClosed(block))continue;block.Detach();}foreach (IMyRadioAntenna block in _antennas){if (IsClosed(block))continue;block.Radius = 1f;block.Enabled = false;block.EnableBroadcasting = false;
block.Enabled = true; //this used to be a bug workaround, not sure if it is still needed tbh
block.CustomName = "";}foreach (IMyBeacon block in _beacons){if (IsClosed(block))continue;block.Radius = 1f;block.Enabled = true;block.CustomName = "";}foreach (IMyTimerBlock block in _timers){if (IsClosed(block))continue;block.Trigger();}ApplyThrustOverride(_sideThrusters, 0.00001f, false);ApplyThrustOverride(_detachThrusters, 100f);}
// Disables missile thrust for drifting.
void MissileStage3(){_missileStage = 3;ApplyThrustOverride(_detachThrusters, 0.00001f);}
// Ignites main thrust.
void MissileStage4(){_missileStage = 4;foreach (IMyVirtualMass block in _artMasses){if (IsClosed(block))continue;block.Enabled = false;}foreach (IMyCameraBlock thisCamera in _cameras){if (IsClosed(thisCamera))continue;if (!thisCamera.EnableRaycast)thisCamera.EnableRaycast = true;if (!thisCamera.Enabled)thisCamera.Enabled = true;}ApplyThrustOverride(_detachThrusters, 0f);ApplyThrustOverride(_sideThrusters, 0f);ApplyThrustOverride(_mainThrusters, 100f);Me.CubeGrid.CustomName = _missileGroupNameTag;_killAllowed = true;}
#endregion

#region Missile Guidance

// Delays GuideMissile until the guidance delay is finished.
void ActivateGuidance(){_enableGuidance = true;}void GuideMissile(){if ((_guidanceMode &amp; (GuidanceMode.SemiActive | GuidanceMode.Active)) != 0)ActiveHomingScans();if (!_enableGuidance)return;
//Get missile position and velocity
MatrixD worldMatrix = _missileReference.WorldMatrix;double missileSpeed = _missileReference.GetShipSpeed();Vector3D missilePos = _missileReference.CenterOfMass;Vector3D missileVelocityVec = _missileReference.GetShipVelocities().LinearVelocity;
//Get orientation vectors of our missile
Vector3D missileFrontVec = worldMatrix.Forward;Vector3D missileLeftVec = worldMatrix.Left;Vector3D missileUpVec = worldMatrix.Up;
//Get positions of our origin with offsets added in
_shooterPos = _shooterPosCached + _offsetLeft * _shooterLeftVec + _offsetUp * _shooterUpVec;
//Find current distance from shooter to missile
_distanceFromShooter = Vector3D.Distance(_shooterPos, missilePos);ScaleAntennaRange(_distanceFromShooter + 100);
// Computing mass, thrust, and acceleration
double missileThrust = CalculateMissileThrust(_mainThrusters);double missileMass = _missileReference.CalculateShipMass().PhysicalMass;double missileAcceleration = missileThrust / missileMass;
//aligning bottom of missile to gravity
Vector3D gravityVec = _missileReference.GetNaturalGravity();bool inGravity = !Vector3D.IsZero(gravityVec);bool shouldSpiral = _enableSpiralTrajectory;Vector3D headingVec;bool pastMinArmingRange = Vector3D.DistanceSquared(missilePos, _shooterPos) &gt;= _minimumArmingRange * _minimumArmingRange;
//Determine destination
if (_guidanceMode == GuidanceMode.BeamRiding) //optical
{
#region Optical Guidance

//Find vector from shooter to missile
var shooterToMissileVec = missilePos - _shooterPos;
if (Vector3D.IsZero(_shooterForwardVec)) //this is to avoid NaN cases when the shooterForwardVec isnt cached yet
_shooterForwardVec = missileFrontVec; //messy but stops my code from breaking lol
//Calculate perpendicular distance from shooter vector
var projectionVec = VectorMath.Projection(shooterToMissileVec, _shooterForwardVec);
//Determine scaling factor
Vector3D destinationVec = _shooterPos + projectionVec + _shooterForwardVec * Math.Max(2 * missileSpeed, 200);
if (_shooterForwardVec.Dot(shooterToMissileVec) &gt; 0) // Missile is in front of the shooter
{if (!_hasPassed){_hasPassed = true;}}
else if (_hasPassed) // If behind shooter and we have already passed the shooter before
{int signLeft = Math.Sign(shooterToMissileVec.Dot(_shooterLeftVec));int signUp = Math.Sign(shooterToMissileVec.Dot(_shooterUpVec));destinationVec += signLeft * 100 * _shooterLeftVec + signUp * 100 * _shooterUpVec;}
//Find vector from missile to destinationVec
Vector3D missileToTargetVec = destinationVec - missilePos;
//Drift compensation
if (_missileStage == 4){headingVec = CalculateDriftCompensation(missileVelocityVec, missileToTargetVec, missileAcceleration, 0.5, gravityVec, 60);}else {headingVec = missileToTargetVec;}_shouldProximityScan = pastMinArmingRange;
#endregion
}
else // Homing
{
#region Homing Guidance
var adjustedTargetPos = _targetPos + _targetVel * (_timeSinceLastLock + _timeSinceLastIngest);if (_topDownAttack &amp;&amp; inGravity &amp;&amp; !_shouldDive){adjustedTargetPos += Vector3D.Normalize(gravityVec) * -1500;if (VectorMath.AngleBetween(_targetPos - missilePos, gravityVec) &lt; TOPDOWN_DESCENT_ANGLE)_shouldDive = true;}_selectedGuidance.MissileAcceleration = missileAcceleration;headingVec = _selectedGuidance.Update(missilePos, missileVelocityVec, adjustedTargetPos, _targetVel, gravityVec);double distanceToTgtSq = Vector3D.DistanceSquared(missilePos, adjustedTargetPos);double speedSq = (missileVelocityVec - _targetVel).LengthSquared();
_shouldProximityScan = pastMinArmingRange &amp;&amp; (speedSq &gt; distanceToTgtSq); // Roughly 1 second till impact
// Only spiral if we are close enough to the target to conserve fuel
if (shouldSpiral)
shouldSpiral = ((_spiralActivationRange * _spiralActivationRange &gt; distanceToTgtSq) &amp;&amp; (speedSq * 4.0 &lt; distanceToTgtSq)); // TODO: Don't hard code this lol

#endregion
}
#region General Functions

// Calc spiral trajectory
if (shouldSpiral){headingVec = SpiralTrajectory(headingVec, missileFrontVec, missileUpVec);}if (_missileStage == 4){var headingDeviation = VectorMath.CosBetween(headingVec, missileFrontVec);ApplyThrustOverride(_mainThrusters, (float)MathHelper.Clamp(headingDeviation, 0.25f, 1f) * 100f);}
// Get pitch and yaw angles
double yawAngle; double pitchAngle; double rollAngle;GetRotationAnglesSimultaneous(headingVec, -gravityVec, _missileReference.WorldMatrix, out pitchAngle, out yawAngle, out rollAngle);
// Angle controller
double yawSpeed = _yawPID.Control(yawAngle, SECONDS_PER_UPDATE);double pitchSpeed = _pitchPID.Control(pitchAngle, SECONDS_PER_UPDATE);
// Handle roll more simply
double rollSpeed = 0;if (!inGravity &amp;&amp; _missileStage == 4){
rollSpeed = _missileSpinRPM * RPM_TO_RAD; //converts RPM to rad/s
}else {rollSpeed = rollAngle;}if (Math.Abs(yawAngle) &lt; GYRO_SLOWDOWN_ANGLE){yawSpeed = UPDATES_PER_SECOND * .5 * yawAngle;}if (Math.Abs(pitchAngle) &lt; GYRO_SLOWDOWN_ANGLE){pitchSpeed = UPDATES_PER_SECOND * .5 * pitchAngle;}
// Disable roll until we are close to aligned with pitch and yaw to reduce errors due to simultaneous 3-axis control.
if (inGravity &amp;&amp; (Math.Abs(yawAngle) &gt; GYRO_PLANETARY_ROLL_ACTIVATION_ANGLE || Math.Abs(pitchAngle) &gt; GYRO_PLANETARY_ROLL_ACTIVATION_ANGLE)){
//rollSpeed = 0;
}
//Set appropriate gyro override
ApplyGyroOverride(pitchSpeed, yawSpeed, rollSpeed, _gyros, _missileReference.WorldMatrix);
#endregion
}
// Computes optimal drift compensation vector to eliminate drift in a specified time
static Vector3D CalculateDriftCompensation(Vector3D velocity, Vector3D directHeading, double accel, double timeConstant, Vector3D gravityVec, double maxDriftAngle = 60){if (directHeading.LengthSquared() == 0)return velocity;if (Vector3D.Dot(velocity, directHeading) &lt; 0)return directHeading;if (velocity.LengthSquared() &lt; 100)return directHeading;var normalVelocity = VectorMath.Rejection(velocity, directHeading);var normal = VectorMath.SafeNormalize(normalVelocity);var parallel = VectorMath.SafeNormalize(directHeading);var normalAccel = Vector3D.Dot(normal, normalVelocity) / timeConstant;normalAccel = Math.Min(normalAccel, accel * Math.Sin(MathHelper.ToRadians(maxDriftAngle)));var gravityCompensationTerm = 1.1 * -(VectorMath.Rejection(gravityVec, directHeading));var normalAccelerationVector = normalAccel * normal + gravityCompensationTerm;double parallelAccel = 0;var diff = accel * accel - normalAccelerationVector.LengthSquared();if (diff &gt; 0)parallelAccel = Math.Sqrt(diff);return parallelAccel * parallel - normal * normalAccel;}
#endregion

#region Broadcast Missile IFF
enum TargetRelation : byte { Neutral = 0, Enemy = 1, Friendly = 2, Locked = 4 }void NetworkTargets(){var myTuple = new MyTuple&lt;byte, long, Vector3D, double&gt;((byte)2, Me.CubeGrid.EntityId, Me.WorldAABB.Center, Me.CubeGrid.WorldAABB.HalfExtents.LengthSquared());IGC.SendBroadcastMessage(IGC_TAG_IFF, myTuple);if (_guidanceMode == GuidanceMode.Active &amp;&amp; _raycastHoming.Status == RaycastHoming.TargetingStatus.Locked){TargetRelation relation = TargetRelation.Locked;switch (_raycastHoming.TargetRelation){case MyRelationsBetweenPlayerAndBlock.Owner: case MyRelationsBetweenPlayerAndBlock.Friends: case MyRelationsBetweenPlayerAndBlock.FactionShare: relation |= TargetRelation.Friendly;break;case MyRelationsBetweenPlayerAndBlock.Enemies: relation |= TargetRelation.Enemy;break;
// Neutral is assumed if not friendly or enemy
}myTuple = new MyTuple&lt;byte, long, Vector3D, double&gt;((byte)relation, _raycastHoming.TargetId, _raycastHoming.TargetCenter, 0);IGC.SendBroadcastMessage(IGC_TAG_IFF, myTuple);}}
#endregion

#region Block Property Functions
public bool IsClosed(IMyTerminalBlock block){return GridTerminalSystem.GetBlockWithId(block.EntityId) == null;}void ScaleAntennaRange(double dist){foreach (IMyRadioAntenna thisAntenna in _antennas){if (IsClosed(thisAntenna))continue;thisAntenna.Radius = (float)dist;if (_shouldStealth)thisAntenna.EnableBroadcasting = false;else thisAntenna.EnableBroadcasting = true;if (_debugAntennas)thisAntenna.CustomName = $"{_guidanceMode}\n{_guidanceAlgoIndex}\n{_raycastHoming.Status}\n";else thisAntenna.CustomName = _antennaName;}foreach (IMyBeacon thisBeacon in _beacons){if (IsClosed(thisBeacon))continue;thisBeacon.Radius = (float)dist;}}void ApplyThrustOverride(List&lt;IMyThrust&gt; thrusters, float overrideValue, bool turnOn = true){float thrustProportion = overrideValue * 0.01f;foreach (IMyThrust thisThrust in thrusters){if (IsClosed(thisThrust))continue;if (thisThrust.Enabled != turnOn)thisThrust.Enabled = turnOn;if (thrustProportion != thisThrust.ThrustOverridePercentage)thisThrust.ThrustOverridePercentage = thrustProportion;}}void CheckProximity(){if (!_shouldProximityScan)return;Vector3D adjustedTargetPos = _raycastHoming.TargetPosition + _raycastHoming.TargetVelocity * (_timeSinceLastLock + _timeSinceLastIngest);
// If we have no cameras or sensors for detonation, use some approximations
if (_cameras.Count == 0 &amp;&amp; _sensors.Count == 0){
if (_guidanceMode == GuidanceMode.BeamRiding) // Arm warheads if in beam ride mode
{foreach (var thisWarhead in _warheads){if (IsClosed(thisWarhead))continue;if (!thisWarhead.IsArmed)thisWarhead.IsArmed = true;}}
else // Use bounding box estimation for detonation if we have no cameras or sensors
{
// TODO: Need a better estimate for ship depth
double distanceToTargetSq = Vector3D.DistanceSquared(_missileReference.GetPosition(), adjustedTargetPos);double estimatedRadius = Me.CubeGrid.WorldVolume.Radius;double adjustedDetonationRange = estimatedRadius + _raycastRange;if (distanceToTargetSq &lt; adjustedDetonationRange * adjustedDetonationRange){Detonate();}}return;}
// Do one scan in the direction of the relative velocity vector
if (RaycastTripwireInDirection(_missileReference.GetShipVelocities().LinearVelocity - _raycastHoming.TargetVelocity)){Detonate();return;}
// Do one scan in the direction of the target (if applicable)
if ((_guidanceMode &amp; (GuidanceMode.SemiActive | GuidanceMode.Active)) != 0 &amp;&amp; RaycastTripwireInDirection(adjustedTargetPos - _missileReference.GetPosition())){Detonate();return;}
// Do a randomized raycast for each side
if (RaycastTripwireRandomized()){Detonate();return;}foreach (IMySensorBlock sensor in _sensors){if (IsClosed(sensor))continue;if (!sensor.Enabled)sensor.Enabled = true;if (sensor.IsActive){_sensorEntities.Clear();sensor.DetectedEntities(_sensorEntities);foreach (var targetInfo in _sensorEntities){if (IsValidTarget(targetInfo)){Detonate();return;}}}}}bool RaycastTripwireInDirection(Vector3D directionToTarget){foreach (var cameraBuffer in _cameraBufferList){if (cameraBuffer.Count != 0 &amp;&amp; Vector3D.Dot(directionToTarget, cameraBuffer.Peek().WorldMatrix.Forward) &gt; .7071){IMyCameraBlock cam = cameraBuffer.MoveNext();if (!cam.EnableRaycast){cam.EnableRaycast = true;}if (!cam.Enabled){cam.Enabled = true;}Vector3D camLocalDirection = Vector3D.Rotate(directionToTarget, MatrixD.Transpose(cam.WorldMatrix));MyDetectedEntityInfo targetInfo = cam.Raycast(_raycastRange, camLocalDirection);return IsValidTarget(targetInfo);}}return false;}bool RaycastTripwireRandomized(){foreach (var cameraBuffer in _cameraBufferList){if (cameraBuffer.Count != 0){IMyCameraBlock cam = cameraBuffer.MoveNext();if (!cam.EnableRaycast){cam.EnableRaycast = true;}if (!cam.Enabled){cam.Enabled = true;}MyDetectedEntityInfo targetInfo;double azimuth = (RNGesus.NextDouble() - 0.5) * 90.0;double elevation = (RNGesus.NextDouble() - 0.5) * 90.0;targetInfo = cam.Raycast(_raycastRange, (float)azimuth, (float)elevation);if (IsValidTarget(targetInfo)){return true;}}}return false;}bool IsValidTarget(MyDetectedEntityInfo targetInfo){if (targetInfo.IsEmpty())return false;if (targetInfo.EntityId == Me.CubeGrid.EntityId)return false;if (!_ignoreIdForDetonation &amp;&amp; ((_guidanceMode &amp; (GuidanceMode.SemiActive | GuidanceMode.Active)) != 0) &amp;&amp; (targetInfo.EntityId != _raycastHoming.TargetId))return false;if (_raycastIgnorePlanetSurface &amp;&amp; targetInfo.Type == MyDetectedEntityType.Planet)return false;if (_raycastIgnoreFriends &amp;&amp; (targetInfo.Relationship &amp; (MyRelationsBetweenPlayerAndBlock.FactionShare | MyRelationsBetweenPlayerAndBlock.Owner)) != 0)return false;if (targetInfo.BoundingBox.Size.LengthSquared() &lt; _raycastMinimumTargetSize * _raycastMinimumTargetSize)return false;return true;}void Detonate(){foreach (var thisWarhead in _warheads){if (IsClosed(thisWarhead))continue;thisWarhead.Detonate();}}void KillPower(){foreach (var b in _funcBlocks){if (!IsClosed(b))b.Enabled = false;}foreach (var w in _warheads){if (!IsClosed(w))w.Detonate();}Runtime.UpdateFrequency = UpdateFrequency.None;}double CalculateMissileThrust(List&lt;IMyThrust&gt; mainThrusters){double thrust = 0;foreach (var block in mainThrusters){if (IsClosed(block))continue;thrust += block.IsFunctional ? block.MaxEffectiveThrust : 0;
//compensate for grav later
}return thrust;}
#endregion

#region Vector Math Functions
public static class VectorMath {public static Vector3D SafeNormalize(Vector3D a){if (Vector3D.IsZero(a))return Vector3D.Zero;if (Vector3D.IsUnit(ref a))return a;return Vector3D.Normalize(a);}
public static Vector3D Reflection(Vector3D a, Vector3D b, double rejectionFactor = 1) //reflect a over b
{Vector3D project_a = Projection(a, b);Vector3D reject_a = a - project_a;return project_a - reject_a * rejectionFactor;}
public static Vector3D Rejection(Vector3D a, Vector3D b) //reject a on b
{if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return Vector3D.Zero;return a - a.Dot(b) / b.LengthSquared() * b;}public static Vector3D Projection(Vector3D a, Vector3D b){if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return Vector3D.Zero;return a.Dot(b) / b.LengthSquared() * b;}public static double ScalarProjection(Vector3D a, Vector3D b){if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return 0;if (Vector3D.IsUnit(ref b))return a.Dot(b);return a.Dot(b) / b.Length();}
public static double AngleBetween(Vector3D a, Vector3D b) //returns radians
{if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return 0;else return Math.Acos(MathHelper.Clamp(a.Dot(b) / Math.Sqrt(a.LengthSquared() * b.LengthSquared()), -1, 1));}
public static double CosBetween(Vector3D a, Vector3D b, bool useSmallestAngle = false) //returns radians
{if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return 0;else return MathHelper.Clamp(a.Dot(b) / Math.Sqrt(a.LengthSquared() * b.LengthSquared()), -1, 1);}}
/*
Whip's GetRotationAnglesSimultaneous - Last modified: 2020/08/27

Gets axis angle rotation and decomposes it upon each cardinal axis.
Has the desired effect of not causing roll oversteer. Does NOT use
sequential rotation angles.

NOTE:
This is designed for use with Keen's gyroscopes where:
+ pitch = -X rotation
+ yaw   = -Y rotation
+ roll  = -Z rotation

As such, the resulting angles are negated since they are computed
using the opposite sign assumption.

Dependencies:
VectorMath.SafeNormalize
*/
void GetRotationAnglesSimultaneous(Vector3D desiredForwardVector, Vector3D desiredUpVector, MatrixD worldMatrix, out double pitch, out double yaw, out double roll){desiredForwardVector = VectorMath.SafeNormalize(desiredForwardVector);MatrixD transposedWm;MatrixD.Transpose(ref worldMatrix, out transposedWm);Vector3D.Rotate(ref desiredForwardVector, ref transposedWm, out desiredForwardVector);Vector3D.Rotate(ref desiredUpVector, ref transposedWm, out desiredUpVector);Vector3D leftVector = Vector3D.Cross(desiredUpVector, desiredForwardVector);Vector3D axis;double angle;if (Vector3D.IsZero(desiredUpVector) || Vector3D.IsZero(leftVector)){axis = new Vector3D(desiredForwardVector.Y, -desiredForwardVector.X, 0);angle = Math.Acos(MathHelper.Clamp(-desiredForwardVector.Z, -1.0, 1.0));}else {leftVector = VectorMath.SafeNormalize(leftVector);Vector3D upVector = Vector3D.Cross(desiredForwardVector, leftVector);
// Create matrix
MatrixD targetMatrix = MatrixD.Zero;targetMatrix.Forward = desiredForwardVector;targetMatrix.Left = leftVector;targetMatrix.Up = upVector;axis = new Vector3D(targetMatrix.M23 - targetMatrix.M32,targetMatrix.M31 - targetMatrix.M13,targetMatrix.M12 - targetMatrix.M21);double trace = targetMatrix.M11 + targetMatrix.M22 + targetMatrix.M33;angle = Math.Acos(MathHelper.Clamp((trace - 1) * 0.5, -1, 1));}if (Vector3D.IsZero(axis)){angle = desiredForwardVector.Z &lt; 0 ? 0 : Math.PI;yaw = angle;pitch = 0;roll = 0;return;}axis = VectorMath.SafeNormalize(axis);
// Because gyros rotate about -X -Y -Z, we need to negate our angles
yaw = -axis.Y * angle;pitch = -axis.X * angle;roll = -axis.Z * angle;}
//Whip's Spiral Trajectory Method v2
double _timeSpiral = 0;Vector3D SpiralTrajectory(Vector3D v_target, Vector3D v_front, Vector3D v_up){double spiralRadius = Math.Tan(_spiralDegrees * DEG_TO_RAD);if (Vector3D.IsZero(v_target))return v_target;Vector3D v_targ_norm = Vector3D.Normalize(v_target);if (_timeSpiral &gt; _timeMaxSpiral)_timeSpiral = 0;double angle_theta = 2 * Math.PI * _timeSpiral / _timeMaxSpiral;if (v_front.Dot(v_targ_norm) &gt; 0){Vector3D v_x = Vector3D.Normalize(v_up.Cross(v_targ_norm));Vector3D v_y = Vector3D.Normalize(v_x.Cross(v_targ_norm));Vector3D v_target_adjusted = v_targ_norm + spiralRadius * (v_x * Math.Cos(angle_theta) + v_y * Math.Sin(angle_theta));return v_target_adjusted;}else {return v_targ_norm;}}
#endregion

#region Gyroscopic Control Functions

/*
Whip's ApplyGyroOverride - Last modified: 2020/08/27

Takes pitch, yaw, and roll speeds relative to the gyro's backwards
ass rotation axes.

NOTE:
Added IsClosed check for WHAM
*/
void ApplyGyroOverride(double pitchSpeed, double yawSpeed, double rollSpeed, List&lt;IMyGyro&gt; gyroList, MatrixD worldMatrix){var rotationVec = new Vector3D(pitchSpeed, yawSpeed, rollSpeed);var relativeRotationVec = Vector3D.TransformNormal(rotationVec, worldMatrix);foreach (var thisGyro in gyroList){if (IsClosed(thisGyro))continue;var transformedRotationVec = Vector3D.TransformNormal(relativeRotationVec, Matrix.Transpose(thisGyro.WorldMatrix));thisGyro.Pitch = (float)transformedRotationVec.X;thisGyro.Yaw = (float)transformedRotationVec.Y;thisGyro.Roll = (float)transformedRotationVec.Z;thisGyro.GyroOverride = true;}}
#endregion

#region Storage Parsing/Saving

void ParseStorage() //TODO: Add proper ini save/parse for Active guidance
{if (GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupNameTag) != null){
// This means missile is still attached to firing ship
Storage = "";return;}var storageSplit = Storage.Split('\n');foreach (var line in storageSplit){if (line.StartsWith("@")){var trimmedLine = line.Replace("@", "");bool parsed = int.TryParse(trimmedLine, out _missileStage);if (parsed &amp;&amp; _missileStage == 0){_savedKeycodes.Clear();return;}continue;}long code = 0;if (!string.IsNullOrWhiteSpace(line) &amp;&amp; long.TryParse(line, out code))_savedKeycodes.Add(code);}if (_savedKeycodes.Count != 0 &amp;&amp; _missileStage != 0){_postSetupAction = PostSetupAction.Fire;InitiateSetup(true);}Echo("Storage parsed");}void Save(){_saveSB.Clear();foreach (var id in _savedKeycodes)_saveSB.Append($"{id}\n");_saveSB.Append($"@{_missileStage}");Storage = _saveSB.ToString();}
#endregion

#region Scheduler

// Class for scheduling actions to occur at specific frequencies. Actions can be updated in parallel or in sequence (queued).
public class Scheduler {ScheduledAction _currentlyQueuedAction = null;bool _firstRun = true;readonly bool _ignoreFirstRun;readonly List&lt;ScheduledAction&gt; _scheduledActions = new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt; _actionsToDispose = new List&lt;ScheduledAction&gt;();readonly Queue&lt;ScheduledAction&gt; _queuedActions = new Queue&lt;ScheduledAction&gt;();readonly Program _program;const double RUNTIME_TO_REALTIME = (1.0 / 60.0) / 0.0166666;public Scheduler(Program program, bool ignoreFirstRun = false){_program = program;_ignoreFirstRun = ignoreFirstRun;}public void Update(){double deltaTime = Math.Max(0, _program.Runtime.TimeSinceLastRun.TotalSeconds * RUNTIME_TO_REALTIME);if (_ignoreFirstRun &amp;&amp; _firstRun)deltaTime = 0;_firstRun = false;_actionsToDispose.Clear();foreach (ScheduledAction action in _scheduledActions){action.Update(deltaTime);if (action.JustRan &amp;&amp; action.DisposeAfterRun){_actionsToDispose.Add(action);}}
// Remove all actions that we should dispose
_scheduledActions.RemoveAll((x) =&gt; _actionsToDispose.Contains(x));if (_currentlyQueuedAction == null){
// If queue is not empty, populate current queued action
if (_queuedActions.Count != 0)_currentlyQueuedAction = _queuedActions.Dequeue();}
// If queued action is populated
if (_currentlyQueuedAction != null){_currentlyQueuedAction.Update(deltaTime);if (_currentlyQueuedAction.JustRan){
// Set the queued action to null for the next cycle
_currentlyQueuedAction = null;}}}public void AddScheduledAction(Action action, double updateFrequency, bool disposeAfterRun = false, double timeOffset = 0){ScheduledAction scheduledAction = new ScheduledAction(action, updateFrequency, disposeAfterRun, timeOffset);_scheduledActions.Add(scheduledAction);}public void AddScheduledAction(ScheduledAction scheduledAction){_scheduledActions.Add(scheduledAction);}public void AddQueuedAction(Action action, double updateInterval){if (updateInterval &lt;= 0){
updateInterval = 0.001; // avoids divide by zero
}ScheduledAction scheduledAction = new ScheduledAction(action, 1.0 / updateInterval, true);_queuedActions.Enqueue(scheduledAction);}public void AddQueuedAction(ScheduledAction scheduledAction){_queuedActions.Enqueue(scheduledAction);}}
// Class for scheduling an action to occur at a specified frequency (in Hz).
public class ScheduledAction {public bool JustRan { get; private set; } = false;public bool DisposeAfterRun { get; set; } = false;public double TimeSinceLastRun { get; private set; } = 0;public double RunInterval {get {return _runInterval;}set {if (value == _runInterval)return;_runInterval = value &lt; Epsilon ? 0 : value;_runFrequency = value == 0 ? double.MaxValue : 1.0 / _runInterval;}}public double RunFrequency {get {return _runFrequency;}set {if (value == _runFrequency)return;if (value == 0)RunInterval = double.MaxValue;else RunInterval = 1.0 / value;}}double _runInterval = -1e9;double _runFrequency = -1e9;readonly Action _action;const double Epsilon = 1e-12;public ScheduledAction(Action action, double runFrequency = 0, bool removeAfterRun = false, double timeOffset = 0){_action = action;
RunFrequency = runFrequency; // Implicitly sets RunInterval
DisposeAfterRun = removeAfterRun;TimeSinceLastRun = timeOffset;}public void Update(double deltaTime){TimeSinceLastRun += deltaTime;if (TimeSinceLastRun + Epsilon &gt;= RunInterval){_action.Invoke();TimeSinceLastRun = 0;JustRan = true;}else {JustRan = false;}}}
#endregion

#region PID Control

//Whip's PID controller class v6 - 11/22/17
public class PID {double _kP = 0;double _kI = 0;double _kD = 0;double _integralDecayRatio = 0;double _lowerBound = 0;double _upperBound = 0;double _timeStep = 0;double _inverseTimeStep = 0;double _errorSum = 0;double _lastError = 0;bool _firstRun = true;bool _integralDecay = false;public double Value { get; private set; }public PID(double kP, double kI, double kD, double lowerBound, double upperBound, double timeStep){_kP = kP;_kI = kI;_kD = kD;_lowerBound = lowerBound;_upperBound = upperBound;_timeStep = timeStep;_inverseTimeStep = 1 / _timeStep;_integralDecay = false;}public PID(double kP, double kI, double kD, double integralDecayRatio, double timeStep){_kP = kP;_kI = kI;_kD = kD;_timeStep = timeStep;_inverseTimeStep = 1 / _timeStep;_integralDecayRatio = integralDecayRatio;_integralDecay = true;}public double Control(double error){
//Compute derivative term
var errorDerivative = (error - _lastError) * _inverseTimeStep;if (_firstRun){errorDerivative = 0;_firstRun = false;}
//Compute integral term
if (!_integralDecay){_errorSum += error * _timeStep;
//Clamp integral term
if (_errorSum &gt; _upperBound)_errorSum = _upperBound;else if (_errorSum &lt; _lowerBound)_errorSum = _lowerBound;}else {_errorSum = _errorSum * (1.0 - _integralDecayRatio) + error * _timeStep;}
//Store this error as last error
_lastError = error;
//Construct output
this.Value = _kP * error + _kI * _errorSum + _kD * errorDerivative;return this.Value;}public double Control(double error, double timeStep){_timeStep = timeStep;_inverseTimeStep = 1 / _timeStep;return Control(error);}public void Reset(){_errorSum = 0;_lastError = 0;_firstRun = true;}}
#endregion

#region Runtime Monitoring

// Class that tracks runtime history.
public class RuntimeTracker {public int Capacity { get; set; }public double Sensitivity { get; set; }public double MaxRuntime { get; private set; }public double MaxInstructions { get; private set; }public double AverageRuntime { get; private set; }public double AverageInstructions { get; private set; }private readonly Queue&lt;double&gt; _runtimes = new Queue&lt;double&gt;();private readonly Queue&lt;double&gt; _instructions = new Queue&lt;double&gt;();private readonly StringBuilder _sb = new StringBuilder();private readonly int _instructionLimit;private readonly Program _program;public RuntimeTracker(Program program, int capacity = 100, double sensitivity = 0.01){_program = program;Capacity = capacity;Sensitivity = sensitivity;_instructionLimit = _program.Runtime.MaxInstructionCount;}public void AddRuntime(){double runtime = _program.Runtime.LastRunTimeMs;AverageRuntime = Sensitivity * (runtime - AverageRuntime) + AverageRuntime;_runtimes.Enqueue(runtime);if (_runtimes.Count == Capacity){_runtimes.Dequeue();}MaxRuntime = _runtimes.Max();}public void AddInstructions(){double instructions = _program.Runtime.CurrentInstructionCount;AverageInstructions = Sensitivity * (instructions - AverageInstructions) + AverageInstructions;_instructions.Enqueue(instructions);if (_instructions.Count == Capacity){_instructions.Dequeue();}MaxInstructions = _instructions.Max();}public string Write(){_sb.Clear();_sb.AppendLine("\n_____________________________\nGeneral Runtime Info\n");_sb.AppendLine($"Avg instructions: {AverageInstructions:n2}");_sb.AppendLine($"Max instructions: {MaxInstructions:n0}");_sb.AppendLine($"Avg complexity: {MaxInstructions / _instructionLimit:0.000}%");_sb.AppendLine($"Avg runtime: {AverageRuntime:n4} ms");_sb.AppendLine($"Max runtime: {MaxRuntime:n4} ms");return _sb.ToString();}}
#endregion

#region Ini Helper
public static class MyIniHelper {public static void SetVector3D(string sectionName, string vectorName, ref Vector3D vector, MyIni ini){ini.Set(sectionName, vectorName, vector.ToString());}public static Vector3D GetVector3D(string sectionName, string vectorName, MyIni ini){var vector = Vector3D.Zero;Vector3D.TryParse(ini.Get(sectionName, vectorName).ToString(), out vector);return vector;}}
#endregion

#region Raycast Homing
class RaycastHoming {public TargetingStatus Status { get; private set; } = TargetingStatus.NotLocked;public Vector3D TargetPosition {get {return OffsetTargeting ? OffsetTargetPosition : TargetCenter;}}public Vector3D TargetCenter { get; private set; } = Vector3D.Zero;public Vector3D OffsetTargetPosition { get; private set; } = Vector3D.Zero;public Vector3D TargetVelocity { get; private set; } = Vector3D.Zero;public Vector3D HitPosition { get; private set; } = Vector3D.Zero;public Vector3D PreciseModeOffset { get; private set; } = Vector3D.Zero;public bool OffsetTargeting = false;public bool MissedLastScan { get; private set; } = false;public bool LockLost { get; private set; } = false;public bool IsScanning { get; private set; } = false;public string TargetType { get; private set; } = "";public double TimeSinceLastLock { get; private set; } = 0;public double TargetSize { get; private set; } = 0;public double MaxRange { get; private set; }public double MinRange { get; private set; }public long TargetId { get; private set; } = 0;public double AutoScanInterval { get; private set; } = 0;public double MaxTimeForLockBreak { get; private set; }public MyRelationsBetweenPlayerAndBlock TargetRelation;public enum TargetingStatus { NotLocked, Locked, TooClose };enum AimMode { None = 0, Center = 1, Offset = 2, OffsetRelative = 4 };AimMode _currentAimMode = AimMode.Center;readonly HashSet&lt;MyDetectedEntityType&gt; _targetFilter = new HashSet&lt;MyDetectedEntityType&gt;();readonly List&lt;IMyCameraBlock&gt; _availableCameras = new List&lt;IMyCameraBlock&gt;();readonly Random _rngeesus = new Random();MyDetectedEntityInfo _targetInfo = default(MyDetectedEntityInfo);MatrixD _targetOrientation;Vector3D _targetPosCached;Vector3D _targetPositionOverride;HashSet&lt;long&gt; _gridIDsToIgnore = new HashSet&lt;long&gt;();double _timeSinceLastScan = 0;bool _manualLockOverride = false;bool _fudgeVectorSwitch = false;public RaycastHoming(double maxRange, double maxTimeForLockBreak, double minRange = 0, long gridIDToIgnore = 0){MinRange = minRange;MaxRange = maxRange;MaxTimeForLockBreak = maxTimeForLockBreak;AddIgnoredGridID(gridIDToIgnore);}public void SetInitialLockParameters(Vector3D hitPosition, Vector3D targetVelocity, Vector3D offset, double timeSinceLastLock, long targetId){_targetPositionOverride = hitPosition;TargetCenter = hitPosition;HitPosition = hitPosition;OffsetTargetPosition = hitPosition;PreciseModeOffset = offset;TargetVelocity = targetVelocity;TimeSinceLastLock = timeSinceLastLock;_manualLockOverride = true;IsScanning = true;TargetId = targetId;}public void AddIgnoredGridID(long id){_gridIDsToIgnore.Add(id);}public void ClearIgnoredGridIDs(){_gridIDsToIgnore.Clear();}public void AddEntityTypeToFilter(params MyDetectedEntityType[] types){foreach (var type in types){_targetFilter.Add(type);}}public void RemoveEntityTypeToFilter(params MyDetectedEntityType[] types){foreach (var type in types){_targetFilter.Remove(type);}}public void AcknowledgeLockLost(){LockLost = false;}public void LockOn(){ClearLockInternal();LockLost = false;IsScanning = true;}public void ClearLock(){ClearLockInternal();LockLost = false;}void ClearLockInternal(){_targetInfo = default(MyDetectedEntityInfo);IsScanning = false;Status = TargetingStatus.NotLocked;MissedLastScan = false;TimeSinceLastLock = 0;TargetSize = 0;HitPosition = Vector3D.Zero;TargetId = 0;_timeSinceLastScan = 141;_targetPosCached = Vector3D.Zero;_currentAimMode = AimMode.Center;TargetRelation = MyRelationsBetweenPlayerAndBlock.NoOwnership;}Vector3D CalculateFudgeVector(Vector3D targetDirection, double fudgeFactor = 5){_fudgeVectorSwitch = !_fudgeVectorSwitch;if (!_fudgeVectorSwitch)return Vector3D.Zero;var perpVector1 = Vector3D.CalculatePerpendicularVector(targetDirection);var perpVector2 = Vector3D.Cross(perpVector1, targetDirection);if (!Vector3D.IsUnit(ref perpVector2))perpVector2.Normalize();var randomVector = (2.0 * _rngeesus.NextDouble() - 1.0) * perpVector1 + (2.0 * _rngeesus.NextDouble() - 1.0) * perpVector2;return randomVector * fudgeFactor * TimeSinceLastLock;}public bool IsClosed(IMyTerminalBlock block){return block.WorldMatrix == MatrixD.Identity;}public void Update(double timeStep, List&lt;IMyCameraBlock&gt; cameraList, List&lt;IMyShipController&gt; shipControllers){_timeSinceLastScan += timeStep;if (!IsScanning)return;TimeSinceLastLock += timeStep;_targetInfo = default(MyDetectedEntityInfo);_availableCameras.Clear();
//Check for lock lost
if (TimeSinceLastLock &gt; (MaxTimeForLockBreak + AutoScanInterval) &amp;&amp; Status == TargetingStatus.Locked){LockLost = true;ClearLockInternal();return;}
// Determine where to scan next
var scanPosition = Vector3D.Zero;if (_currentAimMode == AimMode.Offset){scanPosition = HitPosition + TargetVelocity * TimeSinceLastLock;}else if (_currentAimMode == AimMode.OffsetRelative){scanPosition = OffsetTargetPosition + TargetVelocity * TimeSinceLastLock;}else {scanPosition = TargetCenter + TargetVelocity * TimeSinceLastLock;}if (MissedLastScan &amp;&amp; cameraList.Count &gt; 0){scanPosition += CalculateFudgeVector(scanPosition - cameraList[0].GetPosition());}
// Trim out cameras that cant see our next scan position
Vector3D testDirection = Vector3D.Zero;if (Status == TargetingStatus.Locked || _manualLockOverride){GetAvailableCameras(cameraList, _availableCameras, scanPosition, true);}else {
/*
* The following prioritizes references in the following hierarchy:
* 1. Currently used camera
* 2. Currently used control seat
*/
IMyTerminalBlock reference = GetControlledCamera(cameraList);if (reference == null)reference = GetControlledShipController(shipControllers);if (reference != null){testDirection = reference.WorldMatrix.Forward;GetAvailableCameras(cameraList, _availableCameras, testDirection);}else {_availableCameras.AddRange(cameraList);}}
// Check for transition between faces
if (_availableCameras.Count == 0) //transition between faces
{
_timeSinceLastScan = 100000; // Set to scan immediately on the next cycle
MissedLastScan = true;return;}
//Get camera with maximum available range
var thisCamera = GetCameraWithMaxRange(_availableCameras);var cameraMatrix = thisCamera.WorldMatrix;
// Determine scan range
double scanRange;Vector3D adjustedTargetPos = new Vector3D(0, 0, 0);if (Status == TargetingStatus.Locked || _manualLockOverride){
// We adjust the scan position to scan a bit past the target so we are more likely to hit if it is moving away
adjustedTargetPos = scanPosition + Vector3D.Normalize(scanPosition - cameraMatrix.Translation) * 2 * TargetSize;scanRange = (adjustedTargetPos - cameraMatrix.Translation).Length();}else {scanRange = MaxRange;}
// This operates under the assumption that raycast charges at 2km/s
AutoScanInterval = scanRange / 2000 / _availableCameras.Count * 1.1; // Give a fudge factor for safety
var availableScanRange = thisCamera.AvailableScanRange;
//Attempt to scan adjusted target position
if (availableScanRange &gt; scanRange &amp;&amp; _timeSinceLastScan &gt;= AutoScanInterval){if (Status == TargetingStatus.Locked || _manualLockOverride)_targetInfo = ScanTargetPosition(thisCamera, adjustedTargetPos, scanRange);else if (!Vector3D.IsZero(testDirection))_targetInfo = ScanTargetDirection(thisCamera, testDirection, MaxRange);else _targetInfo = thisCamera.Raycast(MaxRange);_timeSinceLastScan = 0;}
else // Not enough charge stored up yet
{return;}
// Validate target and assign values
if (!_targetInfo.IsEmpty() &amp;&amp; !_targetFilter.Contains(_targetInfo.Type) &amp;&amp; 
!_gridIDsToIgnore.Contains(_targetInfo.EntityId)) //target lock
{if (Vector3D.DistanceSquared(_targetInfo.Position, thisCamera.GetPosition()) &lt; MinRange * MinRange &amp;&amp; Status != TargetingStatus.Locked){Status = TargetingStatus.TooClose;return;}
else if (Status == TargetingStatus.Locked) // Target already locked
{if (_targetInfo.EntityId == TargetId){TargetCenter = _targetInfo.Position;HitPosition = _targetInfo.HitPosition.Value;_targetOrientation = _targetInfo.Orientation;OffsetTargetPosition = TargetCenter + Vector3D.TransformNormal(PreciseModeOffset, _targetOrientation);TargetVelocity = _targetInfo.Velocity;TargetSize = _targetInfo.BoundingBox.Size.Length();TargetType = _targetInfo.Type.ToString();TimeSinceLastLock = 0;if (_manualLockOverride){TargetId = _targetInfo.EntityId;_manualLockOverride = false;}MissedLastScan = false;TargetRelation = _targetInfo.Relationship;}else {MissedLastScan = true;}}
else // Target not yet locked: initial lockon
{if (_manualLockOverride &amp;&amp; TargetId != _targetInfo.EntityId &amp;&amp; TargetId != 0)return;if (_manualLockOverride &amp;&amp; TargetId == 0){double maxDispPerTickSq = 100 + _targetInfo.Velocity.LengthSquared() * timeStep * timeStep;if (Vector3D.DistanceSquared(_targetPositionOverride, _targetInfo.HitPosition.Value) &gt; maxDispPerTickSq){
return; // Abort lock since it is not locked onto what we want
}}Status = TargetingStatus.Locked;TargetId = _targetInfo.EntityId;TargetCenter = _targetInfo.Position;HitPosition = _targetInfo.HitPosition.Value;TargetVelocity = _targetInfo.Velocity;TargetSize = _targetInfo.BoundingBox.Size.Length();TargetType = _targetInfo.Type.ToString();TimeSinceLastLock = 0;var aimingCamera = GetControlledCamera(_availableCameras);Vector3D hitPosOffset = Vector3D.Zero;if (aimingCamera != null){hitPosOffset = aimingCamera.GetPosition() - thisCamera.GetPosition();}var hitPos = _targetInfo.HitPosition.Value + hitPosOffset;_targetOrientation = _targetInfo.Orientation;if (_manualLockOverride){_manualLockOverride = false;}else {PreciseModeOffset = Vector3D.TransformNormal(hitPos - TargetCenter, MatrixD.Transpose(_targetOrientation));OffsetTargetPosition = hitPos;}MissedLastScan = false;TargetRelation = _targetInfo.Relationship;}_targetPosCached = _targetInfo.Position;}else {
//TODO: Investigate if we should only count a miss when we are LOCKED
MissedLastScan = true;}if (MissedLastScan){
// If scan missed, switch aim mode
if (_currentAimMode == AimMode.Center){_currentAimMode = AimMode.Offset;}else if (_currentAimMode == AimMode.Offset){_currentAimMode = AimMode.OffsetRelative;}else {_currentAimMode = AimMode.Center;}
_timeSinceLastScan = 1000000; // Make sure we scan as fast as we can to try and re-establish lock.
}}void GetAvailableCameras(List&lt;IMyCameraBlock&gt; allCameras, List&lt;IMyCameraBlock&gt; availableCameras, Vector3D testVector, bool vectorIsPosition = false){availableCameras.Clear();foreach (var block in allCameras){if (IsClosed(block))continue;if (TestCameraAngles(block, vectorIsPosition ? testVector - block.GetPosition() : testVector))availableCameras.Add(block);}}MyDetectedEntityInfo ScanTargetPosition(IMyCameraBlock camera, Vector3D targetPosition, double scanDistance){Vector3D targetDirection = targetPosition - camera.GetPosition();return ScanTargetDirection(camera, targetDirection, scanDistance);}MyDetectedEntityInfo ScanTargetDirection(IMyCameraBlock camera, Vector3D targetDirection, double scanDistance){double yaw, pitch;GetRotationAngles(targetDirection, camera.WorldMatrix, out yaw, out pitch);return camera.Raycast(scanDistance, (float)MathHelperD.ToDegrees(pitch), (float)MathHelperD.ToDegrees(yaw));}
/*
/// Whip's Get Rotation Angles Method v14 - 9/25/18 ///

MODIFIED FOR WHAM FIRE SCRIPT 2/17/19
Dependencies: AngleBetween
*/
void GetRotationAngles(Vector3D targetVector, MatrixD worldMatrix, out double yaw, out double pitch){var localTargetVector = Vector3D.TransformNormal(targetVector, MatrixD.Transpose(worldMatrix));var flattenedTargetVector = new Vector3D(localTargetVector.X, 0, localTargetVector.Z);
yaw = AngleBetween(Vector3D.Forward, flattenedTargetVector) * Math.Sign(localTargetVector.X); //right is positive
if (Math.Abs(yaw) &lt; 1E-6 &amp;&amp; localTargetVector.Z &gt; 0) //check for straight back case
yaw = Math.PI;
if (Vector3D.IsZero(flattenedTargetVector)) //check for straight up case
pitch = MathHelper.PiOver2 * Math.Sign(localTargetVector.Y);else 
pitch = AngleBetween(localTargetVector, flattenedTargetVector) * Math.Sign(localTargetVector.Y); //up is positive
}
public static double AngleBetween(Vector3D a, Vector3D b) //returns radians
{if (Vector3D.IsZero(a) || Vector3D.IsZero(b))return 0;else return Math.Acos(MathHelper.Clamp(a.Dot(b) / Math.Sqrt(a.LengthSquared() * b.LengthSquared()), -1, 1));}bool TestCameraAngles(IMyCameraBlock camera, Vector3D direction){Vector3D localDirection = Vector3D.Rotate(direction, MatrixD.Transpose(camera.WorldMatrix));
if (localDirection.Z &gt; 0) //pointing backwards
return false;var yawTan = Math.Abs(localDirection.X / localDirection.Z);var pitchTan = Math.Abs(localDirection.Y / localDirection.Z);return yawTan &lt;= 1 &amp;&amp; pitchTan &lt;= 1;}IMyCameraBlock GetCameraWithMaxRange(List&lt;IMyCameraBlock&gt; cameraList){double maxRange = double.MinValue;IMyCameraBlock maxRangeCamera = default(IMyCameraBlock);foreach (IMyCameraBlock thisCamera in cameraList){if (thisCamera.AvailableScanRange &gt; maxRange){maxRangeCamera = thisCamera;maxRange = maxRangeCamera.AvailableScanRange;}}return maxRangeCamera;}IMyCameraBlock GetControlledCamera(List&lt;IMyCameraBlock&gt; cameras){foreach (var block in cameras){if (IsClosed(block))continue;if (block.IsActive)return block;}return null;}IMyShipController GetControlledShipController(List&lt;IMyShipController&gt; shipControllers){if (shipControllers.Count == 0)return null;IMyShipController mainControlled = null;IMyShipController controlled = null;foreach (IMyShipController thisController in shipControllers){if (thisController.IsUnderControl &amp;&amp; thisController.CanControlShip){if (controlled == null){controlled = thisController;}if (thisController.IsMainCockpit){
mainControlled = thisController; // Only one per grid so no null check needed
}}}if (mainControlled != null)return mainControlled;if (controlled != null)return controlled;return shipControllers[0];}}
#endregion

#region MissileGuidanceBase
abstract class MissileGuidanceBase {public double MissileAcceleration;protected double _deltaTime;protected double _updatesPerSecond;Vector3D _lastVelocity;bool _lastVelocitySet = false;public MissileGuidanceBase(double updatesPerSecond, double missileAcceleration){MissileAcceleration = missileAcceleration;_updatesPerSecond = updatesPerSecond;_deltaTime = 1.0 / _updatesPerSecond;}public void ClearAcceleration(){_lastVelocitySet = false;}public Vector3D Update(Vector3D missilePosition, Vector3D missileVelocity, Vector3D targetPosition, Vector3D targetVelocity, Vector3D? gravity = null){Vector3D targetAcceleration = Vector3D.Zero;if (!_lastVelocitySet)_lastVelocitySet = true;else targetAcceleration = (targetVelocity - _lastVelocity) * _updatesPerSecond;_lastVelocity = targetVelocity;return GetPointingVector(missilePosition, missileVelocity, targetPosition, targetVelocity, targetAcceleration, gravity == null ? Vector3D.Zero : gravity.Value);}protected abstract Vector3D GetPointingVector(Vector3D missilePosition, Vector3D missileVelocity, Vector3D targetPosition, Vector3D targetVelocity, Vector3D targetAcceleration, Vector3D gravity);}abstract class RelNavGuidance : MissileGuidanceBase {public double NavConstant;public double NavAccelConstant;public RelNavGuidance(double updatesPerSecond, double missileAcceleration, double navConstant, double navAccelConstant = 0) : base(updatesPerSecond, missileAcceleration){NavConstant = navConstant;NavAccelConstant = navAccelConstant;}abstract protected Vector3D GetLatax(Vector3D missileToTarget, Vector3D missileToTargetNorm, Vector3D relativeVelocity, Vector3D lateralTargetAcceleration, Vector3D gravityCompensationTerm);override protected Vector3D GetPointingVector(Vector3D missilePosition, Vector3D missileVelocity, Vector3D targetPosition, Vector3D targetVelocity, Vector3D targetAcceleration, Vector3D gravity){Vector3D missileToTarget = targetPosition - missilePosition;Vector3D missileToTargetNorm = Vector3D.Normalize(missileToTarget);Vector3D relativeVelocity = targetVelocity - missileVelocity;Vector3D lateralTargetAcceleration = (targetAcceleration - Vector3D.Dot(targetAcceleration, missileToTargetNorm) * missileToTargetNorm);Vector3D gravityCompensationTerm = 1.1 * -(gravity - Vector3D.Dot(gravity, missileToTargetNorm) * missileToTargetNorm);Vector3D lateralAcceleration = GetLatax(missileToTarget, missileToTargetNorm, relativeVelocity, lateralTargetAcceleration, gravityCompensationTerm);if (Vector3D.IsZero(lateralAcceleration))return missileToTarget;double diff = MissileAcceleration * MissileAcceleration - lateralAcceleration.LengthSquared();if (diff &lt; 0)
return lateralAcceleration; //fly parallel to the target
return lateralAcceleration + Math.Sqrt(diff) * missileToTargetNorm;}}
/// &lt;summary&gt;
/// Whip's Proportional Navigation Intercept
/// Derived from: https://en.wikipedia.org/wiki/Proportional_navigation
/// And: http://www.moddb.com/members/blahdy/blogs/gamedev-introduction-to-proportional-navigation-part-i
/// And: http://www.dtic.mil/dtic/tr/fulltext/u2/a556639.pdf
/// And: http://nptel.ac.in/courses/101108054/module8/lecture22.pdf
/// &lt;/summary&gt;
class ProNavGuidance : RelNavGuidance {public ProNavGuidance(double updatesPerSecond, double missileAcceleration, double navConstant, double navAccelConstant = 0) : base(updatesPerSecond, missileAcceleration, navConstant, navAccelConstant) { }override protected Vector3D GetLatax(Vector3D missileToTarget, Vector3D missileToTargetNorm, Vector3D relativeVelocity, Vector3D lateralTargetAcceleration, Vector3D gravityCompensationTerm){
Vector3D omega = Vector3D.Cross(missileToTarget, relativeVelocity) / Math.Max(missileToTarget.LengthSquared(), 1); //to combat instability at close range
return NavConstant * relativeVelocity.Length() * Vector3D.Cross(omega, missileToTargetNorm)+ NavAccelConstant * lateralTargetAcceleration 
+ gravityCompensationTerm; //normal to LOS
}}class WhipNavGuidance : RelNavGuidance {public WhipNavGuidance(double updatesPerSecond, double missileAcceleration, double navConstant, double navAccelConstant = 0) : base(updatesPerSecond, missileAcceleration, navConstant, navAccelConstant) { }override protected Vector3D GetLatax(Vector3D missileToTarget, Vector3D missileToTargetNorm, Vector3D relativeVelocity, Vector3D lateralTargetAcceleration, Vector3D gravityCompensationTerm){
Vector3D parallelVelocity = relativeVelocity.Dot(missileToTargetNorm) * missileToTargetNorm; //bootleg vector projection
Vector3D normalVelocity = (relativeVelocity - parallelVelocity);return NavConstant * 0.1 * normalVelocity + NavAccelConstant * lateralTargetAcceleration 
+ gravityCompensationTerm; //normal to LOS
}}class HybridNavGuidance : RelNavGuidance {public HybridNavGuidance(double updatesPerSecond, double missileAcceleration, double navConstant, double navAccelConstant = 0) : base(updatesPerSecond, missileAcceleration, navConstant, navAccelConstant) { }override protected Vector3D GetLatax(Vector3D missileToTarget, Vector3D missileToTargetNorm, Vector3D relativeVelocity, Vector3D lateralTargetAcceleration, Vector3D gravityCompensationTerm){
Vector3D omega = Vector3D.Cross(missileToTarget, relativeVelocity) / Math.Max(missileToTarget.LengthSquared(), 1); //to combat instability at close range
Vector3D parallelVelocity = relativeVelocity.Dot(missileToTargetNorm) * missileToTargetNorm; //bootleg vector projection
Vector3D normalVelocity = (relativeVelocity - parallelVelocity);return NavConstant * (relativeVelocity.Length() * Vector3D.Cross(omega, missileToTargetNorm) + 0.1 * normalVelocity)+ NavAccelConstant * lateralTargetAcceleration 
+ gravityCompensationTerm; //normal to LOS
}}
/// &lt;summary&gt;
/// Zero Effort Miss Intercept
/// Derived from: https://doi.org/10.2514/1.26948
/// &lt;/summary&gt;
class ZeroEffortMissGuidance : RelNavGuidance {public ZeroEffortMissGuidance(double updatesPerSecond, double missileAcceleration, double navConstant) : base(updatesPerSecond, missileAcceleration, navConstant, 0) { }override protected Vector3D GetLatax(Vector3D missileToTarget, Vector3D missileToTargetNorm, Vector3D relativeVelocity, Vector3D lateralTargetAcceleration, Vector3D gravityCompensationTerm){double distToTarget = Vector3D.Dot(missileToTarget, missileToTargetNorm);
// Equation (8) with sign modification to keep time positive and not NaN
double tau = distToTarget / Math.Max(1, relativeVelocity.Length());
// Equation (6)
Vector3D z = missileToTarget + relativeVelocity * tau;
// Equation (7)
return NavConstant * z / (tau * tau)+ NavAccelConstant * lateralTargetAcceleration + gravityCompensationTerm;}}
#endregion

#region CircularBuffer
public class DynamicCircularBuffer&lt;T&gt;{public int Count {get {return _list.Count;}}List&lt;T&gt; _list = new List&lt;T&gt;();int _getIndex = 0;public void Add(T item){_list.Add(item);}public void Clear(){_list.Clear();_getIndex = 0;}public T MoveNext(){if (_list.Count == 0)return default(T);T val = _list[_getIndex];_getIndex = ++_getIndex % _list.Count;return val;}public T Peek(){if (_list.Count == 0)return default(T);return _list[_getIndex];}}
#endregion

#endregion
</Program>
              <Storage>89918296480217018
@0</Storage>
              <DefaultRunArgument>setup</DefaultRunArgument>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>81106018397608319</EntityId>
              <Min x="1" y="9" z="3" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 30</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>8</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="2" y="11" z="0" />
              <BlockOrientation Forward="Up" Up="Backward" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>91326347999195385</EntityId>
              <Min x="0" y="11" z="1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 5</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>13</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>96039666259289109</EntityId>
              <Min x="-1" y="10" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 9</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>9</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorInvCorner2Base</SubtypeName>
              <Min x="2" y="10" z="2" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="0" y="11" z="0" />
              <BlockOrientation Forward="Up" Up="Right" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>121591717044661705</EntityId>
              <Min x="2" y="11" z="1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 4</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>14</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>125980980121066267</EntityId>
              <Min x="1" y="11" z="1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>15</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>75316399468353724</EntityId>
              <Min x="0" y="9" z="3" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 20</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>10</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>77742363058814436</EntityId>
              <Min x="-1" y="9" z="2" />
              <BlockOrientation Forward="Left" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 12</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>11</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>78075297692310787</EntityId>
              <Min x="3" y="10" z="1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 7</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>12</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>98116988001877888</EntityId>
              <Min x="1" y="10" z="-1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 29</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>13</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>72497540298412708</EntityId>
              <Min x="1" y="10" z="2" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 10</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>16</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorInvCorner2Base</SubtypeName>
              <Min x="0" y="10" z="2" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>98306086026188962</EntityId>
              <Min x="3" y="9" z="2" />
              <BlockOrientation Forward="Right" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 10</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>14</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>78795286044755527</EntityId>
              <Min x="2" y="9" z="3" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 21</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>15</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>115003738116330882</EntityId>
              <Min x="1" y="11" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 9</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>17</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="0" y="11" z="2" />
              <BlockOrientation Forward="Up" Up="Forward" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
              <Min x="0" y="12" z="0" />
              <BlockOrientation Forward="Right" Up="Forward" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>84191390749858912</EntityId>
              <Min x="1" y="12" z="1" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>18</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorInvCorner</SubtypeName>
              <EntityId>81289675518408667</EntityId>
              <Min x="1" y="12" z="0" />
              <BlockOrientation Forward="Left" Up="Forward" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorInvCorner</SubtypeName>
              <EntityId>115741090533891873</EntityId>
              <Min x="0" y="12" z="1" />
              <BlockOrientation Forward="Backward" Up="Left" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorInvCorner2Tip</SubtypeName>
              <Min x="2" y="11" z="2" />
              <BlockOrientation Forward="Up" Up="Left" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>138382661058443386</EntityId>
              <Min x="1" y="11" z="2" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Warhead 8</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>19</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorInvCorner</SubtypeName>
              <EntityId>92793791721278207</EntityId>
              <Min x="2" y="12" z="1" />
              <BlockOrientation Forward="Forward" Up="Right" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>131341888468760859</EntityId>
              <Min x="1" y="10" z="3" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 28</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>16</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
              <Min x="2" y="12" z="0" />
              <BlockOrientation Forward="Backward" Up="Right" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>101328117934327028</EntityId>
              <Min x="2" y="13" z="1" />
              <BlockOrientation Forward="Up" Up="Right" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>17</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorInvCorner</SubtypeName>
              <EntityId>82506963421172736</EntityId>
              <Min x="1" y="12" z="2" />
              <BlockOrientation Forward="Right" Up="Backward" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>128880238954880908</EntityId>
              <Min x="0" y="13" z="1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 4</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>18</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
              <Min x="0" y="12" z="2" />
              <BlockOrientation Forward="Forward" Up="Left" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>140787939968746517</EntityId>
              <Min x="1" y="13" z="0" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>19</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
              <Min x="2" y="12" z="2" />
              <BlockOrientation Forward="Left" Up="Backward" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>120752104793358437</EntityId>
              <Min x="1" y="13" z="1" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 5</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>20</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>110306800602954274</EntityId>
              <Min x="1" y="13" z="2" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Missile 4) LRM Camera 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>21</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0159806311" y="-0.0176056065" z="0.08559098" />
          <AngularVelocity x="0.00273203314" y="-0.000369712274" z="8.09012054E-05" />
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>Flame Effect</Name>
              <Blocks>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>1</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Missile 4</Name>
              <Blocks>
                <Vector3I>
                  <X>1</X>
                  <Y>13</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>13</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>13</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>13</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>13</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>10</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>11</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>12</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>11</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>9</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>9</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>10</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>10</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>10</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>9</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>9</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>11</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>11</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>10</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>11</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>9</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>8</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>9</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>9</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>9</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>10</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>10</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>10</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>9</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>9</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>9</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>10</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>9</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>9</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>9</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>9</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>9</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>9</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>9</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>9</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>9</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>9</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>7</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>7</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>8</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>8</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>6</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>8</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>7</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>7</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>7</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>6</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>6</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>6</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>6</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>6</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>5</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>2</X>
                  <Y>5</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>3</Y>
                  <Z>1</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Small Grid 607</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>131119117970249236</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>131119117970249236</Name>
          <PositionAndOrientation>
            <Position x="-16.985092163085938" y="30.956440925598145" z="4.7558164596557617" />
            <Forward x="-0.497427821" y="0.8419422" z="0.2090418" />
            <Up x="-0.8633937" y="-0.4570489" z="-0.21367535" />
            <Orientation>
              <X>0.6288344</X>
              <Y>-0.4572616</Y>
              <Z>0.5771411</Z>
              <W>0.249774382</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>MediumHingeHead</SubtypeName>
              <EntityId>112974835309717753</EntityId>
              <ParentEntityId>124404849804603294</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="0" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockSmall</SubtypeName>
              <EntityId>93371070187750971</EntityId>
              <Min x="-1" y="2" z="2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Auto Timer Block 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Start</Action>
                      <BlockEntityId>131410373713681183</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Reverse</Action>
                      <BlockEntityId>115224574388755046</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>3000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockSmall</SubtypeName>
              <EntityId>131410373713681183</EntityId>
              <Min x="-1" y="0" z="2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Auto Timer Block</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Reverse</Action>
                      <BlockEntityId>115224574388755046</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Start</Action>
                      <BlockEntityId>93371070187750971</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>2</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>OnOff_On</Action>
                      <BlockEntityId>72734481602803570</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>9</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Reverse</Action>
                      <BlockEntityId>115224574388755046</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>10</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>TriggerNow</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>131410373713681183</BlockEntityId>
                      <GroupName>Deploy Depth Charge</GroupName>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>11</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Start</Action>
                      <BlockEntityId>93371070187750971</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>5000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockCylindricalColumn</SubtypeName>
              <EntityId>123659099779531644</EntityId>
              <Min x="-1" y="0" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockCylindricalColumn</SubtypeName>
              <EntityId>109015652849484270</EntityId>
              <Min x="-1" y="2" z="1" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockCylindricalColumn</SubtypeName>
              <EntityId>140353630338444398</EntityId>
              <Min x="-1" y="1" z="2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockCylindricalColumn</SubtypeName>
              <EntityId>104893382130553924</EntityId>
              <Min x="-1" y="1" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="-2" y="0" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="-2" y="2" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="-2" y="1" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="2" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="-2" y="0" z="3" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="-2" y="2" z="3" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="11" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="11" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TerminalBlock">
              <SubtypeName>SmallControlPanel</SubtypeName>
              <EntityId>110197586440332484</EntityId>
              <Min x="-2" y="3" z="1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="10" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="9" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="8" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="7" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="6" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="5" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="4" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="10" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="9" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="8" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="7" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="6" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="5" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="4" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="12" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="12" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="13" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="0" z="13" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="3" z="2" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="2" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>100260960777171108</EntityId>
              <Min x="-3" y="3" z="2" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>94551558422557171</EntityId>
              <Min x="-3" y="-1" z="2" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorCorner</SubtypeName>
              <EntityId>114288894920844176</EntityId>
              <Min x="-3" y="-1" z="1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorCorner</SubtypeName>
              <EntityId>93318216958032268</EntityId>
              <Min x="-3" y="3" z="1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>101027163237742052</EntityId>
              <Min x="-3" y="-1" z="3" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>121105620340902640</EntityId>
              <Min x="-3" y="-1" z="4" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>119504792374085460</EntityId>
              <Min x="-3" y="-1" z="5" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>124094557032525785</EntityId>
              <Min x="-3" y="-1" z="6" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>85531523567046181</EntityId>
              <Min x="-3" y="-1" z="7" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>97687549820433917</EntityId>
              <Min x="-3" y="-1" z="8" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>140895948576326282</EntityId>
              <Min x="-3" y="-1" z="9" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>124641123382122445</EntityId>
              <Min x="-3" y="-1" z="10" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorInvCorner</SubtypeName>
              <EntityId>99642077807267665</EntityId>
              <Min x="-3" y="3" z="11" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorCenter</SubtypeName>
              <EntityId>93324938563143127</EntityId>
              <Min x="-3" y="3" z="12" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>93541709057371987</EntityId>
              <Min x="-3" y="3" z="3" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>87032146226772697</EntityId>
              <Min x="-3" y="3" z="4" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>97459246115387067</EntityId>
              <Min x="-3" y="3" z="5" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>129322162569722272</EntityId>
              <Min x="-3" y="3" z="6" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>99191085374885260</EntityId>
              <Min x="-3" y="3" z="7" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>85781826861517826</EntityId>
              <Min x="-3" y="3" z="8" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>80584055787655311</EntityId>
              <Min x="-3" y="3" z="9" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>127213250381382100</EntityId>
              <Min x="-3" y="3" z="10" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorInvCorner</SubtypeName>
              <EntityId>101599871468020527</EntityId>
              <Min x="-3" y="-1" z="11" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorCenter</SubtypeName>
              <EntityId>102848299945347733</EntityId>
              <Min x="-3" y="-1" z="12" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorInvCorner</SubtypeName>
              <EntityId>106177262017702025</EntityId>
              <Min x="-3" y="-1" z="13" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorInvCorner</SubtypeName>
              <EntityId>87654927801553582</EntityId>
              <Min x="-3" y="3" z="13" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>79296428467804681</EntityId>
              <Min x="-3" y="2" z="13" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorSide</SubtypeName>
              <EntityId>79164068316672552</EntityId>
              <Min x="-3" y="0" z="13" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorCenter</SubtypeName>
              <EntityId>126242810670011923</EntityId>
              <Min x="-3" y="1" z="13" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Projector">
              <SubtypeName>SmallProjector</SubtypeName>
              <EntityId>118260760438296873</EntityId>
              <Min x="-4" y="1" z="13" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Projector</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <ProjectedGrids>
                <MyObjectBuilder_CubeGrid>
                  <SubtypeName />
                  <EntityId>85553670339817363</EntityId>
                  <PersistentFlags>CastShadows InScene</PersistentFlags>
                  <Name>85553670339817363</Name>
                  <PositionAndOrientation>
                    <Position x="0" y="0" z="0" />
                    <Forward x="0.3176946" y="0.4514184" z="-0.8338415" />
                    <Up x="-0.9017694" y="0.415638477" z="-0.11856021" />
                    <Orientation>
                      <X>0.1043748</X>
                      <Y>-0.268672973</Y>
                      <Z>0.530364633</Z>
                      <W>0.7972666</W>
                    </Orientation>
                  </PositionAndOrientation>
                  <LocalPositionAndOrientation xsi:nil="true" />
                  <GridSizeEnum>Small</GridSizeEnum>
                  <CubeBlocks>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
                      <Min x="-4" y="0" z="9" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>141158851307711951</EntityId>
                      <Min x="-5" y="0" z="9" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>136333922176858745</EntityId>
                      <Min x="-4" y="0" z="10" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>2</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
                      <SubtypeName>TimerBlockSmall</SubtypeName>
                      <EntityId>77442919804555034</EntityId>
                      <Min x="-5" y="1" z="9" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Timer Block</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>true</Enabled>
                      <Toolbar>
                        <ToolbarType>Character</ToolbarType>
                        <SelectedSlot xsi:nil="true" />
                        <Slots>
                          <Slot>
                            <Index>0</Index>
                            <Item />
                            <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                              <Action>Safety</Action>
                              <GridEntityId>0</GridEntityId>
                              <BlockEntityId>77442919804555034</BlockEntityId>
                              <GroupName>Depth Charge Explosives</GroupName>
                            </Data>
                          </Slot>
                          <Slot>
                            <Index>1</Index>
                            <Item />
                            <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                              <Action>OnOff_Off</Action>
                              <GridEntityId>0</GridEntityId>
                              <BlockEntityId>77442919804555034</BlockEntityId>
                              <GroupName>Depth Charge Merge</GroupName>
                            </Data>
                          </Slot>
                          <Slot>
                            <Index>8</Index>
                            <Item />
                            <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                              <Action>Start</Action>
                              <GridEntityId>0</GridEntityId>
                              <BlockEntityId>77442919804555034</BlockEntityId>
                              <GroupName>Explosion Timer</GroupName>
                            </Data>
                          </Slot>
                        </Slots>
                        <SlotsGamepad />
                      </Toolbar>
                      <Delay>10000</Delay>
                      <CurrentTime>0</CurrentTime>
                      <IsCountingDown>false</IsCountingDown>
                      <Silent>false</Silent>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>132003424817893582</EntityId>
                      <Min x="-5" y="0" z="10" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>3</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
                      <Min x="-6" y="0" z="9" />
                      <BlockOrientation Forward="Backward" Up="Left" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>125408543851322535</EntityId>
                      <Min x="-4" y="1" z="10" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>4</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
                      <Min x="-4" y="0" z="11" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>86071928669822172</EntityId>
                      <Min x="-5" y="1" z="10" />
                      <BlockOrientation Forward="Up" Up="Forward" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Small Battery</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>136605119059217418</EntityId>
                      <Min x="-5" y="2" z="9" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>5</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
                      <Min x="-6" y="1" z="9" />
                      <BlockOrientation Forward="Right" Up="Forward" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>73068145776465690</EntityId>
                      <Min x="-5" y="0" z="11" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>6</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>81319104181636389</EntityId>
                      <Min x="-6" y="0" z="10" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>7</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
                      <Min x="-4" y="1" z="11" />
                      <BlockOrientation Forward="Left" Up="Backward" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>75300752028903186</EntityId>
                      <Min x="-4" y="2" z="10" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>8</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SensorBlock">
                      <SubtypeName>SmallBlockSensor</SubtypeName>
                      <EntityId>107814747752312478</EntityId>
                      <Min x="-4" y="1" z="9" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                      <CustomName>Depth Charge Sensor</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>true</Enabled>
                      <FieldMin x="-5" y="-5" z="-5" />
                      <FieldMax x="5" y="5" z="5" />
                      <Toolbar>
                        <ToolbarType>Character</ToolbarType>
                        <SelectedSlot xsi:nil="true" />
                        <Slots>
                          <Slot>
                            <Index>0</Index>
                            <Item />
                            <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                              <Action>Detonate</Action>
                              <GridEntityId>0</GridEntityId>
                              <BlockEntityId>107814747752312478</BlockEntityId>
                              <GroupName>Depth Charge Explosives</GroupName>
                            </Data>
                          </Slot>
                        </Slots>
                        <SlotsGamepad />
                      </Toolbar>
                      <PlaySound>true</PlaySound>
                      <DetectPlayers>false</DetectPlayers>
                      <DetectFloatingObjects>false</DetectFloatingObjects>
                      <DetectSmallShips>true</DetectSmallShips>
                      <DetectLargeShips>true</DetectLargeShips>
                      <DetectStations>false</DetectStations>
                      <DetectSubgrids>false</DetectSubgrids>
                      <IsActive>false</IsActive>
                      <DetectAsteroids>false</DetectAsteroids>
                      <DetectOwner>false</DetectOwner>
                      <DetectFriendly>false</DetectFriendly>
                      <DetectNeutral>false</DetectNeutral>
                      <DetectEnemy>true</DetectEnemy>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>113244351783657655</EntityId>
                      <Min x="-5" y="2" z="10" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>9</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
                      <SubtypeName>TimerBlockSmall</SubtypeName>
                      <EntityId>138999808616037976</EntityId>
                      <Min x="-6" y="1" z="10" />
                      <BlockOrientation Forward="Left" Up="Up" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Explosion Timer</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>2</NumberInGrid>
                      <Enabled>true</Enabled>
                      <Toolbar>
                        <ToolbarType>Character</ToolbarType>
                        <SelectedSlot xsi:nil="true" />
                        <Slots>
                          <Slot>
                            <Index>0</Index>
                            <Item />
                            <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                              <Action>Detonate</Action>
                              <GridEntityId>0</GridEntityId>
                              <BlockEntityId>138999808616037976</BlockEntityId>
                              <GroupName>Depth Charge Explosives</GroupName>
                            </Data>
                          </Slot>
                        </Slots>
                        <SlotsGamepad />
                      </Toolbar>
                      <Delay>30000</Delay>
                      <CurrentTime>0</CurrentTime>
                      <IsCountingDown>false</IsCountingDown>
                      <Silent>false</Silent>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MergeBlock">
                      <SubtypeName>SmallShipSmallMergeBlock</SubtypeName>
                      <EntityId>75529100050658860</EntityId>
                      <Min x="-5" y="1" z="11" />
                      <BlockOrientation Forward="Down" Up="Backward" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge  Merge Block</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>true</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
                      <Min x="-6" y="2" z="9" />
                      <BlockOrientation Forward="Backward" Up="Left" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
                      <Min x="-4" y="2" z="9" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
                      <Min x="-6" y="0" z="11" />
                      <BlockOrientation Forward="Forward" Up="Left" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
                      <Min x="-4" y="2" z="11" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>112560599850443275</EntityId>
                      <Min x="-5" y="2" z="11" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>11</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>102684515858111886</EntityId>
                      <Min x="-6" y="2" z="10" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="0" />
                      <CustomName>Depth Charge Warhead</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>12</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
                      <Min x="-6" y="1" z="11" />
                      <BlockOrientation Forward="Right" Up="Backward" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
                      <Min x="-6" y="2" z="11" />
                      <BlockOrientation Forward="Forward" Up="Left" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                  </CubeBlocks>
                  <LinearVelocity x="-0.00551137654" y="-0.0518619977" z="-0.02888156" />
                  <AngularVelocity x="-0.00441759126" y="-0.0007053845" z="0.003226643" />
                  <BlockGroups>
                    <MyObjectBuilder_BlockGroup>
                      <Name>Depth Charge Merge</Name>
                      <Blocks>
                        <Vector3I>
                          <X>-5</X>
                          <Y>1</Y>
                          <Z>11</Z>
                        </Vector3I>
                      </Blocks>
                    </MyObjectBuilder_BlockGroup>
                    <MyObjectBuilder_BlockGroup>
                      <Name>Deploy Depth Charge</Name>
                      <Blocks>
                        <Vector3I>
                          <X>-5</X>
                          <Y>1</Y>
                          <Z>9</Z>
                        </Vector3I>
                      </Blocks>
                    </MyObjectBuilder_BlockGroup>
                    <MyObjectBuilder_BlockGroup>
                      <Name>Depth Charge Explosives</Name>
                      <Blocks>
                        <Vector3I>
                          <X>-5</X>
                          <Y>0</Y>
                          <Z>9</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-4</X>
                          <Y>0</Y>
                          <Z>10</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-5</X>
                          <Y>0</Y>
                          <Z>10</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-4</X>
                          <Y>1</Y>
                          <Z>10</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-5</X>
                          <Y>2</Y>
                          <Z>9</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-5</X>
                          <Y>0</Y>
                          <Z>11</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-6</X>
                          <Y>0</Y>
                          <Z>10</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-4</X>
                          <Y>2</Y>
                          <Z>10</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-5</X>
                          <Y>2</Y>
                          <Z>10</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-5</X>
                          <Y>2</Y>
                          <Z>11</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-6</X>
                          <Y>2</Y>
                          <Z>10</Z>
                        </Vector3I>
                      </Blocks>
                    </MyObjectBuilder_BlockGroup>
                    <MyObjectBuilder_BlockGroup>
                      <Name>Explosion Timer</Name>
                      <Blocks>
                        <Vector3I>
                          <X>-6</X>
                          <Y>1</Y>
                          <Z>10</Z>
                        </Vector3I>
                      </Blocks>
                    </MyObjectBuilder_BlockGroup>
                  </BlockGroups>
                  <DisplayName>IFM Depth Charge</DisplayName>
                  <DestructibleBlocks>true</DestructibleBlocks>
                  <CreatePhysics>false</CreatePhysics>
                  <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
                  <IsRespawnGrid>false</IsRespawnGrid>
                  <LocalCoordSys>0</LocalCoordSys>
                  <TargetingTargets />
                </MyObjectBuilder_CubeGrid>
              </ProjectedGrids>
              <ProjectionOffset>
                <X>-1</X>
                <Y>-2</Y>
                <Z>4</Z>
              </ProjectionOffset>
              <ProjectionRotation>
                <X>0</X>
                <Y>0</Y>
                <Z>1</Z>
              </ProjectionRotation>
              <KeepProjection>true</KeepProjection>
              <ShowOnlyBuildable>false</ShowOnlyBuildable>
              <InstantBuildingEnabled>false</InstantBuildingEnabled>
              <MaxNumberOfProjections>5</MaxNumberOfProjections>
              <MaxNumberOfBlocks>200</MaxNumberOfBlocks>
              <ProjectionsRemaining>0</ProjectionsRemaining>
              <GetOwnershipFromProjector>false</GetOwnershipFromProjector>
              <Scale>1</Scale>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-5" y="1" z="13" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MergeBlock">
              <SubtypeName>SmallShipSmallMergeBlock</SubtypeName>
              <EntityId>72734481602803570</EntityId>
              <Min x="-5" y="1" z="12" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Deployer Merge</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-3" y="4" z="0" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-2" y="1" z="12" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="-3" y="1" z="12" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="-4" y="1" z="12" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="3" z="0" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="-2" y="1" z="3" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="3" z="0" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TerminalBlock">
              <SubtypeName>SmallControlPanel</SubtypeName>
              <EntityId>102775877187123988</EntityId>
              <Min x="-4" y="3" z="12" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TerminalBlock">
              <SubtypeName>SmallControlPanel</SubtypeName>
              <EntityId>73330066061340736</EntityId>
              <Min x="-2" y="1" z="13" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Control Panel</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-3" y="4" z="1" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ButtonPanel">
              <SubtypeName>ButtonPanelSmall</SubtypeName>
              <EntityId>72242903627615572</EntityId>
              <Min x="-3" y="4" z="3" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TriggerNow</Action>
                      <BlockEntityId>131410373713681183</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <AnyoneCanUse>false</AnyoneCanUse>
              <CustomButtonNames>
                <dictionary>
                  <item>
                    <Key>0</Key>
                    <Value>Depth Charge Auto Timer Block - Trigger now</Value>
                  </item>
                </dictionary>
              </CustomButtonNames>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ButtonPanel">
              <SubtypeName>ButtonPanelSmall</SubtypeName>
              <EntityId>80222759457278574</EntityId>
              <Min x="-3" y="4" z="2" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>Stop</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>80222759457278574</BlockEntityId>
                      <GroupName>Depth Charge Deployer Timers</GroupName>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <AnyoneCanUse>false</AnyoneCanUse>
              <CustomButtonNames>
                <dictionary>
                  <item>
                    <Key>0</Key>
                    <Value>Depth Charge Deployer Timers</Value>
                  </item>
                </dictionary>
              </CustomButtonNames>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="-1" z="0" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="-1" z="0" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-3" y="-2" z="0" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-3" y="-2" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-3" y="-2" z="2" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-3" y="-2" z="3" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCorner2Tip</SubtypeName>
              <Min x="-3" y="-2" z="4" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCorner2Tip</SubtypeName>
              <Min x="-3" y="4" z="4" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TerminalBlock">
              <SubtypeName>SmallControlPanel</SubtypeName>
              <EntityId>105667596822903562</EntityId>
              <Min x="-4" y="-1" z="12" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MergeBlock">
              <SubtypeName>SmallShipSmallMergeBlock</SubtypeName>
              <EntityId>130064473479774197</EntityId>
              <Min x="-5" y="1" z="11" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge  Merge Block</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>87165483900880345</EntityId>
              <Min x="-5" y="1" z="10" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Small Battery</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-6" y="1" z="11" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-4" y="1" z="11" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>117010885669929915</EntityId>
              <Min x="-5" y="0" z="11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>11</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>91039147567912211</EntityId>
              <Min x="-5" y="2" z="11" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockSmall</SubtypeName>
              <EntityId>108066597864430550</EntityId>
              <Min x="-5" y="1" z="9" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Timer Block</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>Safety</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>108066597864430550</BlockEntityId>
                      <GroupName>Depth Charge Explosives</GroupName>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>OnOff_Off</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>108066597864430550</BlockEntityId>
                      <GroupName>Depth Charge Merge</GroupName>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>8</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>Start</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>108066597864430550</BlockEntityId>
                      <GroupName>Explosion Timer</GroupName>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>10000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>130714803791417979</EntityId>
              <Min x="-6" y="1" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
              <Min x="-6" y="2" z="11" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
              <Min x="-6" y="0" z="11" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
              <Min x="-4" y="2" z="11" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockSmall</SubtypeName>
              <EntityId>81525704937273797</EntityId>
              <Min x="-4" y="1" z="10" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Explosion Timer</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>Detonate</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>81525704937273797</BlockEntityId>
                      <GroupName>Depth Charge Explosives</GroupName>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>30000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
              <Min x="-4" y="0" z="11" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>101748412491197024</EntityId>
              <Min x="-5" y="0" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>9</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>102646974710393346</EntityId>
              <Min x="-5" y="2" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SensorBlock">
              <SubtypeName>SmallBlockSensor</SubtypeName>
              <EntityId>131370561788500804</EntityId>
              <Min x="-6" y="1" z="9" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Sensor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <FieldMin x="-5" y="-5" z="-5" />
              <FieldMax x="5" y="5" z="5" />
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>Detonate</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>131370561788500804</BlockEntityId>
                      <GroupName>Depth Charge Explosives</GroupName>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <PlaySound>true</PlaySound>
              <DetectPlayers>false</DetectPlayers>
              <DetectFloatingObjects>false</DetectFloatingObjects>
              <DetectSmallShips>true</DetectSmallShips>
              <DetectLargeShips>true</DetectLargeShips>
              <DetectStations>false</DetectStations>
              <DetectSubgrids>false</DetectSubgrids>
              <IsActive>false</IsActive>
              <DetectAsteroids>false</DetectAsteroids>
              <DetectOwner>false</DetectOwner>
              <DetectFriendly>false</DetectFriendly>
              <DetectNeutral>false</DetectNeutral>
              <DetectEnemy>true</DetectEnemy>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>124387291518800836</EntityId>
              <Min x="-6" y="2" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>123040769604422201</EntityId>
              <Min x="-6" y="0" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>8</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>107136978904184552</EntityId>
              <Min x="-4" y="2" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-4" y="1" z="9" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>102363752322894861</EntityId>
              <Min x="-4" y="0" z="10" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>12</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>131523501736218776</EntityId>
              <Min x="-5" y="0" z="9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>135343844114214640</EntityId>
              <Min x="-5" y="2" z="9" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Depth Charge Warhead</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
              <Min x="-6" y="2" z="9" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
              <Min x="-6" y="0" z="9" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
              <Min x="-4" y="2" z="9" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorRoundSlope</SubtypeName>
              <Min x="-4" y="0" z="9" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0257663876" y="-0.007583216" z="0.111737847" />
          <AngularVelocity x="0.008403727" y="0.00262881676" z="0.00165107148" />
          <YMirroxPlane x="1" y="1" z="1" />
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>Depth Charge Deployer Timers</Name>
              <Blocks>
                <Vector3I>
                  <X>-1</X>
                  <Y>2</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>0</Y>
                  <Z>2</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Depth Charge Merge</Name>
              <Blocks>
                <Vector3I>
                  <X>-5</X>
                  <Y>1</Y>
                  <Z>11</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Deploy Depth Charge</Name>
              <Blocks>
                <Vector3I>
                  <X>-5</X>
                  <Y>1</Y>
                  <Z>9</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Explosion Timer</Name>
              <Blocks>
                <Vector3I>
                  <X>-4</X>
                  <Y>1</Y>
                  <Z>10</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Depth Charge Explosives</Name>
              <Blocks>
                <Vector3I>
                  <X>-5</X>
                  <Y>2</Y>
                  <Z>9</Z>
                </Vector3I>
                <Vector3I>
                  <X>-5</X>
                  <Y>0</Y>
                  <Z>9</Z>
                </Vector3I>
                <Vector3I>
                  <X>-4</X>
                  <Y>0</Y>
                  <Z>10</Z>
                </Vector3I>
                <Vector3I>
                  <X>-4</X>
                  <Y>2</Y>
                  <Z>10</Z>
                </Vector3I>
                <Vector3I>
                  <X>-6</X>
                  <Y>0</Y>
                  <Z>10</Z>
                </Vector3I>
                <Vector3I>
                  <X>-6</X>
                  <Y>2</Y>
                  <Z>10</Z>
                </Vector3I>
                <Vector3I>
                  <X>-5</X>
                  <Y>2</Y>
                  <Z>10</Z>
                </Vector3I>
                <Vector3I>
                  <X>-5</X>
                  <Y>0</Y>
                  <Z>10</Z>
                </Vector3I>
                <Vector3I>
                  <X>-6</X>
                  <Y>1</Y>
                  <Z>10</Z>
                </Vector3I>
                <Vector3I>
                  <X>-5</X>
                  <Y>2</Y>
                  <Z>11</Z>
                </Vector3I>
                <Vector3I>
                  <X>-5</X>
                  <Y>0</Y>
                  <Z>11</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Small Grid 5856</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>84179522341853221</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>84179522341853221</Name>
          <PositionAndOrientation>
            <Position x="-6.8254928588867188" y="14.843052864074707" z="-4.169497013092041" />
            <Forward x="0.5097206" y="-0.8346731" z="-0.208579391" />
            <Up x="0.08302604" y="0.289029241" z="-0.953713" />
            <Orientation>
              <X>-0.5828198</X>
              <Y>-0.236709461</Y>
              <Z>0.12572363</Z>
              <W>0.7671266</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Large</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>LargeAdvancedRotor</SubtypeName>
              <EntityId>112333586699677520</EntityId>
              <ParentEntityId>118614246216706929</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>LargeHinge</SubtypeName>
              <EntityId>137467349800875158</EntityId>
              <Min x="0" y="1" z="0" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[Turret Slaver - Rotor Config]
Use manual rest angle=false
Manual rest angle (deg)=0

[TCES - Rotor]
Rest angle (deg)=none
Enable stabilization=True
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Hinge Ele</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>77165403708358943</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0</TargetVelocity>
              <MinAngle>-1.57079637</MinAngle>
              <MaxAngle>1.57079637</MaxAngle>
              <CurrentAngle>-0.007968904</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0171060935" y="-0.0116597079" z="0.102150261" />
          <AngularVelocity x="0.0004897703" y="-0.00124463532" z="-0.000288580661" />
          <ConveyorLines>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="0" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="1" z="0" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
          </ConveyorLines>
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>AA Turrets</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>AA Rear TG</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Large Grid 374</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>114320251894680483</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>114320251894680483</Name>
          <PositionAndOrientation>
            <Position x="-5.5979385375976563" y="12.682343482971191" z="-4.5078945159912109" />
            <Forward x="0.083292976" y="0.2885786" z="-0.953826368" />
            <Up x="-0.863393843" y="-0.457048744" z="-0.21367535" />
            <Orientation>
              <X>0.0374671742</X>
              <Y>-0.147251621</Y>
              <Z>0.8527137</Z>
              <W>0.499792457</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Large</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>LargeHingeHead</SubtypeName>
              <EntityId>114648181789307347</EntityId>
              <ParentEntityId>110616492787757513</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="0" z="0" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_PistonTop">
              <SubtypeName>LargePistonTop</SubtypeName>
              <EntityId>131181770005737771</EntityId>
              <Min x="-1" y="0" z="-1" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ParentEntityId>0</ParentEntityId>
              <YieldLastComponent>true</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.015945144" y="-0.0139507651" z="0.107467979" />
          <AngularVelocity x="0.00199968973" y="-0.000645246648" z="0.0007366723" />
          <DisplayName>Large Grid 4432</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>91559814214874661</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>91559814214874661</Name>
          <PositionAndOrientation>
            <Position x="11.007488250732422" y="-13.152837753295898" z="-16.343955993652344" />
            <Forward x="-0.484720767" y="0.8478941" z="0.214759052" />
            <Up x="0.0830277652" y="0.289026618" z="-0.9537138" />
            <Orientation>
              <X>-0.117274344</X>
              <Y>0.770471454</Y>
              <Z>-0.5845797</Z>
              <W>0.2255816</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Large</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>LargeAdvancedRotor</SubtypeName>
              <EntityId>111955687308109308</EntityId>
              <ParentEntityId>116565481844306448</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>LargeHinge</SubtypeName>
              <EntityId>116323768966998470</EntityId>
              <Min x="0" y="1" z="0" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[Turret Slaver - Rotor Config]
Use manual rest angle=false
Manual rest angle (deg)=0

[TCES - Rotor]
Rest angle (deg)=none
Enable stabilization=True
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>AA Hinge Ele</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>106493473749395014</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0</TargetVelocity>
              <MinAngle>-1.57079637</MinAngle>
              <MaxAngle>1.57079637</MaxAngle>
              <CurrentAngle>-0.008626216</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0124014392" y="0.0180694759" z="0.047682777" />
          <AngularVelocity x="0.004927554" y="0.0006700071" z="0.0006297886" />
          <ConveyorLines>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="0" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="1" z="0" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>LARGE_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
          </ConveyorLines>
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>AA Turrets</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>AA Front TG</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Large Grid 6165</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>103290526997864925</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>103290526997864925</Name>
          <PositionAndOrientation>
            <Position x="3.5261154174804688" y="-0.59302186965942383" z="-12.979413032531738" />
            <Forward x="0.4345009" y="-0.458319843" z="-0.775339842" />
            <Up x="0.8633938" y="0.457049042" z="0.213675216" />
            <Orientation>
              <X>-0.07753694</X>
              <Y>-0.326064557</Y>
              <Z>-0.51523155</Z>
              <W>0.7888006</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Large</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>LargeHingeHead</SubtypeName>
              <EntityId>118012806360755192</EntityId>
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
              <ParentEntityId>140794720924271742</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RadioAntenna">
              <SubtypeName>LargeBlockRadioAntenna</SubtypeName>
              <EntityId>106847422117279151</EntityId>
              <Min x="-6" y="0" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <BroadcastRadius>1</BroadcastRadius>
              <ShowShipName>false</ShowShipName>
              <EnableBroadcasting>true</EnableBroadcasting>
              <AttachedPB>0</AttachedPB>
              <IgnoreAllied>false</IgnoreAllied>
              <IgnoreOther>true</IgnoreOther>
              <HudText>IFMN Holt Class Destroyer</HudText>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>LargeBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="0" z="1" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.3" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.00741072372" y="0.004405968" z="0.0807039142" />
          <AngularVelocity x="0.000407562358" y="-0.000998401" z="-0.0006621112" />
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>Fire Control</Name>
              <Blocks>
                <Vector3I>
                  <X>-3</X>
                  <Y>0</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Large Grid 8115</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>98118146682864006</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>98118146682864006</Name>
          <PositionAndOrientation>
            <Position x="6.4369583129882813" y="-3.3026015758514404" z="-18.957450866699219" />
            <Forward x="0.497652054" y="-0.8411712" z="-0.211596757" />
            <Up x="0.0830276459" y="0.2890274" z="-0.9537135" />
            <Orientation>
              <X>-0.583688557</X>
              <Y>-0.2313206</Y>
              <Z>0.121630147</Z>
              <W>0.7687682</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Large</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_PistonTop">
              <SubtypeName>LargePistonTop</SubtypeName>
              <EntityId>119345776416273407</EntityId>
              <ParentEntityId>97416665121522321</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorStator">
              <SubtypeName>LargeStator</SubtypeName>
              <EntityId>136796336314995357</EntityId>
              <Min x="0" y="1" z="0" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[TCES - Rotor]
Rest angle (deg)=0
Enable stabilization=True

[Turret Slaver - Rotor Config]
Use manual rest angle=false
Manual rest angle (deg)=0
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Targeting Camera Azimuth Rotor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>92262572848001619</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0</TargetVelocity>
              <MinAngle xsi:nil="true" />
              <MaxAngle xsi:nil="true" />
              <CurrentAngle>6.26642752</CurrentAngle>
              <LimitsActive>false</LimitsActive>
              <DummyDisplacement>0.04</DummyDisplacement>
              <RotorLock>false</RotorLock>
              <Torque>3.36E+07</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0113560371" y="0.020880565" z="0.08330357" />
          <AngularVelocity x="0.00233452348" y="-0.0005577018" z="2.995404E-05" />
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>Targeting Camera TG</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Large Grid 2793</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>99187954493917691</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>99187954493917691</Name>
          <PositionAndOrientation>
            <Position x="8.9527015686035156" y="-7.4379515647888184" z="-20.2653169631958" />
            <Forward x="0.0783405" y="-0.9559509" z="-0.282879144" />
            <Up x="0.08302883" y="0.2890218" z="-0.953715146" />
            <Orientation>
              <X>-0.5961464</X>
              <Y>-0.0563017055</Y>
              <Z>-0.009927553</Z>
              <W>0.8008377</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorRotor">
              <SubtypeName>SmallRotor</SubtypeName>
              <EntityId>120448036180972741</EntityId>
              <ParentEntityId>104536656061951885</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Beacon">
              <SubtypeName>SmallBlockBeacon</SubtypeName>
              <EntityId>132167673073181947</EntityId>
              <Min x="0" y="1" z="0" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <BroadcastRadius>20000</BroadcastRadius>
              <HudText />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="1" y="1" z="0" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="1" y="2" z="0" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="-1" y="2" z="0" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="-1" y="1" z="0" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="2" z="0" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="1" z="0" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="2" z="0" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="1" z="0" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0.4" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>BarredWindow</SubtypeName>
              <EntityId>108431955510648939</EntityId>
              <Min x="-1" y="1" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.2777778" y="-0.9558823" z="0.06666672" />
              <SkinSubtypeId>Silver_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>BarredWindow</SubtypeName>
              <EntityId>125877910770709893</EntityId>
              <Min x="2" y="1" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.2777778" y="-0.9558823" z="0.06666672" />
              <SkinSubtypeId>Silver_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>BarredWindow</SubtypeName>
              <EntityId>103356286146750766</EntityId>
              <Min x="-2" y="1" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.2777778" y="-0.9558823" z="0.06666672" />
              <SkinSubtypeId>Silver_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>BarredWindow</SubtypeName>
              <EntityId>79929293232422369</EntityId>
              <Min x="2" y="2" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.2777778" y="-0.9558823" z="0.06666672" />
              <SkinSubtypeId>Silver_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>BarredWindow</SubtypeName>
              <EntityId>109291756227198813</EntityId>
              <Min x="1" y="2" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.2777778" y="-0.9558823" z="0.06666672" />
              <SkinSubtypeId>Silver_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>BarredWindow</SubtypeName>
              <EntityId>109885000782140167</EntityId>
              <Min x="-1" y="2" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.2777778" y="-0.9558823" z="0.06666672" />
              <SkinSubtypeId>Silver_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>BarredWindow</SubtypeName>
              <EntityId>121091934855260773</EntityId>
              <Min x="1" y="1" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.2777778" y="-0.9558823" z="0.06666672" />
              <SkinSubtypeId>Silver_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.104417175" y="0.04158075" z="0.07204577" />
          <AngularVelocity x="-0.0397528745" y="-0.151899457" z="0.499349475" />
          <XMirroxPlane x="0" y="1" z="0" />
          <DisplayName>Small Grid 860</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>73104282066182385</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>73104282066182385</Name>
          <PositionAndOrientation>
            <Position x="4.1732406616210938" y="-4.7741081714630127" z="-6.6509929895401" />
            <Forward x="0.510030568" y="-0.8345035" z="-0.208501026" />
            <Up x="0.0830263942" y="0.289029479" z="-0.953713" />
            <Orientation>
              <X>-0.582797</X>
              <Y>-0.236848384</Y>
              <Z>0.125828937</Z>
              <W>0.7670838</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorRotor">
              <SubtypeName>SmallRotor</SubtypeName>
              <EntityId>116955620538889546</EntityId>
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ParentEntityId>114492832514471738</ParentEntityId>
              <YieldLastComponent>true</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="1" z="0" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="2" z="0" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MergeBlock">
              <SubtypeName>SmallShipSmallMergeBlock</SubtypeName>
              <EntityId>117599817900738906</EntityId>
              <Min x="0" y="3" z="0" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Forward Torpedo MB</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="1" y="2" z="0" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="2" z="1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="0" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="2" z="-1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="1" y="2" z="1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="1" y="2" z="-1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="0" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="2" z="2" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="-1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="0" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="2" z="-2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="1" y="2" z="2" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="1" y="2" z="-2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="3" z="0" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="2" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="-2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="2" y="2" z="2" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="3" z="1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="3" z="-1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TurretControlBlock">
              <SubtypeName>SmallTurretControlBlock</SubtypeName>
              <EntityId>94568370918740517</EntityId>
              <Min x="3" y="3" z="0" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MySunTrackingComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_SunTrackingComponent">
                      <SunTrackingEnabled>false</SunTrackingEnabled>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[LAMP - Text Surface Config]
Show on screen 0=true
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Forward Torpedo CTC</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>SCRIPT</ContentType>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <CustomizeScripts>true</CustomizeScripts>
                  <ScriptBackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <AzimuthId>103927462724497365</AzimuthId>
              <ElevationId>0</ElevationId>
              <CameraId>93724303239184311</CameraId>
              <ToolIds />
              <VelocityMultiplierAzimuth>0.5</VelocityMultiplierAzimuth>
              <VelocityMultiplierElevation>0.3</VelocityMultiplierElevation>
              <PreviousControlledEntityId xsi:nil="true" />
              <IsCorrect>true</IsCorrect>
              <TargetingGroup />
              <AngleDeviation>0.087222</AngleDeviation>
              <DirectionBlockId>93636950519669692</DirectionBlockId>
              <AreWeaponsMismatched>false</AreWeaponsMismatched>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <AllowAI>true</AllowAI>
              <Flags>
                <TargetMeteors>false</TargetMeteors>
                <TargetCharacters>false</TargetCharacters>
              </Flags>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="2" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-2" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="3" z="-1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Cockpit">
              <SubtypeName>SmallBlockStandingCockpit</SubtypeName>
              <EntityId>129328040424608336</EntityId>
              <Min x="3" y="3" z="-3" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Forward Torpedo Helm</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Control</Action>
                      <BlockEntityId>94568370918740517</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>AI</Action>
                      <BlockEntityId>94568370918740517</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Control</Action>
                      <BlockEntityId>94568370918740517</BlockEntityId>
                    </Data>
                  </Slot>
                </SlotsGamepad>
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <PilotRelativeWorld>
                <Position x="-1.2463642358779907" y="-1.228503942489624" z="0.25108867883682251" />
                <Forward x="0.840611339" y="0.0126793357" z="-0.5414903" />
                <Up x="-0.008091773" y="0.9999084" z="0.0108517874" />
                <Orientation>
                  <X>0.006700814</X>
                  <Y>-0.478758782</Y>
                  <Z>0.0009543161</Z>
                  <W>0.8779204</W>
                </Orientation>
              </PilotRelativeWorld>
              <PilotGunDefinition xsi:nil="true" />
              <IsInFirstPersonView>true</IsInFirstPersonView>
              <OxygenLevel>0</OxygenLevel>
              <PilotJetpackEnabled xsi:nil="true" />
              <TextPanels>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>SCRIPT</ContentType>
                  <SelectedScript>TSS_EnergyHydrogen</SelectedScript>
                  <TextPadding>2</TextPadding>
                  <CustomizeScripts>true</CustomizeScripts>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>SCRIPT</ContentType>
                  <SelectedScript>TSS_Velocity</SelectedScript>
                  <TextPadding>2</TextPadding>
                  <CustomizeScripts>true</CustomizeScripts>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanels>
              <TargetData>
                <TargetId>0</TargetId>
                <IsTargetLocked>false</IsTargetLocked>
                <LockingProgress>0</LockingProgress>
              </TargetData>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RadioAntenna">
              <SubtypeName>SmallBlockRadioAntenna</SubtypeName>
              <EntityId>97737530087781967</EntityId>
              <Min x="3" y="4" z="0" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Forward Torpedo Antenna</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <BroadcastRadius>1</BroadcastRadius>
              <ShowShipName>false</ShowShipName>
              <EnableBroadcasting>true</EnableBroadcasting>
              <AttachedPB>0</AttachedPB>
              <IgnoreAllied>false</IgnoreAllied>
              <IgnoreOther>true</IgnoreOther>
              <HudText />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Projector">
              <SubtypeName>SmallProjector</SubtypeName>
              <EntityId>129200974940950729</EntityId>
              <Min x="3" y="3" z="2" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Forward Torpedo Projector</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <ProjectedGrids>
                <MyObjectBuilder_CubeGrid>
                  <SubtypeName />
                  <EntityId>129243547971133200</EntityId>
                  <PersistentFlags>CastShadows InScene</PersistentFlags>
                  <Name>129243547971133200</Name>
                  <PositionAndOrientation>
                    <Position x="0" y="0" z="0" />
                    <Forward x="0.9620683" y="0.22782588" z="0.150065064" />
                    <Up x="-0.128525019" y="0.8637202" z="-0.487307668" />
                    <Orientation>
                      <X>-0.106898747</X>
                      <Y>-0.7507365</Y>
                      <Z>0.23814404</Z>
                      <W>0.6068401</W>
                    </Orientation>
                  </PositionAndOrientation>
                  <LocalPositionAndOrientation xsi:nil="true" />
                  <GridSizeEnum>Small</GridSizeEnum>
                  <CubeBlocks>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MergeBlock">
                      <SubtypeName>SmallShipSmallMergeBlock</SubtypeName>
                      <EntityId>124900998370719356</EntityId>
                      <Min x="-2" y="0" z="0" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Small Merge Block</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>true</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>124206185931622534</EntityId>
                      <Min x="-2" y="0" z="1" />
                      <BlockOrientation Forward="Up" Up="Left" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Small Battery 3</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RemoteControl">
                      <SubtypeName>SmallBlockRemoteControl</SubtypeName>
                      <EntityId>112068802594720803</EntityId>
                      <Min x="-3" y="0" z="2" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyAutopilotComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_AutopilotComponent">
                              <AutoPilotEnabled>false</AutoPilotEnabled>
                              <FlightMode>0</FlightMode>
                              <CurrentWaypointIndex>-1</CurrentWaypointIndex>
                              <Waypoints />
                              <DockingModeEnabled>false</DockingModeEnabled>
                              <CollisionAvoidance>false</CollisionAvoidance>
                              <Direction>0</Direction>
                              <AutopilotSpeedLimit>100</AutopilotSpeedLimit>
                              <WaitForFreeWay>false</WaitForFreeWay>
                              <WaypointThresholdDistance>0</WaypointThresholdDistance>
                              <Coords />
                              <Names />
                              <LookAtPosition xsi:nil="true" />
                              <FacingDirection>Forward</FacingDirection>
                              <AlignToGravity>true</AlignToGravity>
                              <MinHeightAboveTerrain>25</MinHeightAboveTerrain>
                              <IsWorkAreaReturningToStart>false</IsWorkAreaReturningToStart>
                              <WorkAreaStartForward>
                                <X>0</X>
                                <Y>0</Y>
                                <Z>0</Z>
                              </WorkAreaStartForward>
                              <PitchAngle>0</PitchAngle>
                              <RollAngle>0</RollAngle>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Torpedo 1) *RC*</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <UseSingleWeaponMode>false</UseSingleWeaponMode>
                      <Toolbar>
                        <ToolbarType>Character</ToolbarType>
                        <SelectedSlot xsi:nil="true" />
                        <Slots />
                        <SlotsGamepad />
                      </Toolbar>
                      <SelectedGunId xsi:nil="true" />
                      <BuildToolbar>
                        <ToolbarType>Character</ToolbarType>
                        <SelectedSlot xsi:nil="true" />
                        <Slots />
                        <SlotsGamepad />
                      </BuildToolbar>
                      <OnLockedToolbar>
                        <ToolbarType>Character</ToolbarType>
                        <SelectedSlot xsi:nil="true" />
                        <Slots />
                        <SlotsGamepad />
                      </OnLockedToolbar>
                      <IsTargetLockingEnabled>false</IsTargetLockingEnabled>
                      <PreviousControlledEntityId xsi:nil="true" />
                      <AutoPilotEnabled>false</AutoPilotEnabled>
                      <FlightMode>0</FlightMode>
                      <BindedCamera>0</BindedCamera>
                      <CurrentWaypointIndex>-1</CurrentWaypointIndex>
                      <Waypoints />
                      <Direction>0</Direction>
                      <DockingModeEnabled>false</DockingModeEnabled>
                      <CollisionAvoidance>false</CollisionAvoidance>
                      <Coords />
                      <Names />
                      <WaypointThresholdDistance>0</WaypointThresholdDistance>
                      <IsMainRemoteControl>false</IsMainRemoteControl>
                      <WaitForFreeWay>false</WaitForFreeWay>
                      <IsUpdatedSave>true</IsUpdatedSave>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>143645844968835526</EntityId>
                      <Min x="-3" y="0" z="3" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Warhead 1</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>129905375977519723</EntityId>
                      <Min x="-3" y="-1" z="2" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Warhead 2</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>2</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
                      <SubtypeName>SmallWarhead</SubtypeName>
                      <EntityId>78976439828893588</EntityId>
                      <Min x="-3" y="1" z="2" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Warhead 3</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>3</NumberInGrid>
                      <CountdownMs>10000</CountdownMs>
                      <IsArmed>false</IsArmed>
                      <IsCountingDown>false</IsCountingDown>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>100584537126590694</EntityId>
                      <Min x="-3" y="1" z="1" />
                      <BlockOrientation Forward="Left" Up="Up" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Small Battery 5</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>2</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>110954912758672616</EntityId>
                      <Min x="-3" y="-1" z="1" />
                      <BlockOrientation Forward="Left" Up="Up" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Small Battery 4</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>3</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>88784147221067594</EntityId>
                      <Min x="-3" y="1" z="3" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                      <CustomName>(Torpedo 1) Camera Front Starboard</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>118848980688634623</EntityId>
                      <Min x="-3" y="-1" z="3" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                      <CustomName>(Torpedo 1) Camera Front Port</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>2</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>75004290747599089</EntityId>
                      <Min x="-3" y="-1" z="0" />
                      <BlockOrientation Forward="Backward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Small Battery 6</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>4</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>82484763493217876</EntityId>
                      <Min x="-3" y="1" z="0" />
                      <BlockOrientation Forward="Backward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Small Battery 7</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>5</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>77956235282313157</EntityId>
                      <Min x="-3" y="0" z="4" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Camera Front</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>3</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RadioAntenna">
                      <SubtypeName>SmallBlockRadioAntenna</SubtypeName>
                      <EntityId>131652756745663901</EntityId>
                      <Min x="-2" y="0" z="2" />
                      <BlockOrientation Forward="Backward" Up="Left" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Antenna</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>false</Enabled>
                      <BroadcastRadius>1</BroadcastRadius>
                      <ShowShipName>false</ShowShipName>
                      <EnableBroadcasting>false</EnableBroadcasting>
                      <AttachedPB>0</AttachedPB>
                      <IgnoreAllied>false</IgnoreAllied>
                      <IgnoreOther>true</IgnoreOther>
                      <HudText />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
                      <Min x="-2" y="1" z="0" />
                      <BlockOrientation Forward="Down" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
                      <Min x="-2" y="-1" z="0" />
                      <BlockOrientation Forward="Up" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>85357891737935366</EntityId>
                      <Min x="-2" y="-1" z="1" />
                      <BlockOrientation Forward="Down" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                      <CustomName>(Torpedo 1) Camera Port</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>4</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorHalfSlopedCorner</SubtypeName>
                      <Min x="-2" y="1" z="2" />
                      <BlockOrientation Forward="Down" Up="Forward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorHalfSlopedCorner</SubtypeName>
                      <Min x="-2" y="-1" z="2" />
                      <BlockOrientation Forward="Left" Up="Forward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>84063189432515116</EntityId>
                      <Min x="-2" y="1" z="1" />
                      <BlockOrientation Forward="Up" Up="Right" />
                      <ColorMaskHSV x="0.06944445" y="0.2" z="0.55" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Camera Starboard</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>5</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>101670964414544348</EntityId>
                      <Min x="-3" y="-1" z="-1" />
                      <BlockOrientation Forward="Right" Up="Up" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Small Battery 1</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>6</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorBlock</SubtypeName>
                      <Min x="-3" y="0" z="-2" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
                      <Min x="-3" y="0" z="-3" />
                      <BlockOrientation Forward="Right" Up="Forward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
                      <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
                      <EntityId>113983008778496499</EntityId>
                      <Min x="-3" y="1" z="-1" />
                      <BlockOrientation Forward="Right" Up="Up" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Small Battery 2</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>7</NumberInGrid>
                      <Enabled>true</Enabled>
                      <CurrentStoredPower>0</CurrentStoredPower>
                      <ProducerEnabled>true</ProducerEnabled>
                      <MaxStoredPower>0</MaxStoredPower>
                      <SemiautoEnabled>false</SemiautoEnabled>
                      <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
                      <ChargeMode>0</ChargeMode>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
                      <Min x="-2" y="1" z="-1" />
                      <BlockOrientation Forward="Down" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
                      <Min x="-2" y="-1" z="-1" />
                      <BlockOrientation Forward="Up" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Gyro">
                      <SubtypeName>SmallBlockGyro</SubtypeName>
                      <EntityId>132651935756826979</EntityId>
                      <Min x="-3" y="0" z="1" />
                      <BlockOrientation Forward="Backward" Up="Left" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Gyroscope</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>true</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
                      <EntityId>104590098921895231</EntityId>
                      <Min x="-2" y="1" z="-2" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SensorBlock">
                      <SubtypeName>SmallBlockSensor</SubtypeName>
                      <EntityId>105762929768108939</EntityId>
                      <Min x="-4" y="0" z="-1" />
                      <BlockOrientation Forward="Left" Up="Backward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Sensor</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>true</Enabled>
                      <FieldMin x="-5" y="-5" z="-5" />
                      <FieldMax x="5" y="5" z="5" />
                      <Toolbar>
                        <ToolbarType>Character</ToolbarType>
                        <SelectedSlot xsi:nil="true" />
                        <Slots />
                        <SlotsGamepad />
                      </Toolbar>
                      <PlaySound>true</PlaySound>
                      <DetectPlayers>true</DetectPlayers>
                      <DetectFloatingObjects>false</DetectFloatingObjects>
                      <DetectSmallShips>false</DetectSmallShips>
                      <DetectLargeShips>false</DetectLargeShips>
                      <DetectStations>false</DetectStations>
                      <DetectSubgrids>false</DetectSubgrids>
                      <IsActive>true</IsActive>
                      <DetectAsteroids>false</DetectAsteroids>
                      <DetectOwner>true</DetectOwner>
                      <DetectFriendly>true</DetectFriendly>
                      <DetectNeutral>true</DetectNeutral>
                      <DetectEnemy>true</DetectEnemy>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
                      <EntityId>135358210980434805</EntityId>
                      <Min x="-2" y="-1" z="-4" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                      <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
                      <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
                      <EntityId>124011830436508966</EntityId>
                      <Min x="-4" y="1" z="-3" />
                      <BlockOrientation Forward="Backward" Up="Up" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
                      <EntityId>132958387751444898</EntityId>
                      <Min x="-2" y="1" z="-3" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
                      <EntityId>128231331158079158</EntityId>
                      <Min x="-2" y="1" z="-4" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                      <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
                      <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
                      <EntityId>139739524369529922</EntityId>
                      <Min x="-4" y="-1" z="1" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
                      <EntityId>133741806698826325</EntityId>
                      <Min x="-4" y="1" z="1" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
                      <EntityId>134676879085970651</EntityId>
                      <Min x="-4" y="-1" z="2" />
                      <BlockOrientation Forward="Down" Up="Backward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
                      <EntityId>108792427253107707</EntityId>
                      <Min x="-4" y="1" z="2" />
                      <BlockOrientation Forward="Up" Up="Backward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
                      <EntityId>88753078388095085</EntityId>
                      <Min x="-4" y="-1" z="3" />
                      <BlockOrientation Forward="Down" Up="Backward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
                      <EntityId>137897951940409457</EntityId>
                      <Min x="-4" y="1" z="3" />
                      <BlockOrientation Forward="Up" Up="Backward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
                      <EntityId>125068554616883931</EntityId>
                      <Min x="-4" y="0" z="1" />
                      <BlockOrientation Forward="Down" Up="Forward" />
                      <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
                      <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmorPanelLight</SubtypeName>
                      <EntityId>88404895881496541</EntityId>
                      <Min x="-4" y="0" z="3" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
                      <SubtypeName>SmallProgrammableBlock</SubtypeName>
                      <EntityId>108785796374418055</EntityId>
                      <Min x="-3" y="0" z="0" />
                      <BlockOrientation Forward="Right" Up="Backward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyModStorageComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                              <Storage>
                                <dictionary>
                                  <item>
                                    <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                                    <Value>[Names]
Auto-configure missile name=True
Missile name tag=Torpedo
Missile number=1
Fire control group name=Fire Control
Detach thruster name tag=Detach

[Delays]
Stage 1: Disconnect delay (s)=1
Guidance delay (s)=2
Stage 2: Detach duration (s)=0
Stage 3: Main ignition delay (s)=0

[Gyros]
Proportional gain=10
Integral gain=0
Derivative gain=10

[Homing Parameters]
; Valid guidance algorithms: ProNav, WhipNav, HybridNav, ZeroEffortMiss
Guidance algorithm=ProNav
Navigation constant=5
Acceleration constant=0
Max aim dispersion (m)=0
Topdown attack height (m)=1500

[Beam Riding Parameters]
Hit offset up (m)=0
Hit offset left (m)=0

[Evasion Parameters]
Spin rate (RPM)=0
Use spiral=False
; AKA "Drunken Missile Mode"
Use random flight path=True

[Spiral Parameters]
Spiral angle (deg)=15
Spiral time (sec)=3
Spiral activation range (m)=1000

[Random Fligh Path Parameters]
Direction change interval (sec)=0.5
Max acceleration ratio=0.25

[Raycast/Sensors]
Use cameras for homing=True
Tripwire range (m)=3.33
Minimum target size (m)=10
Minimum warhead arming range (m)=100
Ignore friendlies=False
Ignore planets=True
Ignore target ID for detonation=False

[Misc.]
Allow remote firing=False
; Valid antenna name modes: Meme, Empty, MissileName, MissileStatus
Antenna name mode=Meme
</Value>
                                  </item>
                                </dictionary>
                              </Storage>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Torpedo 1) PB WHAM</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>true</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>true</Enabled>
                      <TextPanelsNew>
                        <MySerializedTextPanelData>
                          <ChangeInterval>0</ChangeInterval>
                          <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                          <FontSize>1</FontSize>
                          <ShowText>NONE</ShowText>
                          <FontColor>
                            <PackedValue>4294967295</PackedValue>
                            <X>255</X>
                            <Y>255</Y>
                            <Z>255</Z>
                            <R>255</R>
                            <G>255</G>
                            <B>255</B>
                            <A>255</A>
                          </FontColor>
                          <BackgroundColor>
                            <PackedValue>4278190080</PackedValue>
                            <X>0</X>
                            <Y>0</Y>
                            <Z>0</Z>
                            <R>0</R>
                            <G>0</G>
                            <B>0</B>
                            <A>255</A>
                          </BackgroundColor>
                          <CurrentShownTexture>0</CurrentShownTexture>
                          <SelectedScript />
                          <TextPadding>2</TextPadding>
                          <ScriptBackgroundColor>
                            <PackedValue>4288108544</PackedValue>
                            <X>0</X>
                            <Y>88</Y>
                            <Z>151</Z>
                            <R>0</R>
                            <G>88</G>
                            <B>151</B>
                            <A>255</A>
                          </ScriptBackgroundColor>
                          <ScriptForegroundColor>
                            <PackedValue>4294962611</PackedValue>
                            <X>179</X>
                            <Y>237</Y>
                            <Z>255</Z>
                            <R>179</R>
                            <G>237</G>
                            <B>255</B>
                            <A>255</A>
                          </ScriptForegroundColor>
                          <Sprites>
                            <Length>0</Length>
                          </Sprites>
                        </MySerializedTextPanelData>
                        <MySerializedTextPanelData>
                          <ChangeInterval>0</ChangeInterval>
                          <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                          <FontSize>1</FontSize>
                          <ShowText>NONE</ShowText>
                          <FontColor>
                            <PackedValue>4294967295</PackedValue>
                            <X>255</X>
                            <Y>255</Y>
                            <Z>255</Z>
                            <R>255</R>
                            <G>255</G>
                            <B>255</B>
                            <A>255</A>
                          </FontColor>
                          <BackgroundColor>
                            <PackedValue>4278190080</PackedValue>
                            <X>0</X>
                            <Y>0</Y>
                            <Z>0</Z>
                            <R>0</R>
                            <G>0</G>
                            <B>0</B>
                            <A>255</A>
                          </BackgroundColor>
                          <CurrentShownTexture>0</CurrentShownTexture>
                          <SelectedScript />
                          <TextPadding>2</TextPadding>
                          <ScriptBackgroundColor>
                            <PackedValue>4288108544</PackedValue>
                            <X>0</X>
                            <Y>88</Y>
                            <Z>151</Z>
                            <R>0</R>
                            <G>88</G>
                            <B>151</B>
                            <A>255</A>
                          </ScriptBackgroundColor>
                          <ScriptForegroundColor>
                            <PackedValue>4294962611</PackedValue>
                            <X>179</X>
                            <Y>237</Y>
                            <Z>255</Z>
                            <R>179</R>
                            <G>237</G>
                            <B>255</B>
                            <A>255</A>
                          </ScriptForegroundColor>
                          <Sprites>
                            <Length>0</Length>
                          </Sprites>
                        </MySerializedTextPanelData>
                      </TextPanelsNew>
                      <Program>
#region WHAM
const string Version="170.8.6";const string Date = "2023/03/20";const string CompatVersion = "95.0.0";/*
/ //// / (WHAM) Whip's Homing Advanced Missile Script / //// /
_______________________________
INSTRUCTIONS

See workshop page for instructions, there is no room left in this script!

_______________________________
NOTE

This code has been minified so that it will fit in the programmable block.
I have NOT obfuscated any of the code, so that if you copy paste this into an
IDE like Visual Studio or use a website like https://codebeautify.org/csharpviewer,
you can uncompress this and it will be human readable.




=================================================
DO NOT MODIFY VARIABLES IN THE SCRIPT!

USE THE CUSTOM DATA OF THIS PROGRAMMABLE BLOCK!
=================================================


























HEY! DONT EVEN THINK ABOUT TOUCHING BELOW THIS LINE!

*/

#region Global Fields
enum GuidanceAlgoType{ProNav,WhipNav,HybridNav,ZeroEffortMiss};MissileGuidanceBase _selectedGuidance;Dictionary&lt;GuidanceAlgoType,MissileGuidanceBase&gt;_guidanceAlgorithms;const string MissileNamePattern="({0} {1})";const string MissileGroupPattern = "{0} {1}";Vector3D _shooterForwardVec,_shooterLeftVec,_shooterUpVec,_shooterPos,_shooterPosCached,_randomizedHeadingVector,_targetPos,_targetVel,_aimDispersion;string _missileGroupNameTag = "",_missileNameTag = "";double _timeSinceLastLock=0,_distanceFromShooter=0,_timeTotal=0,_timeSinceLastIngest=0;int _setupTicks=0,_missileStage=0;bool _shouldFire=false,_shouldKill=false,_hasPassed=false,_killAllowed=false,_shouldDive=false,_shouldStealth=true,_shouldProximityScan=false,_enableGuidance=false,_broadcastListenersRegistered=false,_foundLampAntennas=false,_markedForDetonation=false,_canSetup=true,_preSetupFailed=false,_topDownAttack=false,_enableEvasion=false,_precisionMode=false,_retask=false;
#region Meme Mode Stuff
enum AntennaNameMode{Meme,Empty,MissileName,MissileStatus};int _memeIndex;string[]_antennaMemeMessages=new string[]{"All your base are belong to us","Pucker up buttercup","You are screwed","Are you my mommy?","You feeling lucky?","Herpes","Pootis","From Whip with love!","Run!","General Distress","Unknown Signal","Here comes the pain","Bend over","Private Shipment","Argentavis","Cargo Hauler","Art thou feeling it now Mr. Krabs?","It's commin' right for us!","Nothing personal kid...","*Fortnite dancing in public*","*Dabbing intensifies*","*Heavy breathing*","A surprise to be sure, but a welcome one","Hello there","General Kenobi","You underestimate my power","I am the SENATE!","Did you ever hear the tragedy of Darth Plagueis The Wise?","I thought not. It's not a story the Jedi would tell you.","It's a Sith legend.","Darth Plagueis was a Dark Lord of the Sith...","...so powerful and so wise he could use the Force...","...to influence the midichlorians to create life...","*Evil head turn*","He had such a knowledge of the dark side...","...that he could even keep the ones he cared about from dying.","The dark side of the Force is a pathway to many abilities...","...some consider to be unnatural.","He became so powerful, the only thing he was afraid of...","...was losing his power, which eventually, of course, he did.","Unfortunately, he taught his apprentice everything he knew...","...then his apprentice killed him in his sleep.","Ironic.","He could save others from death, but not himself.","Another happy landing!","*Internalized Oppression*","Area is not secure!","Perfectly balanced, as all things should be","It's super effective!","Ah yes, an old friend of mine is here","Anything else you'd like to order?","Hi! Welcome to Chili's!","Platinum","Gold","Dinner is served!","UwU","* Arrow to the knee *","Atmospheric Lander","Just like mother used to make!","Big Chungus","Hecking Bamboozolled","Time to take out the trash","BUT WAIT!! THERE'S MORE!!","Is this the Krusty Krab?","No this is PATRICK!!!","I'm about to end this whole man's career..","Do you get to the Cloud District very often?","It's over Anakin!","I have the high ground!","You underestimate my POWER!","You were the chosen one!","It was said you would destroy the sith not join them...","...Bring balance to the force, not leave it in darkness!","We've been trying to reach you about your car's extended warranty",};
#endregion
Random RNGesus=new Random();BatesDistributionRandom _bellCurveRandom=new BatesDistributionRandom(3);//So many lists...
List&lt;IMyTerminalBlock&gt;_missileBlocks=new List&lt;IMyTerminalBlock&gt;();List&lt;IMyFunctionalBlock&gt;_funcBlocks=new List&lt;IMyFunctionalBlock&gt;();List&lt;IMyThrust&gt;_unsortedThrusters=new List&lt;IMyThrust&gt;(),_mainThrusters=new List&lt;IMyThrust&gt;(),_sideThrusters=new List&lt;IMyThrust&gt;(),_detachThrusters=new List&lt;IMyThrust&gt;();List&lt;IMyVirtualMass&gt;_artMasses=new List&lt;IMyVirtualMass&gt;();List&lt;IMyShipMergeBlock&gt;_mergeBlocks=new List&lt;IMyShipMergeBlock&gt;();List&lt;IMyBatteryBlock&gt;_batteries=new List&lt;IMyBatteryBlock&gt;();List&lt;IMyShipController&gt;_shipControllers=new List&lt;IMyShipController&gt;();List&lt;IMyGyro&gt;_gyros=new List&lt;IMyGyro&gt;();List&lt;IMyShipConnector&gt;_connectors=new List&lt;IMyShipConnector&gt;();List&lt;IMyMotorStator&gt;_rotors=new List&lt;IMyMotorStator&gt;();List&lt;IMyReactor&gt;_reactors=new List&lt;IMyReactor&gt;();List&lt;IMyRadioAntenna&gt;_antennas=new List&lt;IMyRadioAntenna&gt;();List&lt;IMyBeacon&gt;_beacons=new List&lt;IMyBeacon&gt;();List&lt;IMySensorBlock&gt;_sensors=new List&lt;IMySensorBlock&gt;();List&lt;IMyWarhead&gt;_warheads=new List&lt;IMyWarhead&gt;();List&lt;IMyTimerBlock&gt;_timers=new List&lt;IMyTimerBlock&gt;();List&lt;IMyCameraBlock&gt;_cameras=new List&lt;IMyCameraBlock&gt;();List&lt;IMyCameraBlock&gt;_homingCameras=new List&lt;IMyCameraBlock&gt;();List&lt;IMyGasTank&gt;_gasTanks=new List&lt;IMyGasTank&gt;();List&lt;MyDetectedEntityInfo&gt;_sensorEntities=new List&lt;MyDetectedEntityInfo&gt;();List&lt;DynamicCircularBuffer&lt;IMyCameraBlock&gt;&gt;_cameraBufferList=new List&lt;DynamicCircularBuffer&lt;IMyCameraBlock&gt;&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt;_camerasFront=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasBack=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasLeft=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasRight=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasUp=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasDown=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();ImmutableArray&lt;MyTuple&lt;byte,long,Vector3D,double&gt;&gt;.Builder _messageBuilder=ImmutableArray.CreateBuilder&lt;MyTuple&lt;byte,long,Vector3D,double&gt;&gt;();List&lt;MyTuple&lt;Vector3D,long&gt;&gt;_remoteFireRequests=new List&lt;MyTuple&lt;Vector3D,long&gt;&gt;();HashSet&lt;long&gt;_savedKeycodes=new HashSet&lt;long&gt;();IMyShipController _missileReference=null;enum PostSetupAction{None=0,Fire=1,FireRequestResponse=2};PostSetupAction _postSetupAction=PostSetupAction.None;const int MAX_INSTRUCTIONS_PER_SETUP_RUN=5000;const double UpdatesPerSecond=10.0,SecondsPerUpdate=1.0/UpdatesPerSecond,DegToRad=Math.PI/180,RpmToRad=Math.PI/30,TopdownDescentAngle=Math.PI/6,MaxGuidanceTime=180,RuntimeToRealtime=(1.0/60.0)/0.0166666,GyroSlowdownAngle=Math.PI/36;const float MinThrust=1e-9f;readonly MyIni _guidanceIni=new MyIni();readonly StringBuilder _saveSB=new StringBuilder();readonly RaycastHoming _raycastHoming;enum GuidanceMode:int{BeamRiding=1,SemiActive=2,Active=4,Homing=SemiActive|Active};PID _yawPID=new PID(1,0,0,SecondsPerUpdate),_pitchPID=new PID(1,0,0,SecondsPerUpdate);IMyBlockGroup _missileGroup;Scheduler _scheduler;GuidanceMode _guidanceMode=GuidanceMode.SemiActive;RuntimeTracker _runtimeTracker;IMyBroadcastListener _broadcastListenerHoming,_broadcastListenerBeamRiding,_broadcastListenerParameters,_broadcastListenerRemoteFire;IMyUnicastListener _unicastListener;const string IgcTagParams="IGC_MSL_PAR_MSG",IgcTagHoming = "IGC_MSL_HOM_MSG",IgcTagBeamRiding = "IGC_MSL_OPT_MSG",IgcTagIff = "IGC_IFF_PKT",IgcTagFire = "IGC_MSL_FIRE_MSG",IgcTagRemoteFireRequest = "IGC_MSL_REM_REQ",IgcTagRemoteFireResponse = "IGC_MSL_REM_RSP",IgcTagRemoteFireNotification = "IGC_MSL_REM_NTF",IgcTagregister = "IGC_MSL_REG_MSG",IgcTagUnicast = "UNICAST";QueuedAction _stage1Action,_stage2Action,_stage3Action,_stage4Action;ScheduledAction _guidanceActivateAction,_randomHeadingVectorAction;
#region Custom Data Ini
readonly MyIni _myIni=new MyIni();const string IniSectionNames="Names",IniSectionDelays = "Delays",IniSectionGyro = "Gyros",IniSectionHoming = "Homing Parameters",IniSectionBeamRide = "Beam Riding Parameters",IniSectionEvasion = "Evasion Parameters",IniSectionSpiral = "Spiral Parameters",IniSectionRandom = "Random Fligh Path Parameters",IniSectionRaycast = "Raycast/Sensors",IniSectionMisc = "Misc.",IniCompatMemeMode = "Antenna meme mode";ConfigBool _autoConfigure = new ConfigBool(IniSectionNames, "Auto-configure missile name", true);ConfigString _missileTag = new ConfigString(IniSectionNames, "Missile name tag", "Missile");ConfigInt _missileNumber = new ConfigInt(IniSectionNames, "Missile number", 1);ConfigString _fireControlGroupNameTag = new ConfigString(IniSectionNames, "Fire control group name", "Fire Control");ConfigString _detachThrustTag = new ConfigString(IniSectionNames, "Detach thruster name tag", "Detach");ConfigDouble _disconnectDelay = new ConfigDouble(IniSectionDelays, "Stage 1: Disconnect delay (s)", 0);ConfigDouble _guidanceDelay = new ConfigDouble(IniSectionDelays, "Guidance delay (s)", 1);ConfigDouble _detachDuration = new ConfigDouble(IniSectionDelays, "Stage 2: Detach duration (s)", 0);ConfigDouble _mainIgnitionDelay = new ConfigDouble(IniSectionDelays, "Stage 3: Main ignition delay (s)", 0);ConfigDouble _gyroProportionalGain = new ConfigDouble(IniSectionGyro, "Proportional gain", 10);ConfigDouble _gyroIntegralGain = new ConfigDouble(IniSectionGyro, "Integral gain", 0);ConfigDouble _gyroDerivativeGain = new ConfigDouble(IniSectionGyro, "Derivative gain", 10);ConfigEnum&lt;GuidanceAlgoType&gt; _guidanceAlgoType = new ConfigEnum&lt;GuidanceAlgoType&gt;(IniSectionHoming, "Guidance algorithm", GuidanceAlgoType.ProNav, " Valid guidance algorithms: ProNav, WhipNav, HybridNav, ZeroEffortMiss");ConfigDouble _navConstant = new ConfigDouble(IniSectionHoming, "Navigation constant", 3);ConfigDouble _accelNavConstant = new ConfigDouble(IniSectionHoming, "Acceleration constant", 1.5);ConfigDouble _maxAimDispersion = new ConfigDouble(IniSectionHoming, "Max aim dispersion (m)", 0);ConfigDouble _topDownAttackHeight = new ConfigDouble(IniSectionHoming, "Topdown attack height (m)", 1500);ConfigDouble _offsetUp = new ConfigDouble(IniSectionBeamRide, "Hit offset up (m)", 0);ConfigDouble _offsetLeft = new ConfigDouble(IniSectionBeamRide, "Hit offset left (m)", 0);ConfigDouble _missileSpinRPM = new ConfigDouble(IniSectionEvasion, "Spin rate (RPM)", 0);ConfigBool _evadeWithSpiral = new ConfigBool(IniSectionEvasion, "Use spiral", false);ConfigBool _evadeWithRandomizedHeading = new ConfigBool(IniSectionEvasion, "Use random flight path", true, " AKA \"Drunken Missile Mode\"");ConfigDouble _spiralDegrees = new ConfigDouble(IniSectionSpiral, "Spiral angle (deg)", 15);ConfigDouble _timeMaxSpiral = new ConfigDouble(IniSectionSpiral, "Spiral time (sec)", 3);ConfigDouble _spiralActivationRange = new ConfigDouble(IniSectionSpiral, "Spiral activation range (m)", 1000);ConfigDouble _randomVectorInterval = new ConfigDouble(IniSectionRandom, "Direction change interval (sec)", 0.5);ConfigDouble _maxRandomAccelRatio = new ConfigDouble(IniSectionRandom, "Max acceleration ratio", 0.25);ConfigBool _useCamerasForHoming = new ConfigBool(IniSectionRaycast, "Use cameras for homing", true);ConfigDouble _raycastRange = new ConfigDouble(IniSectionRaycast, "Tripwire range (m)", 0.25);ConfigDouble _raycastMinimumTargetSize = new ConfigDouble(IniSectionRaycast, "Minimum target size (m)", 0);ConfigDouble _minimumArmingRange = new ConfigDouble(IniSectionRaycast, "Minimum warhead arming range (m)", 100);ConfigBool _raycastIgnoreFriends = new ConfigBool(IniSectionRaycast, "Ignore friendlies", false);ConfigBool _raycastIgnorePlanetSurface = new ConfigBool(IniSectionRaycast, "Ignore planets", true);ConfigBool _ignoreIdForDetonation = new ConfigBool(IniSectionRaycast, "Ignore target ID for detonation", false);ConfigBool _allowRemoteFire = new ConfigBool(IniSectionMisc, "Allow remote firing", false);ConfigEnum&lt;AntennaNameMode&gt; _antennaMode = new ConfigEnum&lt;AntennaNameMode&gt;(IniSectionMisc, "Antenna name mode", AntennaNameMode.Meme, " Valid antenna name modes: Meme, Empty, MissileName, MissileStatus");IConfigValue[]_config;void SetupConfig(){_config=new IConfigValue[]{_autoConfigure,_missileTag,_missileNumber,_fireControlGroupNameTag,_detachThrustTag,_disconnectDelay,_guidanceDelay,_detachDuration,_mainIgnitionDelay,_gyroProportionalGain,_gyroIntegralGain,_gyroDerivativeGain,_guidanceAlgoType,_navConstant,_accelNavConstant,_maxAimDispersion,_topDownAttackHeight,_offsetUp,_offsetLeft,_missileSpinRPM,_evadeWithSpiral,_evadeWithRandomizedHeading,_spiralDegrees,_timeMaxSpiral,_spiralActivationRange,_randomVectorInterval,_maxRandomAccelRatio,_useCamerasForHoming,_raycastRange,_raycastMinimumTargetSize,_minimumArmingRange,_raycastIgnoreFriends,_raycastIgnorePlanetSurface,_ignoreIdForDetonation,_allowRemoteFire,_antennaMode,};}
#endregion

#endregion

#region Main Methods
Program(){SetupConfig();_memeIndex=RNGesus.Next(_antennaMemeMessages.Length);_unicastListener=IGC.UnicastListener;_unicastListener.SetMessageCallback(IgcTagUnicast);_broadcastListenerRemoteFire=IGC.RegisterBroadcastListener(IgcTagRemoteFireRequest);_broadcastListenerRemoteFire.SetMessageCallback(IgcTagRemoteFireRequest);_guidanceActivateAction=new ScheduledAction(ActivateGuidance,0,true);_stage1Action=new QueuedAction(MissileStage1,0);_stage2Action=new QueuedAction(MissileStage2,0);_stage3Action=new QueuedAction(MissileStage3,0);_stage4Action=new QueuedAction(MissileStage4,0);_randomHeadingVectorAction=new ScheduledAction(ComputeRandomHeadingVector,0,false);_stage1Action.RunInterval=0;// Scheduler assignment
_scheduler=new Scheduler(this,true);// Setting up scheduled tasks
_scheduler.AddScheduledAction(_guidanceActivateAction);_scheduler.AddScheduledAction(GuidanceNavAndControl,UpdatesPerSecond);_scheduler.AddScheduledAction(CheckProximity,UpdatesPerSecond);_scheduler.AddScheduledAction(PrintEcho,1);_scheduler.AddScheduledAction(NetworkTargets,6);_scheduler.AddScheduledAction(_randomHeadingVectorAction);// Setting up sequential tasks
_scheduler.AddQueuedAction(_stage1Action);_scheduler.AddQueuedAction(_stage2Action);_scheduler.AddQueuedAction(_stage3Action);_scheduler.AddQueuedAction(_stage4Action);_scheduler.AddQueuedAction(KillPower,MaxGuidanceTime);_runtimeTracker=new RuntimeTracker(this,120,0.005);_raycastHoming=new RaycastHoming(5000,3,0,Me.CubeGrid.EntityId);_raycastHoming.AddEntityTypeToFilter(MyDetectedEntityType.FloatingObject,MyDetectedEntityType.Planet,MyDetectedEntityType.Asteroid);// Populate guidance algos
_guidanceAlgorithms=new Dictionary&lt;GuidanceAlgoType,MissileGuidanceBase&gt;(){{GuidanceAlgoType.ProNav,new ProNavGuidance(UpdatesPerSecond,_navConstant)},{GuidanceAlgoType.WhipNav,new WhipNavGuidance(UpdatesPerSecond,_navConstant)},{GuidanceAlgoType.HybridNav,new HybridNavGuidance(UpdatesPerSecond,_navConstant)},{GuidanceAlgoType.ZeroEffortMiss,new ZeroEffortMissGuidance(UpdatesPerSecond,_navConstant)},};// Enable raycast spooling
GridTerminalSystem.GetBlocksOfType&lt;IMyCameraBlock&gt;(null,camera=&gt;{if(camera.IsSameConstructAs(Me))camera.EnableRaycast=true;return false;});// Save camera buffer references to our list
_cameraBufferList.Add(_camerasFront);_cameraBufferList.Add(_camerasRight);_cameraBufferList.Add(_camerasLeft);_cameraBufferList.Add(_camerasUp);_cameraBufferList.Add(_camerasDown);_cameraBufferList.Add(_camerasBack);//load targeting data from last save
ParseStorage();if(_postSetupAction!=PostSetupAction.Fire){InitiateSetup();}}void Main(string arg,UpdateType updateSource){if((updateSource&amp;(UpdateType.Terminal|UpdateType.Trigger|UpdateType.Script))!=0)ArgumentHandling(arg);if((updateSource&amp;UpdateType.Once)!=0){RunSetupStateMachine();}if((updateSource&amp;UpdateType.Update10)!=0){SendRemoteFireResponse();Runtime.UpdateFrequency&amp;=~UpdateFrequency.Update10;}bool igcMsg=(updateSource&amp;UpdateType.IGC)!=0;if(igcMsg){IgcMessageHandling(_shouldFire);}if(!_shouldFire){return;}_scheduler.Update();var lastRuntime=Math.Min(RuntimeToRealtime*Math.Max(Runtime.TimeSinceLastRun.TotalSeconds,0),SecondsPerUpdate);_timeTotal+=lastRuntime;_timeSpiral+=lastRuntime;_timeSinceLastIngest+=lastRuntime;if(_shouldKill)KillPower();_runtimeTracker.AddRuntime();_runtimeTracker.AddInstructions();}void ActiveHomingScans(){if(_homingCameras.Count==0||_shipControllers.Count==0)return;_raycastHoming.Update(SecondsPerUpdate,_homingCameras,_shipControllers);if(_raycastHoming.Status==RaycastHoming.TargetingStatus.Locked){// handoff
_guidanceMode=GuidanceMode.Active;_targetPos=_raycastHoming.TargetPosition;_targetVel=_raycastHoming.TargetVelocity;_timeSinceLastLock=_raycastHoming.TimeSinceLastLock;// Force time since last ingest to be zero since there is no transmission time for active homing scans
_timeSinceLastIngest=0;}else if(_raycastHoming.LockLost){_guidanceMode=GuidanceMode.SemiActive;}}void PrintEcho(){Echo(GetTitle());Echo($"Time Active: {_timeTotal:n0} sec");Echo(_runtimeTracker.Write());}
#endregion

#region Ini Configuration
void LoadIniConfig(){_myIni.Clear();bool parsed=_myIni.TryParse(Me.CustomData);if(!parsed){SaveIniConfig();_setupBuilder.Append("Wrote default missile config!\n");return;}foreach(IConfigValue c in _config){c.ReadFromIni(_myIni);}// For backwards compat
bool antennaMemeMode;if(_myIni.Get(IniSectionMisc,IniCompatMemeMode).TryGetBoolean(out antennaMemeMode)){_antennaMode.Value=antennaMemeMode ? AntennaNameMode.Meme:AntennaNameMode.Empty;}_setupBuilder.Append("Loaded missile config!\n");}void SaveIniConfig(){_myIni.Clear();_missileGroupNameTag=string.Format(MissileGroupPattern,_missileTag,_missileNumber);_missileNameTag=string.Format(MissileNamePattern,_missileTag,_missileNumber);foreach(IConfigValue c in _config){c.WriteToIni(_myIni);}_timeMaxSpiral.Value=Math.Max(_timeMaxSpiral,0.1);_maxRandomAccelRatio.Value=MathHelper.Clamp(_maxRandomAccelRatio,0,1);_guidanceActivateAction.RunInterval=_guidanceDelay;_stage2Action.RunInterval=_disconnectDelay;_stage3Action.RunInterval=_detachDuration;_stage4Action.RunInterval=_mainIgnitionDelay;_randomHeadingVectorAction.RunInterval=_randomVectorInterval;Me.CustomData=_myIni.ToString();}
#endregion

#region Argument Handling and IGC Processing
void ProcessRemoteFireRequests(){Runtime.UpdateFrequency|=UpdateFrequency.Update10;// On 10, send
float antennaRange=1f;foreach(MyTuple&lt;Vector3D,long&gt;request in _remoteFireRequests){Vector3D requestPos=request.Item1;float dSq=(float)Vector3D.DistanceSquared(requestPos,Me.GetPosition());if(dSq&gt;antennaRange){antennaRange=dSq;}}antennaRange=(float)Math.Sqrt(antennaRange)+100f;foreach(var a in _antennas){if(a.Closed)continue;a.Radius=(float)antennaRange;a.EnableBroadcasting=true;a.Enabled=true;break;}}void SendRemoteFireResponse(){foreach(MyTuple&lt;Vector3D,long&gt;request in _remoteFireRequests){long programId=request.Item2;var response=new MyTuple&lt;Vector3D,long&gt;();response.Item1=Me.GetPosition();response.Item2=Me.EntityId;IGC.SendUnicastMessage(programId,IgcTagRemoteFireResponse,response);}_remoteFireRequests.Clear();foreach(var a in _antennas){if(a.Closed)continue;a.Radius=1f;a.EnableBroadcasting=false;a.Enabled=_allowRemoteFire&amp;&amp;!_foundLampAntennas;break;}}void IgcMessageHandling(bool shouldFire){if(!shouldFire){if(_allowRemoteFire){// Handle remote fire requests
bool remoteFireRequest=false;while(_broadcastListenerRemoteFire.HasPendingMessage){object messageData=_broadcastListenerRemoteFire.AcceptMessage().Data;if(messageData is MyTuple&lt;Vector3D,long&gt;){var payload=(MyTuple&lt;Vector3D,long&gt;)messageData;_remoteFireRequests.Add(payload);remoteFireRequest=true;}}if(remoteFireRequest){_postSetupAction=PostSetupAction.FireRequestResponse;InitiateSetup(true);}}// Handle unicast messages
bool fireCommanded=false;bool remotelyFired=false;while(_unicastListener.HasPendingMessage){MyIGCMessage message=_unicastListener.AcceptMessage();object data=message.Data;if(message.Tag==IgcTagFire){fireCommanded=true;}else if(message.Tag==IgcTagregister){if(data is long){long keycode=(long)data;_savedKeycodes.Add(keycode);remotelyFired=true;}}}if(fireCommanded){_postSetupAction=PostSetupAction.Fire;InitiateSetup(remotelyFired);if(remotelyFired){IGC.SendBroadcastMessage(IgcTagRemoteFireNotification,_missileNumber.Value,TransmissionDistance.CurrentConstruct);}}return;}else{// Handle broadcast listeners
while(_broadcastListenerParameters.HasPendingMessage){object messageData=_broadcastListenerParameters.AcceptMessage().Data;if(!(messageData is MyTuple&lt;byte,long&gt;))continue;var payload=(MyTuple&lt;byte,long&gt;)messageData;long keycode=payload.Item2;if(!_savedKeycodes.Contains(keycode))continue;byte packedBools=payload.Item1;if(_killAllowed&amp;&amp;!_shouldKill)_shouldKill=(packedBools&amp;(1))!=0;_shouldStealth=(packedBools&amp;(1&lt;&lt;1))!=0;_enableEvasion=(packedBools&amp;(1&lt;&lt;2))!=0;_topDownAttack=(packedBools&amp;(1&lt;&lt;3))!=0;_precisionMode=(packedBools&amp;(1&lt;&lt;4))!=0;_retask=(packedBools&amp;(1&lt;&lt;5))!=0;if(_shouldKill)_shouldStealth=true;_raycastHoming.OffsetTargeting=_precisionMode;}while(_broadcastListenerBeamRiding.HasPendingMessage){object messageData=_broadcastListenerBeamRiding.AcceptMessage().Data;if(_guidanceMode==GuidanceMode.Active&amp;&amp;!_retask)continue;if(!(messageData is MyTuple&lt;Vector3,Vector3,Vector3,Vector3,long&gt;))continue;var payload=(MyTuple&lt;Vector3,Vector3,Vector3,Vector3,long&gt;)messageData;long keycode=payload.Item5;if(!_savedKeycodes.Contains(keycode))continue;_retask=false;_shooterForwardVec=payload.Item1;_shooterLeftVec=payload.Item2;_shooterUpVec=payload.Item3;_shooterPosCached=payload.Item4;_guidanceMode=GuidanceMode.BeamRiding;}/* Item1.Col0: Hit position */
/* Item1.Col1: Target position */
/* Item1.Col2: Target velocity */
/* Item2.Col0: Precision offset */
/* Item2.Col1: Shooter position */
/* Item2.Col2: &lt;NOT USED&gt; */
/* Item3:      Time since last lock */
/* Item4:      Target ID */
/* Item5:      Key code */
while(_broadcastListenerHoming.HasPendingMessage){object messageData=_broadcastListenerHoming.AcceptMessage().Data;if(!(messageData is MyTuple&lt;Matrix3x3,Matrix3x3,float,long,long&gt;))continue;var payload=(MyTuple&lt;Matrix3x3,Matrix3x3,float,long,long&gt;)messageData;long keycode=payload.Item5;if(!_savedKeycodes.Contains(keycode))continue;_shooterPosCached=payload.Item2.Col1;if(_guidanceMode==GuidanceMode.Active&amp;&amp;!_retask)continue;_retask=false;Vector3D hitPos=payload.Item1.Col0;Vector3D offset=payload.Item2.Col0;_targetPos=payload.Item1.Col1;_targetVel=payload.Item1.Col2;_timeSinceLastLock=payload.Item3;long targetId=payload.Item4;_timeSinceLastIngest=1.0/60.0;// IGC messages are always a tick delayed
_guidanceMode=GuidanceMode.SemiActive;_raycastHoming.SetInitialLockParameters(hitPos,_targetVel,offset,_timeSinceLastLock,targetId);}}}void RegisterBroadcastListeners(){if(_broadcastListenersRegistered)return;_broadcastListenerHoming=IGC.RegisterBroadcastListener(IgcTagHoming);_broadcastListenerHoming.SetMessageCallback(IgcTagHoming);_broadcastListenerBeamRiding=IGC.RegisterBroadcastListener(IgcTagBeamRiding);_broadcastListenerBeamRiding.SetMessageCallback(IgcTagBeamRiding);_broadcastListenerParameters=IGC.RegisterBroadcastListener(IgcTagParams);_broadcastListenerParameters.SetMessageCallback(IgcTagParams);_broadcastListenersRegistered=true;}void ArgumentHandling(string arg){if(arg.ToLower().Equals("_fire")){_postSetupAction = PostSetupAction.Fire;InitiateSetup();}else if (arg.ToLower().Equals("setup")&amp;&amp;!_shouldFire){_postSetupAction=PostSetupAction.None;InitiateSetup();}}
#endregion

#region Setup
List&lt;IMyBlockGroup&gt;_allGroups=new List&lt;IMyBlockGroup&gt;();List&lt;IMyProgrammableBlock&gt;_groupPrograms=new List&lt;IMyProgrammableBlock&gt;();int _autoConfigureMissileNumber;IEnumerator&lt;SetupStatus&gt;_setupStateMachine;StringBuilder _setupBuilder=new StringBuilder();void ClearLists(){_missileBlocks.Clear();_funcBlocks.Clear();_unsortedThrusters.Clear();_mainThrusters.Clear();_sideThrusters.Clear();_detachThrusters.Clear();_artMasses.Clear();_mergeBlocks.Clear();_batteries.Clear();_shipControllers.Clear();_gyros.Clear();_connectors.Clear();_rotors.Clear();_reactors.Clear();_antennas.Clear();_beacons.Clear();_sensors.Clear();_warheads.Clear();_cameras.Clear();_camerasFront.Clear();_camerasBack.Clear();_camerasLeft.Clear();_camerasRight.Clear();_camerasUp.Clear();_camerasDown.Clear();_homingCameras.Clear();_gasTanks.Clear();}string GetTitle(){return $"Whip's Homing Adv. Missile Script\n(Version {Version} - {Date})\n\nFor use with LAMP v{CompatVersion} or later.\n";}List&lt;IMyRadioAntenna&gt; _broadcasters = new List&lt;IMyRadioAntenna&gt;();List&lt;IMyBlockGroup&gt; _foundGroups = new List&lt;IMyBlockGroup&gt;();List&lt;IMyMechanicalConnectionBlock&gt; _mechConnections = new List&lt;IMyMechanicalConnectionBlock&gt;();enum SetupStatus { None = 0, Running = 1, Done = 2 }IEnumerator&lt;SetupStatus&gt; SetupStateMachine(bool reload = false){string title = GetTitle();_setupBuilder.Append(title).Append("\n");LoadIniConfig();
#region Auto-Configuration
if(_autoConfigure){_allGroups.Clear();_foundGroups.Clear();_autoConfigureMissileNumber=-1;_missileGroup=null;_setupBuilder.Append("\nRunning Autosetup...\n");GridTerminalSystem.GetBlockGroups(_allGroups);foreach(var group in _allGroups){// Group collect
string groupName=group.Name;if(groupName.StartsWith(_missileTag)){int spaceIndex=groupName.IndexOf(' ',_missileTag.Value.Length);if(spaceIndex==-1)continue;// Check if this program exists in the group
_groupPrograms.Clear();group.GetBlocksOfType(_groupPrograms);bool foundSelf=false;foreach(var pb in _groupPrograms){if(pb==Me){foundSelf=true;break;}if(AtInstructionLimit()){yield return SetupStatus.Running;}}if(!foundSelf)continue;string missileNumberStr=groupName.Substring(spaceIndex+1);int missileNumber;bool parsed=int.TryParse(missileNumberStr,out missileNumber);if(!parsed)continue;_autoConfigureMissileNumber=missileNumber;if(_missileGroup==null)_missileGroup=group;_foundGroups.Add(group);}if(AtInstructionLimit()){yield return SetupStatus.Running;}}if(_missileGroup==null){_setupBuilder.Append("&gt; WARN: No groups containing this\n  program found.\n");_missileGroup=GridTerminalSystem.GetBlockGroupWithName(_missileGroupNameTag);// Default
}else if(_foundGroups.Count&gt;1)// Too many
{_setupBuilder.Append("&gt; WARN: MULTIPLE groups\n  containing this program\n  found:\n");for (int i = 0; i &lt; _foundGroups.Count; ++i){var thisGroup = _foundGroups[i];_setupBuilder.Append($"    {i + 1}: {thisGroup.Name}\n");}}else {_setupBuilder.Append($"&gt; Missile group found:\n  '{_missileTag} {_autoConfigureMissileNumber}'\n");_missileNumber.Value=_autoConfigureMissileNumber;}}else // Default: Read from custom data
{_missileGroup=GridTerminalSystem.GetBlockGroupWithName(_missileGroupNameTag);}
#endregion
SaveIniConfig();
#region Ignore own grids with raycast
_mechConnections.Clear();_raycastHoming.ClearIgnoredGridIDs();_raycastHoming.AddIgnoredGridID(Me.CubeGrid.EntityId);foreach(var mc in _mechConnections){_raycastHoming.AddIgnoredGridID(mc.CubeGrid.EntityId);if(mc.TopGrid!=null)_raycastHoming.AddIgnoredGridID(mc.TopGrid.EntityId);if(AtInstructionLimit()){yield return SetupStatus.Running;}}
#endregion

#region Guidance and PID config
foreach(var guid in _guidanceAlgorithms){var relNav=guid.Value as RelNavGuidance;if(relNav!=null){relNav.NavConstant=_navConstant;relNav.NavAccelConstant=_accelNavConstant;}}_selectedGuidance=_guidanceAlgorithms[_guidanceAlgoType];// TODO: Ensure value in bounds or just let it crash?
_yawPID.Kp=_gyroProportionalGain;_yawPID.Ki=_gyroIntegralGain;_yawPID.Kd=_gyroDerivativeGain;_pitchPID.Kp=_gyroProportionalGain;_pitchPID.Ki=_gyroIntegralGain;_pitchPID.Kd=_gyroDerivativeGain;
#endregion
_preSetupFailed=false;// TODO rename
ClearLists();
#region Grab Key Codes
_setupBuilder.Append($"\nChecking for firing ship...\n");_broadcasters.Clear();_foundLampAntennas = false;var fcsGroup = GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupNameTag);if (fcsGroup != null){fcsGroup.GetBlocksOfType(_broadcasters);if (_broadcasters.Count == 0){if (_allowRemoteFire){_setupBuilder.Append($"&gt; WARN: No antennas in group named '{_fireControlGroupNameTag}', but remote fire is active.\n");}else if (!reload){_preSetupFailed = true;_setupBuilder.Append($"&gt;&gt; ERR: No antennas in group named '{_fireControlGroupNameTag}'! This missile MUST be attached to a configured firing ship to fire!\n");}}else{foreach(IMyRadioAntenna a in _broadcasters){//x.IsSameConstructAs(Me))? Check if missile has connectors before this?
_savedKeycodes.Add(a.EntityId);if(AtInstructionLimit()){yield return SetupStatus.Running;}}_setupBuilder.Append($"&gt; Info: Found antenna(s) on firing ship\n");_foundLampAntennas = true;}}else if (_allowRemoteFire){_setupBuilder.Append($"&gt; WARN: No group named '{_fireControlGroupNameTag}' found, but remote fire is active.\n");}else if (!reload){_preSetupFailed = true;_setupBuilder.Append($"&gt;&gt; ERR: No group named '{_fireControlGroupNameTag}' found! This missile MUST be attached to a configured firing ship to fire!\n");}
#endregion

#region Get Missile Blocks
_setupBuilder.Append($"\nSetup for group named \"{_missileGroupNameTag}\"...\n");if (_missileGroup != null){_missileGroup.GetBlocks(_missileBlocks);}else {_setupBuilder.Append($"&gt;&gt; ERR: No block group named '{_missileGroupNameTag}' found!\n");_preSetupFailed=true;}for(int i=0;i&lt;_missileBlocks.Count;++i){CollectBlocks(_missileBlocks[i]);if(AtInstructionLimit()){yield return SetupStatus.Running;}}
#endregion
yield return SetupStatus.Done;}public void RunSetupStateMachine(){_setupTicks++;if(_setupStateMachine!=null){bool moreInstructions=_setupStateMachine.MoveNext();if(_setupStateMachine.Current==SetupStatus.Running){Runtime.UpdateFrequency=UpdateFrequency.Once;}else // Done with block fetching
{_canSetup=true;// Dispose of setup state machine
_setupStateMachine.Dispose();_setupStateMachine=null;_setupBuilder.Append($"&gt; Info: Setup took {_setupTicks} tick(s)\n");// Post-block fetch
bool setupPassed=SetupErrorChecking();if(!setupPassed||_preSetupFailed){_setupBuilder.Append("\n&gt;&gt;&gt; Setup Failed! &lt;&lt;&lt;\n");Echo(_setupBuilder.ToString());return;}// Implied else
_setupBuilder.Append("\n&gt;&gt;&gt; Setup Successful! &lt;&lt;&lt;\n");_missileReference=_shipControllers[0];if((_postSetupAction&amp;PostSetupAction.Fire)!=0){_shouldFire=true;RegisterBroadcastListeners();Runtime.UpdateFrequency=UpdateFrequency.Update1;}if((_postSetupAction&amp;PostSetupAction.FireRequestResponse)!=0){ProcessRemoteFireRequests();}Echo(_setupBuilder.ToString());}}else // Setup failed
{_setupBuilder.Append($"&gt; Info: Setup took {_setupTicks} tick(s)\n");_setupBuilder.Append("\n&gt;&gt;&gt; Setup Failed! &lt;&lt;&lt;\n");_canSetup=true;Echo(_setupBuilder.ToString());}}void InitiateSetup(bool reload=false){if(!_canSetup)return;_canSetup=false;_setupTicks=0;_setupBuilder.Clear();if(_setupStateMachine!=null){_setupStateMachine.Dispose();_setupStateMachine=null;}_setupStateMachine=SetupStateMachine(reload);RunSetupStateMachine();}public bool AtInstructionLimit(){return Runtime.CurrentInstructionCount&gt;=MAX_INSTRUCTIONS_PER_SETUP_RUN;}bool SetupErrorChecking(){bool setupFailed=false;// ERRORS
setupFailed|=EchoIfTrue(_antennas.Count==0,"&gt;&gt; ERR: No antennas found");setupFailed |= EchoIfTrue(_gyros.Count == 0, "&gt;&gt; ERR: No gyros found");setupFailed |= EchoIfTrue(_shipControllers.Count == 0, "&gt;&gt; ERR: No remotes found");if (_shipControllers.Count &gt; 0){GetThrusterOrientation(_shipControllers[0]);}setupFailed |= EchoIfTrue(_mainThrusters.Count == 0, "&gt;&gt; ERR: No main thrusters found");setupFailed |= EchoIfTrue(_batteries.Count == 0 &amp;&amp; _reactors.Count == 0, "&gt;&gt; ERR: No batteries or reactors found");// WARNINGS
if(!EchoIfTrue(_mergeBlocks.Count==0&amp;&amp;_rotors.Count==0&amp;&amp;_connectors.Count==0,"&gt; WARN: No merge blocks, rotors, or connectors found for detaching")){EchoBlockCount(_mergeBlocks.Count, "merge");EchoBlockCount(_rotors.Count, "rotor");EchoBlockCount(_connectors.Count, "connector");}// INFO
EchoBlockCount(_artMasses.Count,"art. mass block");EchoBlockCount(_sensors.Count, "sensor");EchoBlockCount(_warheads.Count, "warhead");EchoBlockCount(_beacons.Count, "beacon");EchoBlockCount(_cameras.Count, "camera");EchoBlockCount(_timers.Count, "timer");EchoBlockCount(_unsortedThrusters.Count, "total thruster");EchoBlockCount(_mainThrusters.Count, "main thruster");EchoBlockCount(_sideThrusters.Count, "side thruster");EchoBlockCount(_detachThrusters.Count, "detach thruster");EchoBlockCount(_gasTanks.Count, "gas tank");return !setupFailed;}void EchoBlockCount(int count, string name){_setupBuilder.Append($"&gt; Info: {count} {name}{(count == 1 ? "" : "s")}\n");}bool CollectBlocks(IMyTerminalBlock block){if(!block.IsSameConstructAs(Me))return false;/*
Here we extract the missile prefix from block names to ensure that
we don't write multiple name tags to the same block.
Expected block name pattern is:"(Missile X) BLOCK_NAME"
*/
var name=block.CustomName;var splitName=name.Split('(', ')');if(splitName.Length&gt;=2){var temp=splitName[1];var cleanName=name.Replace($"({temp})", "").TrimStart();block.CustomName = $"{_missileNameTag} {cleanName}";}else {block.CustomName = $"{_missileNameTag} {name}";}IMyThrust thrust;IMyRadioAntenna antenna;IMyCameraBlock camera;IMyWarhead warhead;AddToListIfType(block,_funcBlocks);if(AddToListIfType(block,_unsortedThrusters,out thrust)){if(thrust.CustomName.Contains(_detachThrustTag))_detachThrusters.Add(thrust);}else if(AddToListIfType(block,_antennas,out antenna)){antenna.Radius=1f;antenna.EnableBroadcasting=false;antenna.Enabled=_allowRemoteFire&amp;&amp;!_foundLampAntennas;}else if(AddToListIfType(block,_warheads,out warhead)){warhead.IsArmed=false;}else if(AddToListIfType(block,_cameras,out camera)){camera.Enabled=true;camera.EnableRaycast=true;if(_useCamerasForHoming)_homingCameras.Add(camera);GetCameraOrientation(camera);}else if(AddToListIfType(block,_artMasses)||AddToListIfType(block,_batteries)||AddToListIfType(block,_gyros)||AddToListIfType(block,_mergeBlocks)||AddToListIfType(block,_shipControllers)||AddToListIfType(block,_connectors)||AddToListIfType(block,_rotors)||AddToListIfType(block,_reactors)||AddToListIfType(block,_beacons)||AddToListIfType(block,_sensors)||AddToListIfType(block,_timers)||AddToListIfType(block,_gasTanks)){/* Nothing to do here */
}return false;}bool AddToListIfType&lt;T&gt;(IMyTerminalBlock block,List&lt;T&gt;list)where T:class,IMyTerminalBlock{T typedBlock;return AddToListIfType(block,list,out typedBlock);}bool AddToListIfType&lt;T&gt;(IMyTerminalBlock block,List&lt;T&gt;list,out T typedBlock)where T:class,IMyTerminalBlock{typedBlock=block as T;if(typedBlock!=null){list.Add(typedBlock);return true;}return false;}bool EchoIfTrue(bool state,string toEcho){if(state){_setupBuilder.Append(toEcho).Append("\n");}return state;}// Assumes all thrust is on same grid as PB
void GetThrusterOrientation(IMyTerminalBlock refBlock){var forwardDirn=refBlock.Orientation.Forward;foreach(IMyThrust t in _unsortedThrusters){var thrustDirn=Base6Directions.GetFlippedDirection(t.Orientation.Forward);if(thrustDirn==forwardDirn){_mainThrusters.Add(t);}else{_sideThrusters.Add(t);}}}void GetCameraOrientation(IMyCameraBlock c){switch(c.Orientation.Forward){case Base6Directions.Direction.Forward:_camerasFront.Add(c);return;case Base6Directions.Direction.Backward:_camerasBack.Add(c);return;case Base6Directions.Direction.Left:_camerasLeft.Add(c);return;case Base6Directions.Direction.Right:_camerasRight.Add(c);return;case Base6Directions.Direction.Up:_camerasUp.Add(c);return;case Base6Directions.Direction.Down:_camerasDown.Add(c);return;}}
#endregion

#region Missile Launch Sequence
// Prepares missile for launch by activating power sources.
void MissileStage1(){_missileStage=1;foreach(var b in _batteries){b.Enabled=true;b.ChargeMode=ChargeMode.Discharge;}foreach(var r in _reactors){r.Enabled=true;}foreach(var s in _sensors){s.Enabled=false;}foreach(var w in _warheads){w.IsArmed=false;}foreach(var g in _gyros){g.Enabled=true;}foreach(var t in _gasTanks){t.Stockpile=false;}foreach(var t in _timers){t.Trigger();}}// Detaches missile from the firing ship.
void MissileStage2(){_missileStage=2;foreach(var m in _artMasses){m.Enabled=true;}foreach(var b in _mergeBlocks){b.Enabled=false;}foreach(var c in _connectors){c.Disconnect();}foreach(var r in _rotors){r.Detach();}foreach(var a in _antennas){a.Radius=1f;a.Enabled=false;a.EnableBroadcasting=false;a.Enabled=true;//this used to be a bug workaround, not sure if it is still needed tbh
a.CustomName="";}foreach (var b in _beacons){b.Radius = 1f;b.Enabled = true;b.CustomName = "";}ApplyThrustOverride(_sideThrusters,MinThrust,false);ApplyThrustOverride(_detachThrusters,100f);}// Disables missile thrust for drifting.
void MissileStage3(){_missileStage=3;ApplyThrustOverride(_detachThrusters,MinThrust);}// Ignites main thrust.
void MissileStage4(){_missileStage=4;foreach(var m in _artMasses){m.Enabled=false;}foreach(var c in _cameras){c.EnableRaycast=true;c.Enabled=true;}ApplyThrustOverride(_detachThrusters,MinThrust);ApplyThrustOverride(_sideThrusters,MinThrust);ApplyThrustOverride(_mainThrusters,100f);Me.CubeGrid.CustomName=_missileGroupNameTag;_killAllowed=true;}
#endregion

#region Missile Guidance
// Delays GuideMissile until the guidance delay is finished.
void ActivateGuidance(){_enableGuidance=true;}void GuidanceNavAndControl(){if((_guidanceMode&amp;GuidanceMode.Homing)!=0)ActiveHomingScans();if(!_enableGuidance)return;Vector3D missilePos,missileVel,gravityVec;MatrixD missileMatrix;double missileMass,missileAccel;bool pastArmingRange,shouldSpiral;Navigation(_minimumArmingRange,_enableEvasion,_evadeWithSpiral,out missileMatrix,out missilePos,out missileVel,out _shooterPos,out gravityVec,out missileMass,out missileAccel,out _distanceFromShooter,out pastArmingRange,out shouldSpiral);Vector3D accelCmd=GuidanceMain(_guidanceMode,missileMatrix,missilePos,missileVel,gravityVec,missileAccel,pastArmingRange,shouldSpiral,out _shouldProximityScan);Control(missileMatrix,accelCmd,gravityVec,missileVel,missileMass);
#endregion
}void Navigation(double minArmingRange,bool enableEvasion,bool evadeWithSpiral,out MatrixD missileMatrix,out Vector3D missilePos,out Vector3D missileVel,out Vector3D shooterPos,out Vector3D gravity,out double missileMass,out double missileAcceleration,out double distanceFromShooter,out bool pastMinArmingRange,out bool shouldSpiral){missilePos=_missileReference.CenterOfMass;missileVel=_missileReference.GetShipVelocities().LinearVelocity;missileMatrix=_missileReference.WorldMatrix;// TODO: Determine from thrust allocation
shooterPos=_shooterPosCached+_offsetLeft*_shooterLeftVec+_offsetUp*_shooterUpVec;gravity=_missileReference.GetNaturalGravity();distanceFromShooter=Vector3D.Distance(_shooterPos,missilePos);ScaleAntennaRange(distanceFromShooter+100);// Computing mass, thrust, and acceleration
double missileThrust=CalculateMissileThrust(_mainThrusters);missileMass=_missileReference.CalculateShipMass().PhysicalMass;missileAcceleration=missileThrust/missileMass;pastMinArmingRange=Vector3D.DistanceSquared(missilePos,shooterPos)&gt;=minArmingRange*minArmingRange;shouldSpiral=enableEvasion&amp;&amp;evadeWithSpiral;}Vector3D GuidanceMain(GuidanceMode guidanceMode,MatrixD missileMatrix,Vector3D missilePos,Vector3D missileVel,Vector3D gravity,double missileAcceleration,bool pastMinArmingRange,bool shouldSpiral,out bool shouldProximityScan){Vector3D accelCmd;if(guidanceMode==GuidanceMode.BeamRiding){accelCmd=BeamRideGuidance(missilePos,missileVel,gravity,missileMatrix.Forward,missileAcceleration);shouldProximityScan=pastMinArmingRange;}else{Vector3D adjustedTargetPos;accelCmd=HomingGuidance(missilePos,missileVel,gravity,missileAcceleration,out adjustedTargetPos);double distanceToTgtSq=Vector3D.DistanceSquared(missilePos,adjustedTargetPos);double closingSpeedSq=(missileVel-_targetVel).LengthSquared();shouldProximityScan=pastMinArmingRange&amp;&amp;(closingSpeedSq&gt;distanceToTgtSq);// Roughly 1 second till impact
// Only spiral if we are close enough to the target to conserve fuel
shouldSpiral&amp;=((_spiralActivationRange*_spiralActivationRange&gt;distanceToTgtSq)&amp;&amp;(closingSpeedSq*4.0&lt;distanceToTgtSq));// TODO: Don't hard code this lol
}if(shouldSpiral){accelCmd=missileAcceleration*SpiralTrajectory(accelCmd,_missileReference.WorldMatrix.Up);}if(_enableEvasion&amp;&amp;_evadeWithRandomizedHeading){accelCmd+=missileAcceleration*_randomizedHeadingVector;}return accelCmd;}Vector3D BeamRideGuidance(Vector3D missilePos,Vector3D missileVel,Vector3D gravity,Vector3D missileForwardVec,double missileAcceleration){var shooterToMissileVec=missilePos-_shooterPos;if(Vector3D.IsZero(_shooterForwardVec))//this is to avoid NaN cases when the shooterForwardVec isnt cached yet
_shooterForwardVec=missileForwardVec;var projectionVec=VectorMath.Projection(shooterToMissileVec,_shooterForwardVec);double missileSpeed=missileVel.Length();Vector3D destinationVec=_shooterPos+projectionVec+_shooterForwardVec*Math.Max(2*missileSpeed,200);if(_shooterForwardVec.Dot(shooterToMissileVec)&gt;0)// Missile is in front of the shooter
{if(!_hasPassed){_hasPassed=true;}}else if(_hasPassed)// If behind shooter and we have already passed the shooter before
{int signLeft=Math.Sign(shooterToMissileVec.Dot(_shooterLeftVec));int signUp=Math.Sign(shooterToMissileVec.Dot(_shooterUpVec));destinationVec+=signLeft*100*_shooterLeftVec+signUp*100*_shooterUpVec;}Vector3D missileToTargetVec=destinationVec-missilePos;Vector3D accelCmd;if(_missileStage==4){accelCmd=CalculateDriftCompensation(missileVel,missileToTargetVec,missileAcceleration,0.5,gravity,60);}else{accelCmd=missileToTargetVec;}if(!Vector3D.IsZero(gravity)){accelCmd=MissileGuidanceBase.GravityCompensation(missileAcceleration,accelCmd,gravity);}return VectorMath.SafeNormalize(accelCmd)*missileAcceleration;}Vector3D HomingGuidance(Vector3D missilePos,Vector3D missileVel,Vector3D gravityVec,double missileAcceleration,out Vector3D adjustedTargetPos){adjustedTargetPos=_targetPos+_targetVel*(_timeSinceLastLock+_timeSinceLastIngest);if(_topDownAttack&amp;&amp;gravityVec.LengthSquared()&gt;1e-3&amp;&amp;!_shouldDive){if(VectorMath.AngleBetween(adjustedTargetPos-missilePos,gravityVec)&lt;TopdownDescentAngle){_shouldDive=true;}else{adjustedTargetPos+=Vector3D.Normalize(gravityVec)*-_topDownAttackHeight;}}if(_maxAimDispersion&gt;0.5){if(Vector3D.IsZero(_aimDispersion)){_aimDispersion=ComputeRandomDispersion();}adjustedTargetPos+=VectorMath.Rejection(_aimDispersion,adjustedTargetPos-missilePos);}Vector3D accelCmd=_selectedGuidance.Update(missilePos,missileVel,missileAcceleration,adjustedTargetPos,_targetVel,gravityVec);return accelCmd*missileAcceleration;}void Control(MatrixD missileMatrix,Vector3D accelCmd,Vector3D gravityVec,Vector3D velocityVec,double mass){if(_missileStage==4){var headingDeviation=VectorMath.CosBetween(accelCmd,missileMatrix.Forward);ApplyThrustOverride(_mainThrusters,(float)MathHelper.Clamp(headingDeviation,0.25f,1f)*100f);var sideVelocity=VectorMath.Rejection(velocityVec,accelCmd);ApplySideThrust(_sideThrusters,sideVelocity,gravityVec,mass);}// Get pitch and yaw angles
double yaw,pitch,roll;GetRotationAnglesSimultaneous(accelCmd,-gravityVec,missileMatrix,out pitch,out yaw,out roll);// Angle controller
double yawSpeed=_yawPID.Control(yaw);double pitchSpeed=_pitchPID.Control(pitch);// Handle roll more simply
double rollSpeed=0;if(Math.Abs(_missileSpinRPM)&gt;1e-3&amp;&amp;_missileStage==4){rollSpeed=_missileSpinRPM*RpmToRad;}else{rollSpeed=roll;}// Yaw and pitch slowdown to avoid overshoot
if(Math.Abs(yaw)&lt;GyroSlowdownAngle){yawSpeed=UpdatesPerSecond*.5*yaw;}if(Math.Abs(pitch)&lt;GyroSlowdownAngle){pitchSpeed=UpdatesPerSecond*.5*pitch;}ApplyGyroOverride(pitchSpeed,yawSpeed,rollSpeed,_gyros,missileMatrix);}
#region Broadcast Missile IFF
void NetworkTargets(){bool hasTarget=_guidanceMode==GuidanceMode.Active&amp;&amp;_raycastHoming.Status==RaycastHoming.TargetingStatus.Locked;int capacity=hasTarget ? 2:1;_messageBuilder.Capacity=capacity;var myType=TargetRelation.Missile|(Me.CubeGrid.GridSizeEnum==MyCubeSize.Large ? TargetRelation.LargeGrid:TargetRelation.SmallGrid);var myTuple=new MyTuple&lt;byte,long,Vector3D,double&gt;((byte)(TargetRelation.Friendly|myType),Me.CubeGrid.EntityId,Me.WorldAABB.Center,Me.CubeGrid.WorldAABB.HalfExtents.LengthSquared());_messageBuilder.Add(myTuple);if(hasTarget){TargetRelation relation=TargetRelation.Locked;switch(_raycastHoming.TargetRelation){case MyRelationsBetweenPlayerAndBlock.Owner:case MyRelationsBetweenPlayerAndBlock.Friends:case MyRelationsBetweenPlayerAndBlock.FactionShare:relation|=TargetRelation.Friendly;break;case MyRelationsBetweenPlayerAndBlock.Enemies:relation|=TargetRelation.Enemy;break;// Neutral is assumed if not friendly or enemy
}switch(_raycastHoming.TargetType){case MyDetectedEntityType.LargeGrid:relation|=TargetRelation.LargeGrid;break;case MyDetectedEntityType.SmallGrid:relation|=TargetRelation.SmallGrid;break;}myTuple=new MyTuple&lt;byte,long,Vector3D,double&gt;((byte)relation,_raycastHoming.TargetId,_raycastHoming.TargetCenter,0);_messageBuilder.Add(myTuple);}IGC.SendBroadcastMessage(IgcTagIff,_messageBuilder.MoveToImmutable());}
#endregion

#region Block Property Functions
string GetAntennaName(){switch(_antennaMode.Value){case AntennaNameMode.Meme:return _antennaMemeMessages[_memeIndex];case AntennaNameMode.MissileName:return _missileNameTag;case AntennaNameMode.MissileStatus:return $"{_missileNameTag} / Mode: {_guidanceMode} / Age: {(_guidanceMode == GuidanceMode.BeamRiding ? 0 : _timeSinceLastLock):0.0}";default: case AntennaNameMode.Empty: return "";}}void ScaleAntennaRange(double dist){foreach(IMyRadioAntenna a in _antennas){if(a.Closed)continue;a.Radius=(float)dist;a.EnableBroadcasting=!_shouldStealth;a.CustomName=GetAntennaName();}foreach(IMyBeacon thisBeacon in _beacons){if(thisBeacon.Closed)continue;thisBeacon.Radius=(float)dist;}}void ApplyThrustOverride(List&lt;IMyThrust&gt;thrusters,float overrideValue,bool turnOn=true){float thrustProportion=overrideValue*0.01f;foreach(IMyThrust t in thrusters){if(t.Closed)continue;if(t.Enabled!=turnOn)t.Enabled=turnOn;if(thrustProportion!=t.ThrustOverridePercentage)t.ThrustOverridePercentage=thrustProportion;}}void ApplySideThrust(List&lt;IMyThrust&gt;thrusters,Vector3D controlAccel,Vector3D gravity,double mass){var desiredThrust=mass*(2*controlAccel+gravity);var thrustToApply=desiredThrust;foreach(IMyThrust t in thrusters){if(!t.IsWorking){continue;}double neededThrust=Vector3D.Dot(t.WorldMatrix.Forward,thrustToApply);if(neededThrust&gt;0){var outputProportion=MathHelper.Clamp(neededThrust/t.MaxEffectiveThrust,0,1);t.ThrustOverridePercentage=(float)outputProportion;thrustToApply-=t.WorldMatrix.Forward*outputProportion*t.MaxEffectiveThrust;}else{t.ThrustOverridePercentage=MinThrust;}}}void CheckProximity(){if(!_shouldProximityScan||_markedForDetonation)return;Vector3D adjustedTargetPos=_targetPos+_targetVel*(_timeSinceLastLock+_timeSinceLastIngest);Vector3D missileVelocity=_missileReference.GetShipVelocities().LinearVelocity;Vector3D closingVelocity=_guidanceMode==GuidanceMode.BeamRiding ? missileVelocity:missileVelocity-_targetVel;Vector3D missileToTarget=adjustedTargetPos-_missileReference.GetPosition();double distanceToTarget=missileToTarget.Length();Vector3D missileToTargetNorm=missileToTarget/distanceToTarget;double closingSpeed;// If we have no cameras or sensors for detonation, use some approximations
if(_cameras.Count==0&amp;&amp;_sensors.Count==0){if(_guidanceMode==GuidanceMode.BeamRiding)// Arm warheads if in beam ride mode
{foreach(var thisWarhead in _warheads){if(thisWarhead.Closed)continue;if(!thisWarhead.IsArmed)thisWarhead.IsArmed=true;}}else{// Use bounding box estimation for detonation
double adjustedDetonationRange=_missileReference.CubeGrid.WorldVolume.Radius+_raycastRange;closingSpeed=Vector3D.Dot(closingVelocity,missileToTargetNorm);if(distanceToTarget&lt;adjustedDetonationRange+closingSpeed*SecondsPerUpdate){Detonate((distanceToTarget-adjustedDetonationRange)/closingSpeed);return;}}return;}// Try raycast detonation methods
double raycastHitDistance=0;// Do one scan in the direction of the target (if applicable)
if((_guidanceMode&amp;GuidanceMode.Homing)!=0&amp;&amp;RaycastTripwireInDirection(missileToTargetNorm,closingVelocity,out raycastHitDistance,out closingSpeed)){Detonate((raycastHitDistance-_raycastRange)/closingSpeed);return;}/*
Do one scan in the direction of the relative velocity vector
If that fails, we will scan a cross pattern that traces the radius of the missile to try and catch
complex geometry and avoid missed detonations
*/
double apparentRadius=CalculateGridRadiusFromAxis(_missileReference.CubeGrid,closingVelocity)+_raycastRange;var baseDirection=VectorMath.SafeNormalize(closingVelocity)*_raycastRange;var perp1=Vector3D.CalculatePerpendicularVector(closingVelocity)*apparentRadius;var perp2=VectorMath.SafeNormalize(Vector3D.Cross(perp1,closingVelocity))*apparentRadius;if(RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,perp1)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,-perp1)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,perp2)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,-perp2)){Detonate((raycastHitDistance-_raycastRange)/closingSpeed);return;}foreach(IMySensorBlock sensor in _sensors){if(sensor.Closed)continue;if(!sensor.Enabled)sensor.Enabled=true;if(sensor.IsActive){_sensorEntities.Clear();sensor.DetectedEntities(_sensorEntities);foreach(var targetInfo in _sensorEntities){if(IsValidTarget(targetInfo)){Detonate(0);return;}}}}}bool RaycastTripwireInDirection(Vector3D directionToTarget,Vector3D closingVelocity,out double raycastHitDistance,out double closingSpeed,Vector3D? offsetVector=null){raycastHitDistance=0;closingSpeed=0;var directionToTargetNorm=VectorMath.SafeNormalize(directionToTarget);foreach(var cameraBuffer in _cameraBufferList){if(cameraBuffer.Count==0){continue;}Vector3D localDirToTgt=Vector3D.TransformNormal(directionToTargetNorm,MatrixD.Transpose(cameraBuffer.Peek().WorldMatrix));if(localDirToTgt.Z&lt;0&amp;&amp;Math.Abs(localDirToTgt.X)&lt;.7071&amp;&amp;Math.Abs(localDirToTgt.Y)&lt;.7071){IMyCameraBlock cam=cameraBuffer.MoveNext();if(!cam.EnableRaycast){cam.EnableRaycast=true;}if(!cam.Enabled){cam.Enabled=true;}closingSpeed=Math.Max(0,Vector3D.Dot(closingVelocity,directionToTargetNorm));var closingDisplacement=closingSpeed*SecondsPerUpdate;var scanRange=_raycastRange+closingDisplacement;var scanPosition=cam.GetPosition()+directionToTargetNorm*scanRange;if(offsetVector.HasValue){scanPosition+=offsetVector.Value;}MyDetectedEntityInfo targetInfo=cam.Raycast(scanPosition);bool valid=IsValidTarget(targetInfo);if(valid){raycastHitDistance=Vector3D.Distance(targetInfo.HitPosition.Value,cam.GetPosition());}return valid;}}return false;}bool IsValidTarget(MyDetectedEntityInfo targetInfo){if(targetInfo.IsEmpty()||(targetInfo.EntityId==Me.CubeGrid.EntityId)||(!_ignoreIdForDetonation&amp;&amp;((_guidanceMode&amp;GuidanceMode.Homing)!=0)&amp;&amp;(targetInfo.EntityId!=_raycastHoming.TargetId))||(_raycastIgnorePlanetSurface&amp;&amp;targetInfo.Type==MyDetectedEntityType.Planet)||(_raycastIgnoreFriends&amp;&amp;(targetInfo.Relationship&amp;(MyRelationsBetweenPlayerAndBlock.FactionShare|MyRelationsBetweenPlayerAndBlock.Owner))!=0)||(targetInfo.BoundingBox.Size.LengthSquared()&lt;_raycastMinimumTargetSize*_raycastMinimumTargetSize)){return false;}return true;}void Detonate(double fuzeTime){_markedForDetonation=true;foreach(var thisWarhead in _warheads){if(thisWarhead.Closed)continue;thisWarhead.DetonationTime=Math.Max(0f,(float)fuzeTime-1f/60f);thisWarhead.StartCountdown();}}void KillPower(){foreach(var b in _funcBlocks){if(!b.Closed)b.Enabled=false;}Detonate(0);Runtime.UpdateFrequency=UpdateFrequency.None;}double CalculateMissileThrust(List&lt;IMyThrust&gt;mainThrusters){double thrust=0;foreach(var block in mainThrusters){if(block.Closed)continue;thrust+=block.IsFunctional ? block.MaxEffectiveThrust:0;}return thrust;}
#endregion

#region Vector Math Functions
// Computes optimal drift compensation vector to eliminate drift in a specified time
static Vector3D CalculateDriftCompensation(Vector3D velocity,Vector3D directHeading,double accel,double timeConstant,Vector3D gravityVec,double maxDriftAngle=60){if(directHeading.LengthSquared()==0)return velocity;if(Vector3D.Dot(velocity,directHeading)&lt;0)return directHeading;if(velocity.LengthSquared()&lt;100)return directHeading;var normalVelocity=VectorMath.Rejection(velocity,directHeading);var normal=VectorMath.SafeNormalize(normalVelocity);var parallel=VectorMath.SafeNormalize(directHeading);var normalAccel=Vector3D.Dot(normal,normalVelocity)/timeConstant;normalAccel=Math.Min(normalAccel,accel*Math.Sin(MathHelper.ToRadians(maxDriftAngle)));var normalAccelerationVector=normalAccel*normal;double parallelAccel=0;var diff=accel*accel-normalAccelerationVector.LengthSquared();if(diff&gt;0)parallelAccel=Math.Sqrt(diff);return parallelAccel*parallel-normal*normalAccel;}void ComputeRandomHeadingVector(){if(!_enableEvasion||!_evadeWithRandomizedHeading||!_enableGuidance||_missileReference==null){return;}double angle=RNGesus.NextDouble()*Math.PI*2.0;_randomizedHeadingVector=Math.Sin(angle)*_missileReference.WorldMatrix.Up+Math.Cos(angle)*_missileReference.WorldMatrix.Right;_randomizedHeadingVector*=_maxRandomAccelRatio;}Vector3D ComputeRandomDispersion(){Vector3D direction=new Vector3D(2*_bellCurveRandom.NextDouble()-1,2*_bellCurveRandom.NextDouble()-1,2*_bellCurveRandom.NextDouble()-1);return _maxAimDispersion*direction;}//Whip's Spiral Trajectory Method v2
double _timeSpiral=0;Vector3D SpiralTrajectory(Vector3D desiredForwardVector,Vector3D desiredUpVector){if(_timeSpiral&gt;_timeMaxSpiral)_timeSpiral=0;double angle=2*Math.PI*_timeSpiral/_timeMaxSpiral;Vector3D forward=VectorMath.SafeNormalize(desiredForwardVector);Vector3D right=VectorMath.SafeNormalize(Vector3D.Cross(forward,desiredUpVector));Vector3D up=Vector3D.Cross(right,forward);double lateralProportion=Math.Sin(_spiralDegrees*DegToRad);double forwardProportion=Math.Sqrt(1-lateralProportion*lateralProportion);return forward*forwardProportion+lateralProportion*(Math.Sin(angle)*up+Math.Cos(angle)*right);}Vector3D[]_corners=new Vector3D[8];double CalculateGridRadiusFromAxis(IMyCubeGrid grid,Vector3D axis){var axisLocal=VectorMath.SafeNormalize(Vector3D.Rotate(axis,MatrixD.Transpose(grid.WorldMatrix)));var min=((Vector3D)grid.Min-0.5)*grid.GridSize;var max=((Vector3D)grid.Max+0.5)*grid.GridSize;var bb=new BoundingBoxD(min,max);bb.GetCorners(_corners);double maxLenSq=0;var point=_corners[0];foreach(var corner in _corners){var dirn=corner-bb.Center;var rej=dirn-dirn.Dot(axisLocal)*axisLocal;var lenSq=rej.LengthSquared();if(lenSq&gt;maxLenSq){point=corner;maxLenSq=lenSq;}}return Math.Sqrt(maxLenSq);}
#endregion

#region Storage Parsing/Saving
void ParseStorage()//TODO: Add proper ini save/parse for Active guidance
{if(GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupNameTag)!=null){// This means missile is still attached to firing ship
Storage="";return;}var storageSplit = Storage.Split('\n');foreach (var line in storageSplit){if (line.StartsWith("@")){var trimmedLine = line.Replace("@", "");bool parsed = int.TryParse(trimmedLine, out _missileStage);if (parsed &amp;&amp; _missileStage == 0){_savedKeycodes.Clear();return;}continue;}long code = 0;if (!string.IsNullOrWhiteSpace(line) &amp;&amp; long.TryParse(line, out code))_savedKeycodes.Add(code);}if (_savedKeycodes.Count != 0 &amp;&amp; _missileStage != 0){_postSetupAction = PostSetupAction.Fire;InitiateSetup(true);}Echo("Storage parsed");}void Save(){_saveSB.Clear();foreach (var id in _savedKeycodes)_saveSB.Append($"{id}\n");_saveSB.Append($"@{_missileStage}");Storage=_saveSB.ToString();}
#endregion

#endregion

#region INCLUDES
enum TargetRelation:byte{Neutral=0,Other=0,Enemy=1,Friendly=2,Locked=4,LargeGrid=8,SmallGrid=16,Missile=32,Asteroid=64,RelationMask=Neutral|Enemy|Friendly,TypeMask=LargeGrid|SmallGrid|Other|Missile|Asteroid}public static class VectorMath{/// &lt;summary&gt;
///  Normalizes a vector only if it is non-zero and non-unit
/// &lt;/summary&gt;
public static Vector3D SafeNormalize(Vector3D a){if(Vector3D.IsZero(a))return Vector3D.Zero;if(Vector3D.IsUnit(ref a))return a;return Vector3D.Normalize(a);}/// &lt;summary&gt;
/// Reflects vector a over vector b with an optional rejection factor
/// &lt;/summary&gt;
public static Vector3D Reflection(Vector3D a,Vector3D b,double rejectionFactor=1)//reflect a over b
{Vector3D proj=Projection(a,b);Vector3D rej=a-proj;return proj-rej*rejectionFactor;}/// &lt;summary&gt;
/// Rejects vector a on vector b
/// &lt;/summary&gt;
public static Vector3D Rejection(Vector3D a,Vector3D b)//reject a on b
{if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return Vector3D.Zero;return a-a.Dot(b)/b.LengthSquared()*b;}/// &lt;summary&gt;
/// Projects vector a onto vector b
/// &lt;/summary&gt;
public static Vector3D Projection(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return Vector3D.Zero;if(Vector3D.IsUnit(ref b))return a.Dot(b)*b;return a.Dot(b)/b.LengthSquared()*b;}/// &lt;summary&gt;
/// Scalar projection of a onto b
/// &lt;/summary&gt;
public static double ScalarProjection(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;if(Vector3D.IsUnit(ref b))return a.Dot(b);return a.Dot(b)/b.Length();}/// &lt;summary&gt;
/// Computes angle between 2 vectors in radians.
/// &lt;/summary&gt;
public static double AngleBetween(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;else return Math.Acos(MathHelper.Clamp(a.Dot(b)/Math.Sqrt(a.LengthSquared()*b.LengthSquared()),-1,1));}/// &lt;summary&gt;
/// Computes cosine of the angle between 2 vectors.
/// &lt;/summary&gt;
public static double CosBetween(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;else return MathHelper.Clamp(a.Dot(b)/Math.Sqrt(a.LengthSquared()*b.LengthSquared()),-1,1);}/// &lt;summary&gt;
/// Returns if the normalized dot product between two vectors is greater than the tolerance.
/// This is helpful for determining if two vectors are "more parallel" than the tolerance.
/// &lt;/summary&gt;
/// &lt;param name="a"&gt;First vector&lt;/param&gt;
/// &lt;param name="b"&gt;Second vector&lt;/param&gt;
/// &lt;param name="tolerance"&gt;Cosine of maximum angle&lt;/param&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public static bool IsDotProductWithinTolerance(Vector3D a,Vector3D b,double tolerance){double dot=Vector3D.Dot(a,b);double num=a.LengthSquared()*b.LengthSquared()*tolerance*Math.Abs(tolerance);return Math.Abs(dot)*dot&gt;num;}}/// Whip's GetRotationAnglesSimultaneous - Last modified: 2022/08/10
/// &lt;summary&gt;
/// &lt;para&gt;
///     This method computes the axis-angle rotation required to align the
///     reference world matrix with the desired forward and up vectors.
/// &lt;/para&gt;
/// &lt;para&gt;
///     The desired forward and up vectors are used to construct the desired
///     target orientation relative to the current world matrix orientation.
///     The current orientation of the craft with respect to itself will be the
///     identity matrix, thus the error between our desired orientation and our
///     target orientation is simply the target orientation itself:
///     M_target = M_current * M_error =&gt;
///     M_target = I * M_error =&gt;
///     M_target = M_error
/// &lt;/para&gt;
/// &lt;para&gt;
///     This is designed for use with Keen's gyroscopes where:
///     + pitch = -X rotation,
///     + yaw   = -Y rotation,
///     + roll  = -Z rotation
/// &lt;/para&gt;
/// &lt;/summary&gt;
/// &lt;remarks&gt;
///     Dependencies: &lt;c&gt;VectorMath.SafeNormalize&lt;/c&gt;
/// &lt;/remarks&gt;
/// &lt;param name="desiredForwardVector"&gt;
///     Desired forward direction in world frame.
///     This is the primary constraint used to allign pitch and yaw.
/// &lt;/param&gt;
/// &lt;param name="desiredUpVector"&gt;
///     Desired up direction in world frame.
///     This is the secondary constraint used to align roll.
///     Set to &lt;c&gt;Vector3D.Zero&lt;/c&gt; if roll control is not desired.
/// &lt;/param&gt;
/// &lt;param name="worldMatrix"&gt;
///     World matrix describing current orientation.
///     The translation part of the matrix is ignored; only the orientation matters.
/// &lt;/param&gt;
/// &lt;param name="pitch"&gt;Pitch angle to desired orientation(rads).&lt;/param&gt;
/// &lt;param name="yaw"&gt;Yaw angle to desired orientation(rads).&lt;/param&gt;
/// &lt;param name="roll"&gt;Roll angle to desired orientation(rads).&lt;/param&gt;
public static void GetRotationAnglesSimultaneous(Vector3D desiredForwardVector,Vector3D desiredUpVector,MatrixD worldMatrix,out double pitch,out double yaw,out double roll){desiredForwardVector=VectorMath.SafeNormalize(desiredForwardVector);MatrixD transposedWm;MatrixD.Transpose(ref worldMatrix,out transposedWm);Vector3D.Rotate(ref desiredForwardVector,ref transposedWm,out desiredForwardVector);Vector3D.Rotate(ref desiredUpVector,ref transposedWm,out desiredUpVector);Vector3D leftVector=Vector3D.Cross(desiredUpVector,desiredForwardVector);Vector3D axis;double angle;if(Vector3D.IsZero(desiredUpVector)||Vector3D.IsZero(leftVector)){/*
* Simple case where we have no valid roll constraint:
* We merely cross the current forward vector (Vector3D.Forward) on the
* desiredForwardVector.
*/
axis=new Vector3D(-desiredForwardVector.Y,desiredForwardVector.X,0);angle=Math.Acos(MathHelper.Clamp(-desiredForwardVector.Z,-1.0,1.0));}else{/*
* Here we need to construct the target orientation matrix so that we
* can extract the error from it in axis-angle representation.
*/
leftVector=VectorMath.SafeNormalize(leftVector);Vector3D upVector=Vector3D.Cross(desiredForwardVector,leftVector);MatrixD targetOrientation=new MatrixD(){Forward=desiredForwardVector,Left=leftVector,Up=upVector,};axis=new Vector3D(targetOrientation.M32-targetOrientation.M23,targetOrientation.M13-targetOrientation.M31,targetOrientation.M21-targetOrientation.M12);double trace=targetOrientation.M11+targetOrientation.M22+targetOrientation.M33;angle=Math.Acos(MathHelper.Clamp((trace-1)*0.5,-1.0,1.0));}if(Vector3D.IsZero(axis)){/*
* Degenerate case where we get a zero axis. This means we are either
* exactly aligned or exactly anti-aligned. In the latter case, we just
* assume the yaw is PI to get us away from the singularity.
*/
angle=desiredForwardVector.Z&lt;0 ? 0:Math.PI;yaw=angle;pitch=0;roll=0;return;}Vector3D axisAngle=VectorMath.SafeNormalize(axis)*angle;yaw=axisAngle.Y;pitch=axisAngle.X;roll=axisAngle.Z;}/*
Whip's ApplyGyroOverride - Last modified: 2020/08/27

Takes pitch, yaw, and roll speeds relative to the gyro's backwards
ass rotation axes.
*/
void ApplyGyroOverride(double pitchSpeed,double yawSpeed,double rollSpeed,List&lt;IMyGyro&gt;gyroList,MatrixD worldMatrix){var rotationVec=new Vector3D(pitchSpeed,yawSpeed,rollSpeed);var relativeRotationVec=Vector3D.TransformNormal(rotationVec,worldMatrix);foreach(var thisGyro in gyroList){var transformedRotationVec=Vector3D.TransformNormal(relativeRotationVec,Matrix.Transpose(thisGyro.WorldMatrix));thisGyro.Pitch=(float)transformedRotationVec.X;thisGyro.Yaw=(float)transformedRotationVec.Y;thisGyro.Roll=(float)transformedRotationVec.Z;thisGyro.GyroOverride=true;}}
#region Scheduler
/// &lt;summary&gt;
/// Class for scheduling actions to occur at specific frequencies. Actions can be updated in parallel or in sequence (queued).
/// &lt;/summary&gt;
public class Scheduler{public double CurrentTimeSinceLastRun{get;private set;}=0;public long CurrentTicksSinceLastRun{get;private set;}=0;QueuedAction _currentlyQueuedAction=null;bool _firstRun=true;bool _inUpdate=false;readonly bool _ignoreFirstRun;readonly List&lt;ScheduledAction&gt;_actionsToAdd=new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt;_scheduledActions=new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt;_actionsToDispose=new List&lt;ScheduledAction&gt;();readonly Queue&lt;QueuedAction&gt;_queuedActions=new Queue&lt;QueuedAction&gt;();readonly Program _program;public const long TicksPerSecond=60;public const double TickDurationSeconds=1.0/TicksPerSecond;const long ClockTicksPerGameTick=166666L;/// &lt;summary&gt;
/// Constructs a scheduler object with timing based on the runtime of the input program.
/// &lt;/summary&gt;
public Scheduler(Program program,bool ignoreFirstRun=false){_program=program;_ignoreFirstRun=ignoreFirstRun;}/// &lt;summary&gt;
/// Updates all ScheduledAcions in the schedule and the queue.
/// &lt;/summary&gt;
public void Update(){_inUpdate=true;long deltaTicks=Math.Max(0,_program.Runtime.TimeSinceLastRun.Ticks/ClockTicksPerGameTick);if(_firstRun){if(_ignoreFirstRun){deltaTicks=0;}_firstRun=false;}_actionsToDispose.Clear();foreach(ScheduledAction action in _scheduledActions){CurrentTicksSinceLastRun=action.TicksSinceLastRun+deltaTicks;CurrentTimeSinceLastRun=action.TimeSinceLastRun+deltaTicks*TickDurationSeconds;action.Update(deltaTicks);if(action.JustRan&amp;&amp;action.DisposeAfterRun){_actionsToDispose.Add(action);}}if(_actionsToDispose.Count&gt;0){_scheduledActions.RemoveAll((x)=&gt;_actionsToDispose.Contains(x));}if(_currentlyQueuedAction==null){// If queue is not empty, populate current queued action
if(_queuedActions.Count!=0)_currentlyQueuedAction=_queuedActions.Dequeue();}// If queued action is populated
if(_currentlyQueuedAction!=null){_currentlyQueuedAction.Update(deltaTicks);if(_currentlyQueuedAction.JustRan){if(!_currentlyQueuedAction.DisposeAfterRun){_queuedActions.Enqueue(_currentlyQueuedAction);}// Set the queued action to null for the next cycle
_currentlyQueuedAction=null;}}_inUpdate=false;if(_actionsToAdd.Count&gt;0){_scheduledActions.AddRange(_actionsToAdd);_actionsToAdd.Clear();}}/// &lt;summary&gt;
/// Adds an Action to the schedule. All actions are updated each update call.
/// &lt;/summary&gt;
public void AddScheduledAction(Action action,double updateFrequency,bool disposeAfterRun=false,double timeOffset=0){ScheduledAction scheduledAction=new ScheduledAction(action,updateFrequency,disposeAfterRun,timeOffset);if(!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}/// &lt;summary&gt;
/// Adds a ScheduledAction to the schedule. All actions are updated each update call.
/// &lt;/summary&gt;
public void AddScheduledAction(ScheduledAction scheduledAction){if(!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}/// &lt;summary&gt;
/// Adds an Action to the queue. Queue is FIFO.
/// &lt;/summary&gt;
public void AddQueuedAction(Action action,double updateInterval,bool removeAfterRun=false){if(updateInterval&lt;=0){updateInterval=0.001;// avoids divide by zero
}QueuedAction scheduledAction=new QueuedAction(action,updateInterval,removeAfterRun);_queuedActions.Enqueue(scheduledAction);}/// &lt;summary&gt;
/// Adds a ScheduledAction to the queue. Queue is FIFO.
/// &lt;/summary&gt;
public void AddQueuedAction(QueuedAction scheduledAction){_queuedActions.Enqueue(scheduledAction);}}public class QueuedAction:ScheduledAction{public QueuedAction(Action action,double runInterval,bool removeAfterRun=false):base(action,1.0/runInterval,removeAfterRun:removeAfterRun,timeOffset:0){}}public class ScheduledAction{public bool JustRan{get;private set;}=false;public bool DisposeAfterRun{get;private set;}=false;public double TimeSinceLastRun{get{return TicksSinceLastRun*Scheduler.TickDurationSeconds;}}public long TicksSinceLastRun{get;private set;}=0;public double RunInterval{get{return RunIntervalTicks*Scheduler.TickDurationSeconds;}set{RunIntervalTicks=(long)Math.Round(value*Scheduler.TicksPerSecond);}}public long RunIntervalTicks{get{return _runIntervalTicks;}set{if(value==_runIntervalTicks)return;_runIntervalTicks=value&lt;0 ? 0:value;_runFrequency=value==0 ? double.MaxValue:Scheduler.TicksPerSecond/_runIntervalTicks;}}public double RunFrequency{get{return _runFrequency;}set{if(value==_runFrequency)return;if(value==0)RunIntervalTicks=long.MaxValue;else RunIntervalTicks=(long)Math.Round(Scheduler.TicksPerSecond/value);}}long _runIntervalTicks;double _runFrequency;readonly Action _action;/// &lt;summary&gt;
/// Class for scheduling an action to occur at a specified frequency (in Hz).
/// &lt;/summary&gt;
/// &lt;param name="action"&gt;Action to run&lt;/param&gt;
/// &lt;param name="runFrequency"&gt;How often to run in Hz&lt;/param&gt;
public ScheduledAction(Action action,double runFrequency,bool removeAfterRun=false,double timeOffset=0){_action=action;RunFrequency=runFrequency;// Implicitly sets RunInterval
DisposeAfterRun=removeAfterRun;TicksSinceLastRun=(long)Math.Round(timeOffset*Scheduler.TicksPerSecond);}public void Update(long deltaTicks){TicksSinceLastRun+=deltaTicks;if(TicksSinceLastRun&gt;=RunIntervalTicks){_action.Invoke();TicksSinceLastRun=0;JustRan=true;}else{JustRan=false;}}}
#endregion
/// &lt;summary&gt;
/// Discrete time PID controller class.
/// Last edited: 2022/08/11 - Whiplash141
/// &lt;/summary&gt;
public class PID{public double Kp{get;set;}=0;public double Ki{get;set;}=0;public double Kd{get;set;}=0;public double Value{get;private set;}double _timeStep=0;double _inverseTimeStep=0;double _errorSum=0;double _lastError=0;bool _firstRun=true;public PID(double kp,double ki,double kd,double timeStep){Kp=kp;Ki=ki;Kd=kd;_timeStep=timeStep;_inverseTimeStep=1/_timeStep;}protected virtual double GetIntegral(double currentError,double errorSum,double timeStep){return errorSum+currentError*timeStep;}public double Control(double error){//Compute derivative term
double errorDerivative=(error-_lastError)*_inverseTimeStep;if(_firstRun){errorDerivative=0;_firstRun=false;}//Get error sum
_errorSum=GetIntegral(error,_errorSum,_timeStep);//Store this error as last error
_lastError=error;//Construct output
Value=Kp*error+Ki*_errorSum+Kd*errorDerivative;return Value;}public double Control(double error,double timeStep){if(timeStep!=_timeStep){_timeStep=timeStep;_inverseTimeStep=1/_timeStep;}return Control(error);}public virtual void Reset(){_errorSum=0;_lastError=0;_firstRun=true;}}/// &lt;summary&gt;
/// Class that tracks runtime history.
/// &lt;/summary&gt;
public class RuntimeTracker{public int Capacity{get;set;}public double Sensitivity{get;set;}public double MaxRuntime{get;private set;}public double MaxInstructions{get;private set;}public double AverageRuntime{get;private set;}public double AverageInstructions{get;private set;}public double LastRuntime{get;private set;}public double LastInstructions{get;private set;}readonly Queue&lt;double&gt;_runtimes=new Queue&lt;double&gt;();readonly Queue&lt;double&gt;_instructions=new Queue&lt;double&gt;();readonly int _instructionLimit;readonly Program _program;const double MS_PER_TICK=16.6666;const string Format="General Runtime Info\n" + "- Avg runtime: {0:n4} ms\n" + "- Last runtime: {1:n4} ms\n" + "- Max runtime: {2:n4} ms\n" + "- Avg instructions: {3:n2}\n" + "- Last instructions: {4:n0}\n" + "- Max instructions: {5:n0}\n" + "- Avg complexity: {6:0.000}%";public RuntimeTracker(Program program,int capacity=100,double sensitivity=0.005){_program=program;Capacity=capacity;Sensitivity=sensitivity;_instructionLimit=_program.Runtime.MaxInstructionCount;}public void AddRuntime(){double runtime=_program.Runtime.LastRunTimeMs;LastRuntime=runtime;AverageRuntime+=(Sensitivity*runtime);int roundedTicksSinceLastRuntime=(int)Math.Round(_program.Runtime.TimeSinceLastRun.TotalMilliseconds/MS_PER_TICK);if(roundedTicksSinceLastRuntime==1){AverageRuntime*=(1-Sensitivity);}else if(roundedTicksSinceLastRuntime&gt;1){AverageRuntime*=Math.Pow((1-Sensitivity),roundedTicksSinceLastRuntime);}_runtimes.Enqueue(runtime);if(_runtimes.Count==Capacity){_runtimes.Dequeue();}MaxRuntime=_runtimes.Max();}public void AddInstructions(){double instructions=_program.Runtime.CurrentInstructionCount;LastInstructions=instructions;AverageInstructions=Sensitivity*(instructions-AverageInstructions)+AverageInstructions;_instructions.Enqueue(instructions);if(_instructions.Count==Capacity){_instructions.Dequeue();}MaxInstructions=_instructions.Max();}public string Write(){return string.Format(Format,AverageRuntime,LastRuntime,MaxRuntime,AverageInstructions,LastInstructions,MaxInstructions,AverageInstructions/_instructionLimit);}}
#region Raycast Homing
class RaycastHoming{public TargetingStatus Status{get;private set;}=TargetingStatus.NotLocked;public Vector3D TargetPosition{get{return OffsetTargeting ? OffsetTargetPosition:TargetCenter;}}public double SearchScanSpread{get;set;}=0;public Vector3D TargetCenter{get;private set;}=Vector3D.Zero;public Vector3D OffsetTargetPosition{get;private set;}=Vector3D.Zero;public Vector3D TargetVelocity{get;private set;}=Vector3D.Zero;public Vector3D HitPosition{get;private set;}=Vector3D.Zero;public Vector3D PreciseModeOffset{get;private set;}=Vector3D.Zero;public bool OffsetTargeting=false;public bool MissedLastScan{get;private set;}=false;public bool LockLost{get;private set;}=false;public bool IsScanning{get;private set;}=false;public double TimeSinceLastLock{get;private set;}=0;public double TargetSize{get;private set;}=0;public double MaxRange{get;private set;}public double MinRange{get;private set;}public long TargetId{get;private set;}=0;public double AutoScanInterval{get;private set;}=0;public double MaxTimeForLockBreak{get;private set;}public MyRelationsBetweenPlayerAndBlock TargetRelation{get;private set;}public MyDetectedEntityType TargetType{get;private set;}public enum TargetingStatus{NotLocked,Locked,TooClose};enum AimMode{Center,Offset,OffsetRelative};AimMode _currentAimMode=AimMode.Center;readonly HashSet&lt;MyDetectedEntityType&gt;_targetFilter=new HashSet&lt;MyDetectedEntityType&gt;();readonly List&lt;IMyCameraBlock&gt;_availableCameras=new List&lt;IMyCameraBlock&gt;();readonly Random _rngeesus=new Random();MyDetectedEntityInfo _info=default(MyDetectedEntityInfo);MatrixD _targetOrientation;Vector3D _targetPositionOverride;HashSet&lt;long&gt;_gridIDsToIgnore=new HashSet&lt;long&gt;();double _timeSinceLastScan=0;bool _manualLockOverride=false;bool _fudgeVectorSwitch=false;double AutoScanScaleFactor{get{return MissedLastScan ? 0.8:1.1;}}public RaycastHoming(double maxRange,double maxTimeForLockBreak,double minRange=0,long gridIDToIgnore=0){MinRange=minRange;MaxRange=maxRange;MaxTimeForLockBreak=maxTimeForLockBreak;AddIgnoredGridID(gridIDToIgnore);}public void SetInitialLockParameters(Vector3D hitPosition,Vector3D targetVelocity,Vector3D offset,double timeSinceLastLock,long targetId){_targetPositionOverride=hitPosition;TargetCenter=hitPosition;HitPosition=hitPosition;OffsetTargetPosition=hitPosition;PreciseModeOffset=offset;TargetVelocity=targetVelocity;TimeSinceLastLock=timeSinceLastLock;_manualLockOverride=true;IsScanning=true;TargetId=targetId;}public void AddIgnoredGridID(long id){_gridIDsToIgnore.Add(id);}public void ClearIgnoredGridIDs(){_gridIDsToIgnore.Clear();}public void AddEntityTypeToFilter(params MyDetectedEntityType[]types){foreach(var type in types){_targetFilter.Add(type);}}public void AcknowledgeLockLost(){LockLost=false;}public void LockOn(){ClearLockInternal();LockLost=false;IsScanning=true;}public void ClearLock(){ClearLockInternal();LockLost=false;}void ClearLockInternal(){_info=default(MyDetectedEntityInfo);IsScanning=false;Status=TargetingStatus.NotLocked;MissedLastScan=false;TimeSinceLastLock=0;TargetSize=0;HitPosition=Vector3D.Zero;TargetId=0;_timeSinceLastScan=141;_currentAimMode=AimMode.Center;TargetRelation=MyRelationsBetweenPlayerAndBlock.NoOwnership;TargetType=MyDetectedEntityType.None;}double RndDbl(){return 2*_rngeesus.NextDouble()-1;}double GaussRnd(){return(RndDbl()+RndDbl()+RndDbl())/3.0;}Vector3D CalculateFudgeVector(Vector3D targetDirection,double fudgeFactor=5){_fudgeVectorSwitch=!_fudgeVectorSwitch;if(!_fudgeVectorSwitch)return Vector3D.Zero;var perpVector1=Vector3D.CalculatePerpendicularVector(targetDirection);var perpVector2=Vector3D.Cross(perpVector1,targetDirection);if(!Vector3D.IsUnit(ref perpVector2))perpVector2.Normalize();var randomVector=GaussRnd()*perpVector1+GaussRnd()*perpVector2;return randomVector*fudgeFactor*TimeSinceLastLock;}Vector3D GetSearchPos(Vector3D origin,Vector3D direction,IMyCameraBlock camera){Vector3D scanPos=origin+direction*MaxRange;if(SearchScanSpread&lt;1e-2){return scanPos;}return scanPos+(camera.WorldMatrix.Left*GaussRnd()+camera.WorldMatrix.Up*GaussRnd())*SearchScanSpread;}public void Update(double timeStep,List&lt;IMyCameraBlock&gt;cameraList,List&lt;IMyShipController&gt;shipControllers,IMyTerminalBlock referenceBlock=null){_timeSinceLastScan+=timeStep;if(!IsScanning)return;TimeSinceLastLock+=timeStep;_info=default(MyDetectedEntityInfo);_availableCameras.Clear();//Check for lock lost
if(TimeSinceLastLock&gt;(MaxTimeForLockBreak+AutoScanInterval)&amp;&amp;Status==TargetingStatus.Locked){LockLost=true;ClearLockInternal();return;}// Determine where to scan next
var scanPosition=Vector3D.Zero;switch(_currentAimMode){case AimMode.Offset:scanPosition=HitPosition+TargetVelocity*TimeSinceLastLock;break;case AimMode.OffsetRelative:scanPosition=OffsetTargetPosition+TargetVelocity*TimeSinceLastLock;break;default:scanPosition=TargetCenter+TargetVelocity*TimeSinceLastLock;break;}if(MissedLastScan&amp;&amp;cameraList.Count&gt;0){scanPosition+=CalculateFudgeVector(scanPosition-cameraList[0].GetPosition());}// Trim out cameras that cant see our next scan position
Vector3D testDirection=Vector3D.Zero;IMyTerminalBlock reference=null;if(Status==TargetingStatus.Locked||_manualLockOverride){GetAvailableCameras(cameraList,_availableCameras,scanPosition,true);}else{/*
* The following prioritizes references in the following hierarchy:
* 1. Currently used camera
* 2. Reference block
* 3. Currently used control seat
*/
if(reference==null)reference=GetControlledCamera(cameraList);if(reference==null)reference=referenceBlock;if(reference==null)reference=GetControlledShipController(shipControllers);if(reference!=null){testDirection=reference.WorldMatrix.Forward;GetAvailableCameras(cameraList,_availableCameras,testDirection);}else{_availableCameras.AddRange(cameraList);}}// Check for transition between faces
if(_availableCameras.Count==0){_timeSinceLastScan=100000;MissedLastScan=true;return;}var camera=GetCameraWithMaxRange(_availableCameras);var cameraMatrix=camera.WorldMatrix;double scanRange;Vector3D adjustedTargetPos=Vector3D.Zero;if(Status==TargetingStatus.Locked||_manualLockOverride){// We adjust the scan position to scan a bit past the target so we are more likely to hit if it is moving away
adjustedTargetPos=scanPosition+Vector3D.Normalize(scanPosition-cameraMatrix.Translation)*2*TargetSize;scanRange=(adjustedTargetPos-cameraMatrix.Translation).Length();}else{scanRange=MaxRange;}AutoScanInterval=scanRange/(1000.0*camera.RaycastTimeMultiplier)/_availableCameras.Count*AutoScanScaleFactor;//Attempt to scan adjusted target position
if(camera.AvailableScanRange&gt;=scanRange&amp;&amp;_timeSinceLastScan&gt;=AutoScanInterval){if(Status==TargetingStatus.Locked||_manualLockOverride)_info=camera.Raycast(adjustedTargetPos);else if(!Vector3D.IsZero(testDirection))_info=camera.Raycast(GetSearchPos(reference.GetPosition(),testDirection,camera));else _info=camera.Raycast(MaxRange);_timeSinceLastScan=0;}else // Not enough charge stored up yet
{return;}// Validate target and assign values
if(!_info.IsEmpty()&amp;&amp;!_targetFilter.Contains(_info.Type)&amp;&amp;!_gridIDsToIgnore.Contains(_info.EntityId))//target lock
{if(Vector3D.DistanceSquared(_info.Position,camera.GetPosition())&lt;MinRange*MinRange&amp;&amp;Status!=TargetingStatus.Locked){Status=TargetingStatus.TooClose;return;}else if(Status==TargetingStatus.Locked)// Target already locked
{if(_info.EntityId==TargetId){TargetCenter=_info.Position;HitPosition=_info.HitPosition.Value;_targetOrientation=_info.Orientation;OffsetTargetPosition=TargetCenter+Vector3D.TransformNormal(PreciseModeOffset,_targetOrientation);TargetVelocity=_info.Velocity;TargetSize=_info.BoundingBox.Size.Length();TimeSinceLastLock=0;_manualLockOverride=false;MissedLastScan=false;TargetRelation=_info.Relationship;TargetType=_info.Type;}else{MissedLastScan=true;}}else // Target not yet locked: initial lockon
{if(_manualLockOverride&amp;&amp;TargetId!=_info.EntityId)return;Status=TargetingStatus.Locked;TargetId=_info.EntityId;TargetCenter=_info.Position;HitPosition=_info.HitPosition.Value;TargetVelocity=_info.Velocity;TargetSize=_info.BoundingBox.Size.Length();TimeSinceLastLock=0;var aimingCamera=GetControlledCamera(_availableCameras);Vector3D hitPosOffset=Vector3D.Zero;if(aimingCamera!=null){hitPosOffset=aimingCamera.GetPosition()-camera.GetPosition();}else if(reference!=null){hitPosOffset=reference.GetPosition()-camera.GetPosition();}if(!Vector3D.IsZero(hitPosOffset)){hitPosOffset=VectorRejection(hitPosOffset,HitPosition-camera.GetPosition());}var hitPos=_info.HitPosition.Value+hitPosOffset;_targetOrientation=_info.Orientation;if(_manualLockOverride){_manualLockOverride=false;}else{PreciseModeOffset=Vector3D.TransformNormal(hitPos-TargetCenter,MatrixD.Transpose(_targetOrientation));OffsetTargetPosition=hitPos;}MissedLastScan=false;TargetRelation=_info.Relationship;TargetType=_info.Type;}}else{MissedLastScan=true;}if(MissedLastScan){_currentAimMode=(AimMode)((int)(_currentAimMode+1)%3);}}void GetAvailableCameras(List&lt;IMyCameraBlock&gt;allCameras,List&lt;IMyCameraBlock&gt;availableCameras,Vector3D testVector,bool vectorIsPosition=false){availableCameras.Clear();foreach(var c in allCameras){if(c.Closed)continue;if(TestCameraAngles(c,vectorIsPosition ? testVector-c.GetPosition():testVector))availableCameras.Add(c);}}bool TestCameraAngles(IMyCameraBlock camera,Vector3D direction){Vector3D local=Vector3D.Rotate(direction,MatrixD.Transpose(camera.WorldMatrix));if(local.Z&gt;0)return false;var yawTan=Math.Abs(local.X/local.Z);var localSq=local*local;var pitchTanSq=localSq.Y/(localSq.X+localSq.Z);return yawTan&lt;=1&amp;&amp;pitchTanSq&lt;=1;}IMyCameraBlock GetCameraWithMaxRange(List&lt;IMyCameraBlock&gt;cameras){double maxRange=0;IMyCameraBlock maxRangeCamera=null;foreach(var c in cameras){if(c.AvailableScanRange&gt;maxRange){maxRangeCamera=c;maxRange=maxRangeCamera.AvailableScanRange;}}return maxRangeCamera;}IMyCameraBlock GetControlledCamera(List&lt;IMyCameraBlock&gt;cameras){foreach(var c in cameras){if(c.Closed)continue;if(c.IsActive)return c;}return null;}IMyShipController GetControlledShipController(List&lt;IMyShipController&gt;controllers){if(controllers.Count==0)return null;IMyShipController mainController=null;IMyShipController controlled=null;foreach(var sc in controllers){if(sc.IsUnderControl&amp;&amp;sc.CanControlShip){if(controlled==null){controlled=sc;}if(sc.IsMainCockpit){mainController=sc;// Only one per grid so no null check needed
}}}if(mainController!=null)return mainController;if(controlled!=null)return controlled;return controllers[0];}public static Vector3D VectorRejection(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return Vector3D.Zero;return a-a.Dot(b)/b.LengthSquared()*b;}}
#endregion

#region MissileGuidanceBase
abstract class MissileGuidanceBase{protected double _deltaTime;protected double _updatesPerSecond;Vector3D? _lastVelocity;public MissileGuidanceBase(double updatesPerSecond){_updatesPerSecond=updatesPerSecond;_deltaTime=1.0/_updatesPerSecond;}public void ClearAcceleration(){_lastVelocity=null;}public Vector3D Update(Vector3D missilePosition,Vector3D missileVelocity,double missileAcceleration,Vector3D targetPosition,Vector3D targetVelocity,Vector3D? gravity=null){Vector3D targetAcceleration=Vector3D.Zero;if(_lastVelocity.HasValue)targetAcceleration=(targetVelocity-_lastVelocity.Value)*_updatesPerSecond;_lastVelocity=targetVelocity;Vector3D pointingVector=GetPointingVector(missilePosition,missileVelocity,missileAcceleration,targetPosition,targetVelocity,targetAcceleration);if(gravity.HasValue&amp;&amp;gravity.Value.LengthSquared()&gt;1e-3){pointingVector=GravityCompensation(missileAcceleration,pointingVector,gravity.Value);}return VectorMath.SafeNormalize(pointingVector);}public static Vector3D GravityCompensation(double missileAcceleration,Vector3D desiredDirection,Vector3D gravity){Vector3D directionNorm=VectorMath.SafeNormalize(desiredDirection);Vector3D gravityCompensationVec=-(VectorMath.Rejection(gravity,desiredDirection));double diffSq=missileAcceleration*missileAcceleration-gravityCompensationVec.LengthSquared();if(diffSq&lt;0)// Impossible to hover
{return desiredDirection-gravity;// We will sink, but at least approach the target.
}return directionNorm*Math.Sqrt(diffSq)+gravityCompensationVec;}protected abstract Vector3D GetPointingVector(Vector3D missilePosition,Vector3D missileVelocity,double missileAcceleration,Vector3D targetPosition,Vector3D targetVelocity,Vector3D targetAcceleration);}abstract class RelNavGuidance:MissileGuidanceBase{public double NavConstant;public double NavAccelConstant;public RelNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond){NavConstant=navConstant;NavAccelConstant=navAccelConstant;}abstract protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration);override protected Vector3D GetPointingVector(Vector3D missilePosition,Vector3D missileVelocity,double missileAcceleration,Vector3D targetPosition,Vector3D targetVelocity,Vector3D targetAcceleration){Vector3D missileToTarget=targetPosition-missilePosition;Vector3D missileToTargetNorm=Vector3D.Normalize(missileToTarget);Vector3D relativeVelocity=targetVelocity-missileVelocity;Vector3D lateralTargetAcceleration=(targetAcceleration-Vector3D.Dot(targetAcceleration,missileToTargetNorm)*missileToTargetNorm);Vector3D lateralAcceleration=GetLatax(missileToTarget,missileToTargetNorm,relativeVelocity,lateralTargetAcceleration);if(Vector3D.IsZero(lateralAcceleration))return missileToTarget;double diff=missileAcceleration*missileAcceleration-lateralAcceleration.LengthSquared();if(diff&lt;0)return lateralAcceleration;//fly parallel to the target
return lateralAcceleration+Math.Sqrt(diff)*missileToTargetNorm;}}/// &lt;summary&gt;
/// Whip's Proportional Navigation Intercept
/// Derived from: https://en.wikipedia.org/wiki/Proportional_navigation
/// And: http://www.moddb.com/members/blahdy/blogs/gamedev-introduction-to-proportional-navigation-part-i
/// And: http://www.dtic.mil/dtic/tr/fulltext/u2/a556639.pdf
/// And: http://nptel.ac.in/courses/101108054/module8/lecture22.pdf
/// &lt;/summary&gt;
class ProNavGuidance:RelNavGuidance{public ProNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond,navConstant,navAccelConstant){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){Vector3D omega=Vector3D.Cross(missileToTarget,relativeVelocity)/Math.Max(missileToTarget.LengthSquared(),1);//to combat instability at close range
return NavConstant*relativeVelocity.Length()*Vector3D.Cross(omega,missileToTargetNorm)+NavAccelConstant*lateralTargetAcceleration;}}class WhipNavGuidance:RelNavGuidance{public WhipNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond,navConstant,navAccelConstant){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){Vector3D parallelVelocity=relativeVelocity.Dot(missileToTargetNorm)*missileToTargetNorm;//bootleg vector projection
Vector3D normalVelocity=(relativeVelocity-parallelVelocity);return NavConstant*0.1*normalVelocity+NavAccelConstant*lateralTargetAcceleration;}}class HybridNavGuidance:RelNavGuidance{public HybridNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond,navConstant,navAccelConstant){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){Vector3D omega=Vector3D.Cross(missileToTarget,relativeVelocity)/Math.Max(missileToTarget.LengthSquared(),1);//to combat instability at close range
Vector3D parallelVelocity=relativeVelocity.Dot(missileToTargetNorm)*missileToTargetNorm;//bootleg vector projection
Vector3D normalVelocity=(relativeVelocity-parallelVelocity);return NavConstant*(relativeVelocity.Length()*Vector3D.Cross(omega,missileToTargetNorm)+0.1*normalVelocity)+NavAccelConstant*lateralTargetAcceleration;}}/// &lt;summary&gt;
/// Zero Effort Miss Intercept
/// Derived from: https://doi.org/10.2514/1.26948
/// &lt;/summary&gt;
class ZeroEffortMissGuidance:RelNavGuidance{public ZeroEffortMissGuidance(double updatesPerSecond,double navConstant):base(updatesPerSecond,navConstant,0){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){double distToTarget=Vector3D.Dot(missileToTarget,missileToTargetNorm);double closingSpeed=Vector3D.Dot(relativeVelocity,missileToTargetNorm);// Equation (8) with sign modification to keep time positive and not NaN
double tau=distToTarget/Math.Max(1,Math.Abs(closingSpeed));// Equation (6)
Vector3D z=missileToTarget+relativeVelocity*tau;// Equation (7)
return NavConstant*z/(tau*tau)+NavAccelConstant*lateralTargetAcceleration;}}
#endregion
/// &lt;summary&gt;
/// A simple, generic circular buffer class with a variable capacity.
/// &lt;/summary&gt;
/// &lt;typeparam name="T"&gt;&lt;/typeparam&gt;
public class DynamicCircularBuffer&lt;T&gt;{public int Count{get{return _list.Count;}}List&lt;T&gt;_list=new List&lt;T&gt;();int _getIndex=0;/// &lt;summary&gt;
/// Adds an item to the buffer.
/// &lt;/summary&gt;
/// &lt;param name="item"&gt;&lt;/param&gt;
public void Add(T item){_list.Add(item);}/// &lt;summary&gt;
/// Clears the buffer.
/// &lt;/summary&gt;
public void Clear(){_list.Clear();_getIndex=0;}/// &lt;summary&gt;
/// Retrieves the current item in the buffer and increments the buffer index.
/// &lt;/summary&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public T MoveNext(){if(_list.Count==0)return default(T);T val=_list[_getIndex];_getIndex=++_getIndex%_list.Count;return val;}/// &lt;summary&gt;
/// Retrieves the current item in the buffer without incrementing the buffer index.
/// &lt;/summary&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public T Peek(){if(_list.Count==0)return default(T);return _list[_getIndex];}}class BatesDistributionRandom{Random _rnd=new Random();readonly int _count;public BatesDistributionRandom(int count){if(count&lt;1){throw new Exception($"count must be greater than 1");}_count = count;}public double NextDouble(){double num = 0;for (int i = 0; i &lt; _count; ++i){num += _rnd.NextDouble();}return num / _count;}}public interface IConfigValue {void WriteToIni(MyIni ini);void ReadFromIni(MyIni ini);void Update(MyIni ini);}public abstract class ConfigValue&lt;T&gt; : IConfigValue {public T Value;public string Section { get; set; }public string Name { get; set; }T DefaultValue { get; }readonly string _comment;public static implicit operator T(ConfigValue&lt;T&gt; cfg){return cfg.Value;}public ConfigValue(string section, string name, T defaultValue, string comment){Section = section;Name = name;Value = defaultValue;DefaultValue = defaultValue;_comment = comment;}public override string ToString(){return Value.ToString();}public void Update(MyIni ini){ReadFromIni(ini);WriteToIni(ini);}public void WriteToIni(MyIni ini){ini.Set(Section, Name, this.ToString());if (!string.IsNullOrWhiteSpace(_comment)){ini.SetComment(Section, Name, _comment);}}protected abstract void SetValue(ref MyIniValue val);protected virtual void SetDefault(){Value = DefaultValue;}public void ReadFromIni(MyIni ini){MyIniValue val = ini.Get(Section, Name);if (!val.IsEmpty){SetValue(ref val);}else {SetDefault();}}}public class ConfigString : ConfigValue&lt;string&gt;{public ConfigString(string section, string name, string value = "",string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetString(out Value))SetDefault();}}public class ConfigDouble:ConfigValue&lt;double&gt;{public ConfigDouble(string section,string name,double value=0,string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetDouble(out Value))SetDefault();}}public class ConfigBool:ConfigValue&lt;bool&gt;{public ConfigBool(string section,string name,bool value=false,string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetBoolean(out Value))SetDefault();}}public class ConfigInt:ConfigValue&lt;int&gt;{public ConfigInt(string section,string name,int value=0,string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetInt32(out Value))SetDefault();}}public class ConfigEnum&lt;TEnum&gt;:ConfigValue&lt;TEnum&gt;where TEnum:struct{public ConfigEnum(string section,string name,TEnum defaultValue=default(TEnum),string comment=null):base(section,name,defaultValue,comment){}protected override void SetValue(ref MyIniValue val){string antennaModeStr;if(!val.TryGetString(out antennaModeStr)||!Enum.TryParse(antennaModeStr,true,out Value)||!Enum.IsDefined(typeof(TEnum),Value)){SetDefault();}}}
#endregion
</Program>
                      <Storage>@0</Storage>
                      <DefaultRunArgument>setup</DefaultRunArgument>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
                      <EntityId>118490852426265449</EntityId>
                      <Min x="-2" y="-1" z="-2" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>100046759216094114</EntityId>
                      <Min x="-4" y="0" z="2" />
                      <BlockOrientation Forward="Left" Up="Backward" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                      <CustomName>(Torpedo 1) Camera Underside</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>6</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
                      <SubtypeName>SmallCameraBlock</SubtypeName>
                      <EntityId>100605191224639676</EntityId>
                      <Min x="-2" y="0" z="-1" />
                      <BlockOrientation Forward="Right" Up="Forward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <CustomName>(Torpedo 1) Camera Top</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>7</NumberInGrid>
                      <Enabled>true</Enabled>
                      <IsActive>false</IsActive>
                      <Fov>1.04719758</Fov>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorBlock</SubtypeName>
                      <Min x="-3" y="0" z="-1" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
                      <EntityId>105530469480715838</EntityId>
                      <Min x="-4" y="-1" z="-3" />
                      <BlockOrientation Forward="Backward" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
                      <EntityId>143072116574058311</EntityId>
                      <Min x="-2" y="-1" z="-3" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
                      <SubtypeName>SmallBlockSmallAtmosphericThrust</SubtypeName>
                      <EntityId>131697383966595682</EntityId>
                      <Min x="-3" y="-1" z="-4" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyTimerComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_TimerComponent">
                              <Repeat>true</Repeat>
                              <TimeToEvent>0</TimeToEvent>
                              <SetTimeMinutes>0</SetTimeMinutes>
                              <TimerEnabled>false</TimerEnabled>
                              <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                              <TimerType>Frame100</TimerType>
                              <FramesFromLastTrigger>0</FramesFromLastTrigger>
                              <TimerTickInFrames>100</TimerTickInFrames>
                              <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Torpedo 1) Atmospheric Thruster 1</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>1</NumberInGrid>
                      <Enabled>false</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
                      <SubtypeName>SmallBlockSmallAtmosphericThrust</SubtypeName>
                      <EntityId>119088086574459375</EntityId>
                      <Min x="-3" y="1" z="-4" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyTimerComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_TimerComponent">
                              <Repeat>true</Repeat>
                              <TimeToEvent>0</TimeToEvent>
                              <SetTimeMinutes>0</SetTimeMinutes>
                              <TimerEnabled>false</TimerEnabled>
                              <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                              <TimerType>Frame100</TimerType>
                              <FramesFromLastTrigger>0</FramesFromLastTrigger>
                              <TimerTickInFrames>100</TimerTickInFrames>
                              <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Torpedo 1) Atmospheric Thruster 2</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>2</NumberInGrid>
                      <Enabled>false</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
                      <SubtypeName>SmallBlockSmallAtmosphericThrust</SubtypeName>
                      <EntityId>120051924982670285</EntityId>
                      <Min x="-2" y="0" z="-4" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                      <ComponentContainer>
                        <Components>
                          <ComponentData>
                            <TypeId>MyTimerComponent</TypeId>
                            <Component xsi:type="MyObjectBuilder_TimerComponent">
                              <Repeat>true</Repeat>
                              <TimeToEvent>0</TimeToEvent>
                              <SetTimeMinutes>0</SetTimeMinutes>
                              <TimerEnabled>false</TimerEnabled>
                              <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                              <TimerType>Frame100</TimerType>
                              <FramesFromLastTrigger>0</FramesFromLastTrigger>
                              <TimerTickInFrames>100</TimerTickInFrames>
                              <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                            </Component>
                          </ComponentData>
                        </Components>
                      </ComponentContainer>
                      <CustomName>(Torpedo 1) Atmospheric Thruster 3</CustomName>
                      <ShowOnHUD>false</ShowOnHUD>
                      <ShowInTerminal>false</ShowInTerminal>
                      <ShowInToolbarConfig>true</ShowInToolbarConfig>
                      <ShowInInventory>true</ShowInInventory>
                      <NumberInGrid>3</NumberInGrid>
                      <Enabled>false</Enabled>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmorPanelLight</SubtypeName>
                      <EntityId>127058215221371301</EntityId>
                      <Min x="-4" y="1" z="-1" />
                      <BlockOrientation Forward="Down" Up="Forward" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmorPanelLight</SubtypeName>
                      <EntityId>93088221529545284</EntityId>
                      <Min x="-4" y="-1" z="-1" />
                      <BlockOrientation Forward="Down" Up="Forward" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
                      <EntityId>100095874955364099</EntityId>
                      <Min x="-4" y="-1" z="0" />
                      <BlockOrientation Forward="Backward" Up="Up" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
                      <EntityId>94581204374760016</EntityId>
                      <Min x="-4" y="1" z="0" />
                      <BlockOrientation Forward="Backward" Up="Down" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
                      <EntityId>95081167539631791</EntityId>
                      <Min x="-4" y="0" z="0" />
                      <BlockOrientation Forward="Up" Up="Backward" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmorPanelLight</SubtypeName>
                      <EntityId>125851245013749925</EntityId>
                      <Min x="-4" y="0" z="-2" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
                      <EntityId>75343275408807256</EntityId>
                      <Min x="-4" y="-1" z="-2" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
                      <EntityId>96284465637678398</EntityId>
                      <Min x="-4" y="1" z="-2" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
                      <EntityId>111141589331028297</EntityId>
                      <Min x="-4" y="0" z="-3" />
                      <BlockOrientation Forward="Down" Up="Forward" />
                      <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
                      <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
                      <EntityId>83318821562722806</EntityId>
                      <Min x="-4" y="1" z="-4" />
                      <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
                      <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
                      <EntityId>112873734567107050</EntityId>
                      <Min x="-4" y="-1" z="-4" />
                      <BlockOrientation Forward="Forward" Up="Down" />
                      <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
                      <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
                      <Min x="-2" y="-1" z="3" />
                      <BlockOrientation Forward="Left" Up="Down" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
                      <Min x="-2" y="1" z="3" />
                      <BlockOrientation Forward="Down" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorHalfSlopeCorner</SubtypeName>
                      <Min x="-2" y="-1" z="4" />
                      <BlockOrientation Forward="Backward" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallBlockArmorHalfSlopeCorner</SubtypeName>
                      <Min x="-2" y="1" z="4" />
                      <BlockOrientation Forward="Up" Up="Right" />
                      <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
                      <EntityId>95196901945835370</EntityId>
                      <Min x="-3" y="-1" z="4" />
                      <BlockOrientation Forward="Backward" Up="Left" />
                      <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
                      <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
                      <EntityId>101041016363505273</EntityId>
                      <Min x="-3" y="1" z="4" />
                      <BlockOrientation Forward="Backward" Up="Left" />
                      <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
                      <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                    <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
                      <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
                      <Min x="-2" y="0" z="4" />
                      <BlockOrientation Forward="Forward" Up="Right" />
                      <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
                      <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
                    </MyObjectBuilder_CubeBlock>
                  </CubeBlocks>
                  <BlockGroups>
                    <MyObjectBuilder_BlockGroup>
                      <Name>Torpedo 1</Name>
                      <Blocks>
                        <Vector3I>
                          <X>-3</X>
                          <Y>0</Y>
                          <Z>2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-2</X>
                          <Y>0</Y>
                          <Z>2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>-1</Y>
                          <Z>-3</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>1</Y>
                          <Z>-3</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-2</X>
                          <Y>0</Y>
                          <Z>-3</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>0</Y>
                          <Z>4</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>-1</Y>
                          <Z>3</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>1</Y>
                          <Z>3</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-2</X>
                          <Y>-1</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-2</X>
                          <Y>1</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-2</X>
                          <Y>0</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-4</X>
                          <Y>0</Y>
                          <Z>2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>0</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>0</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>-1</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>1</Y>
                          <Z>-1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-2</X>
                          <Y>0</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>-1</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>1</Y>
                          <Z>1</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>-1</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>1</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-2</X>
                          <Y>0</Y>
                          <Z>0</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>0</Y>
                          <Z>3</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>-1</Y>
                          <Z>2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-3</X>
                          <Y>1</Y>
                          <Z>2</Z>
                        </Vector3I>
                        <Vector3I>
                          <X>-4</X>
                          <Y>0</Y>
                          <Z>-1</Z>
                        </Vector3I>
                      </Blocks>
                    </MyObjectBuilder_BlockGroup>
                  </BlockGroups>
                  <DisplayName>Ctl-A 1 Torpedo</DisplayName>
                  <DestructibleBlocks>true</DestructibleBlocks>
                  <CreatePhysics>false</CreatePhysics>
                  <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
                  <IsRespawnGrid>false</IsRespawnGrid>
                  <LocalCoordSys>0</LocalCoordSys>
                  <TargetingTargets />
                </MyObjectBuilder_CubeGrid>
              </ProjectedGrids>
              <ProjectionOffset>
                <X>3</X>
                <Y>2</Y>
                <Z>1</Z>
              </ProjectionOffset>
              <ProjectionRotation>
                <X>-1</X>
                <Y>-1</Y>
                <Z>0</Z>
              </ProjectionRotation>
              <KeepProjection>true</KeepProjection>
              <ShowOnlyBuildable>false</ShowOnlyBuildable>
              <InstantBuildingEnabled>false</InstantBuildingEnabled>
              <MaxNumberOfProjections>5</MaxNumberOfProjections>
              <MaxNumberOfBlocks>200</MaxNumberOfBlocks>
              <ProjectionsRemaining>0</ProjectionsRemaining>
              <GetOwnershipFromProjector>false</GetOwnershipFromProjector>
              <Scale>1</Scale>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="3" z="-1" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
              <SubtypeName>SmallProgrammableBlock</SubtypeName>
              <EntityId>72674779317451850</EntityId>
              <Min x="4" y="4" z="0" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Forward Torpedo PB</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <Storage />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>93724303239184311</EntityId>
              <Min x="-3" y="3" z="0" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Forward Torpedo Camera</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>85024929706182325</EntityId>
              <Min x="-3" y="4" z="-1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>82355240650528152</EntityId>
              <Min x="-3" y="4" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>138846236825404759</EntityId>
              <Min x="-3" y="4" z="1" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TextPanel">
              <SubtypeName>TransparentLCDSmall</SubtypeName>
              <EntityId>121856306741697203</EntityId>
              <Min x="-3" y="3" z="1" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Forward Torpedo LCD</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>true</Enabled>
              <Description />
              <Title>Title</Title>
              <AccessFlag>READ_AND_WRITE_FACTION</AccessFlag>
              <ChangeInterval>0</ChangeInterval>
              <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
              <FontSize>3</FontSize>
              <PublicDescription>

[  +  ]</PublicDescription>
              <PublicTitle>Public title</PublicTitle>
              <ShowText>NONE</ShowText>
              <FontColor>
                <PackedValue>4294967295</PackedValue>
                <X>255</X>
                <Y>255</Y>
                <Z>255</Z>
                <R>255</R>
                <G>255</G>
                <B>255</B>
                <A>255</A>
              </FontColor>
              <BackgroundColor>
                <PackedValue>4278190080</PackedValue>
                <X>0</X>
                <Y>0</Y>
                <Z>0</Z>
                <R>0</R>
                <G>0</G>
                <B>0</B>
                <A>255</A>
              </BackgroundColor>
              <CurrentShownTexture>0</CurrentShownTexture>
              <Alignment>Align_Center</Alignment>
              <ContentType>TEXT_AND_IMAGE</ContentType>
              <SelectedScript />
              <TextPadding>2</TextPadding>
              <Version>1</Version>
              <ScriptBackgroundColor>
                <PackedValue>4288108544</PackedValue>
                <X>0</X>
                <Y>88</Y>
                <Z>151</Z>
                <R>0</R>
                <G>88</G>
                <B>151</B>
                <A>255</A>
              </ScriptBackgroundColor>
              <ScriptForegroundColor>
                <PackedValue>4294962611</PackedValue>
                <X>179</X>
                <Y>237</Y>
                <Z>255</Z>
                <R>179</R>
                <G>237</G>
                <B>255</B>
                <A>255</A>
              </ScriptForegroundColor>
              <Sprites>
                <Length>0</Length>
              </Sprites>
              <SelectedRotationIndex>0</SelectedRotationIndex>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MergeBlock">
              <SubtypeName>SmallShipSmallMergeBlock</SubtypeName>
              <EntityId>133195961928251132</EntityId>
              <Min x="0" y="4" z="0" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Small Merge Block</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="4" z="0" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="4" z="0" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="4" z="-1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>132492918228766760</EntityId>
              <Min x="1" y="5" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Small Battery 7</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>94948122828904343</EntityId>
              <Min x="-1" y="5" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Small Battery 6</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="4" z="-1" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>116487857625382552</EntityId>
              <Min x="0" y="4" z="1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Small Battery 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
              <SubtypeName>SmallProgrammableBlock</SubtypeName>
              <EntityId>124859813287174949</EntityId>
              <Min x="0" y="5" z="0" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[Names]
Auto-configure missile name=True
Missile name tag=Torpedo
Missile number=1
Fire control group name=Fire Control
Detach thruster name tag=Detach

[Delays]
Stage 1: Disconnect delay (s)=1
Guidance delay (s)=2
Stage 2: Detach duration (s)=0
Stage 3: Main ignition delay (s)=0

[Gyros]
Proportional gain=10
Integral gain=0
Derivative gain=10

[Homing Parameters]
; Valid guidance algorithms: ProNav, WhipNav, HybridNav, ZeroEffortMiss
Guidance algorithm=ProNav
Navigation constant=5
Acceleration constant=0
Max aim dispersion (m)=0
Topdown attack height (m)=1500

[Beam Riding Parameters]
Hit offset up (m)=0
Hit offset left (m)=0

[Evasion Parameters]
Spin rate (RPM)=0
Use spiral=False
; AKA "Drunken Missile Mode"
Use random flight path=True

[Spiral Parameters]
Spiral angle (deg)=15
Spiral time (sec)=3
Spiral activation range (m)=1000

[Random Fligh Path Parameters]
Direction change interval (sec)=0.5
Max acceleration ratio=0.25

[Raycast/Sensors]
Use cameras for homing=True
Tripwire range (m)=3.33
Minimum target size (m)=10
Minimum warhead arming range (m)=100
Ignore friendlies=False
Ignore planets=True
Ignore target ID for detonation=False

[Misc.]
Allow remote firing=False
; Valid antenna name modes: Meme, Empty, MissileName, MissileStatus
Antenna name mode=Meme
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Torpedo 1) PB WHAM</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <Program>
#region WHAM
const string Version="170.8.6";const string Date = "2023/03/20";const string CompatVersion = "95.0.0";/*
/ //// / (WHAM) Whip's Homing Advanced Missile Script / //// /
_______________________________
INSTRUCTIONS

See workshop page for instructions, there is no room left in this script!

_______________________________
NOTE

This code has been minified so that it will fit in the programmable block.
I have NOT obfuscated any of the code, so that if you copy paste this into an
IDE like Visual Studio or use a website like https://codebeautify.org/csharpviewer,
you can uncompress this and it will be human readable.




=================================================
DO NOT MODIFY VARIABLES IN THE SCRIPT!

USE THE CUSTOM DATA OF THIS PROGRAMMABLE BLOCK!
=================================================


























HEY! DONT EVEN THINK ABOUT TOUCHING BELOW THIS LINE!

*/

#region Global Fields
enum GuidanceAlgoType{ProNav,WhipNav,HybridNav,ZeroEffortMiss};MissileGuidanceBase _selectedGuidance;Dictionary&lt;GuidanceAlgoType,MissileGuidanceBase&gt;_guidanceAlgorithms;const string MissileNamePattern="({0} {1})";const string MissileGroupPattern = "{0} {1}";Vector3D _shooterForwardVec,_shooterLeftVec,_shooterUpVec,_shooterPos,_shooterPosCached,_randomizedHeadingVector,_targetPos,_targetVel,_aimDispersion;string _missileGroupNameTag = "",_missileNameTag = "";double _timeSinceLastLock=0,_distanceFromShooter=0,_timeTotal=0,_timeSinceLastIngest=0;int _setupTicks=0,_missileStage=0;bool _shouldFire=false,_shouldKill=false,_hasPassed=false,_killAllowed=false,_shouldDive=false,_shouldStealth=true,_shouldProximityScan=false,_enableGuidance=false,_broadcastListenersRegistered=false,_foundLampAntennas=false,_markedForDetonation=false,_canSetup=true,_preSetupFailed=false,_topDownAttack=false,_enableEvasion=false,_precisionMode=false,_retask=false;
#region Meme Mode Stuff
enum AntennaNameMode{Meme,Empty,MissileName,MissileStatus};int _memeIndex;string[]_antennaMemeMessages=new string[]{"All your base are belong to us","Pucker up buttercup","You are screwed","Are you my mommy?","You feeling lucky?","Herpes","Pootis","From Whip with love!","Run!","General Distress","Unknown Signal","Here comes the pain","Bend over","Private Shipment","Argentavis","Cargo Hauler","Art thou feeling it now Mr. Krabs?","It's commin' right for us!","Nothing personal kid...","*Fortnite dancing in public*","*Dabbing intensifies*","*Heavy breathing*","A surprise to be sure, but a welcome one","Hello there","General Kenobi","You underestimate my power","I am the SENATE!","Did you ever hear the tragedy of Darth Plagueis The Wise?","I thought not. It's not a story the Jedi would tell you.","It's a Sith legend.","Darth Plagueis was a Dark Lord of the Sith...","...so powerful and so wise he could use the Force...","...to influence the midichlorians to create life...","*Evil head turn*","He had such a knowledge of the dark side...","...that he could even keep the ones he cared about from dying.","The dark side of the Force is a pathway to many abilities...","...some consider to be unnatural.","He became so powerful, the only thing he was afraid of...","...was losing his power, which eventually, of course, he did.","Unfortunately, he taught his apprentice everything he knew...","...then his apprentice killed him in his sleep.","Ironic.","He could save others from death, but not himself.","Another happy landing!","*Internalized Oppression*","Area is not secure!","Perfectly balanced, as all things should be","It's super effective!","Ah yes, an old friend of mine is here","Anything else you'd like to order?","Hi! Welcome to Chili's!","Platinum","Gold","Dinner is served!","UwU","* Arrow to the knee *","Atmospheric Lander","Just like mother used to make!","Big Chungus","Hecking Bamboozolled","Time to take out the trash","BUT WAIT!! THERE'S MORE!!","Is this the Krusty Krab?","No this is PATRICK!!!","I'm about to end this whole man's career..","Do you get to the Cloud District very often?","It's over Anakin!","I have the high ground!","You underestimate my POWER!","You were the chosen one!","It was said you would destroy the sith not join them...","...Bring balance to the force, not leave it in darkness!","We've been trying to reach you about your car's extended warranty",};
#endregion
Random RNGesus=new Random();BatesDistributionRandom _bellCurveRandom=new BatesDistributionRandom(3);//So many lists...
List&lt;IMyTerminalBlock&gt;_missileBlocks=new List&lt;IMyTerminalBlock&gt;();List&lt;IMyFunctionalBlock&gt;_funcBlocks=new List&lt;IMyFunctionalBlock&gt;();List&lt;IMyThrust&gt;_unsortedThrusters=new List&lt;IMyThrust&gt;(),_mainThrusters=new List&lt;IMyThrust&gt;(),_sideThrusters=new List&lt;IMyThrust&gt;(),_detachThrusters=new List&lt;IMyThrust&gt;();List&lt;IMyVirtualMass&gt;_artMasses=new List&lt;IMyVirtualMass&gt;();List&lt;IMyShipMergeBlock&gt;_mergeBlocks=new List&lt;IMyShipMergeBlock&gt;();List&lt;IMyBatteryBlock&gt;_batteries=new List&lt;IMyBatteryBlock&gt;();List&lt;IMyShipController&gt;_shipControllers=new List&lt;IMyShipController&gt;();List&lt;IMyGyro&gt;_gyros=new List&lt;IMyGyro&gt;();List&lt;IMyShipConnector&gt;_connectors=new List&lt;IMyShipConnector&gt;();List&lt;IMyMotorStator&gt;_rotors=new List&lt;IMyMotorStator&gt;();List&lt;IMyReactor&gt;_reactors=new List&lt;IMyReactor&gt;();List&lt;IMyRadioAntenna&gt;_antennas=new List&lt;IMyRadioAntenna&gt;();List&lt;IMyBeacon&gt;_beacons=new List&lt;IMyBeacon&gt;();List&lt;IMySensorBlock&gt;_sensors=new List&lt;IMySensorBlock&gt;();List&lt;IMyWarhead&gt;_warheads=new List&lt;IMyWarhead&gt;();List&lt;IMyTimerBlock&gt;_timers=new List&lt;IMyTimerBlock&gt;();List&lt;IMyCameraBlock&gt;_cameras=new List&lt;IMyCameraBlock&gt;();List&lt;IMyCameraBlock&gt;_homingCameras=new List&lt;IMyCameraBlock&gt;();List&lt;IMyGasTank&gt;_gasTanks=new List&lt;IMyGasTank&gt;();List&lt;MyDetectedEntityInfo&gt;_sensorEntities=new List&lt;MyDetectedEntityInfo&gt;();List&lt;DynamicCircularBuffer&lt;IMyCameraBlock&gt;&gt;_cameraBufferList=new List&lt;DynamicCircularBuffer&lt;IMyCameraBlock&gt;&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt;_camerasFront=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasBack=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasLeft=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasRight=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasUp=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasDown=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();ImmutableArray&lt;MyTuple&lt;byte,long,Vector3D,double&gt;&gt;.Builder _messageBuilder=ImmutableArray.CreateBuilder&lt;MyTuple&lt;byte,long,Vector3D,double&gt;&gt;();List&lt;MyTuple&lt;Vector3D,long&gt;&gt;_remoteFireRequests=new List&lt;MyTuple&lt;Vector3D,long&gt;&gt;();HashSet&lt;long&gt;_savedKeycodes=new HashSet&lt;long&gt;();IMyShipController _missileReference=null;enum PostSetupAction{None=0,Fire=1,FireRequestResponse=2};PostSetupAction _postSetupAction=PostSetupAction.None;const int MAX_INSTRUCTIONS_PER_SETUP_RUN=5000;const double UpdatesPerSecond=10.0,SecondsPerUpdate=1.0/UpdatesPerSecond,DegToRad=Math.PI/180,RpmToRad=Math.PI/30,TopdownDescentAngle=Math.PI/6,MaxGuidanceTime=180,RuntimeToRealtime=(1.0/60.0)/0.0166666,GyroSlowdownAngle=Math.PI/36;const float MinThrust=1e-9f;readonly MyIni _guidanceIni=new MyIni();readonly StringBuilder _saveSB=new StringBuilder();readonly RaycastHoming _raycastHoming;enum GuidanceMode:int{BeamRiding=1,SemiActive=2,Active=4,Homing=SemiActive|Active};PID _yawPID=new PID(1,0,0,SecondsPerUpdate),_pitchPID=new PID(1,0,0,SecondsPerUpdate);IMyBlockGroup _missileGroup;Scheduler _scheduler;GuidanceMode _guidanceMode=GuidanceMode.SemiActive;RuntimeTracker _runtimeTracker;IMyBroadcastListener _broadcastListenerHoming,_broadcastListenerBeamRiding,_broadcastListenerParameters,_broadcastListenerRemoteFire;IMyUnicastListener _unicastListener;const string IgcTagParams="IGC_MSL_PAR_MSG",IgcTagHoming = "IGC_MSL_HOM_MSG",IgcTagBeamRiding = "IGC_MSL_OPT_MSG",IgcTagIff = "IGC_IFF_PKT",IgcTagFire = "IGC_MSL_FIRE_MSG",IgcTagRemoteFireRequest = "IGC_MSL_REM_REQ",IgcTagRemoteFireResponse = "IGC_MSL_REM_RSP",IgcTagRemoteFireNotification = "IGC_MSL_REM_NTF",IgcTagregister = "IGC_MSL_REG_MSG",IgcTagUnicast = "UNICAST";QueuedAction _stage1Action,_stage2Action,_stage3Action,_stage4Action;ScheduledAction _guidanceActivateAction,_randomHeadingVectorAction;
#region Custom Data Ini
readonly MyIni _myIni=new MyIni();const string IniSectionNames="Names",IniSectionDelays = "Delays",IniSectionGyro = "Gyros",IniSectionHoming = "Homing Parameters",IniSectionBeamRide = "Beam Riding Parameters",IniSectionEvasion = "Evasion Parameters",IniSectionSpiral = "Spiral Parameters",IniSectionRandom = "Random Fligh Path Parameters",IniSectionRaycast = "Raycast/Sensors",IniSectionMisc = "Misc.",IniCompatMemeMode = "Antenna meme mode";ConfigBool _autoConfigure = new ConfigBool(IniSectionNames, "Auto-configure missile name", true);ConfigString _missileTag = new ConfigString(IniSectionNames, "Missile name tag", "Missile");ConfigInt _missileNumber = new ConfigInt(IniSectionNames, "Missile number", 1);ConfigString _fireControlGroupNameTag = new ConfigString(IniSectionNames, "Fire control group name", "Fire Control");ConfigString _detachThrustTag = new ConfigString(IniSectionNames, "Detach thruster name tag", "Detach");ConfigDouble _disconnectDelay = new ConfigDouble(IniSectionDelays, "Stage 1: Disconnect delay (s)", 0);ConfigDouble _guidanceDelay = new ConfigDouble(IniSectionDelays, "Guidance delay (s)", 1);ConfigDouble _detachDuration = new ConfigDouble(IniSectionDelays, "Stage 2: Detach duration (s)", 0);ConfigDouble _mainIgnitionDelay = new ConfigDouble(IniSectionDelays, "Stage 3: Main ignition delay (s)", 0);ConfigDouble _gyroProportionalGain = new ConfigDouble(IniSectionGyro, "Proportional gain", 10);ConfigDouble _gyroIntegralGain = new ConfigDouble(IniSectionGyro, "Integral gain", 0);ConfigDouble _gyroDerivativeGain = new ConfigDouble(IniSectionGyro, "Derivative gain", 10);ConfigEnum&lt;GuidanceAlgoType&gt; _guidanceAlgoType = new ConfigEnum&lt;GuidanceAlgoType&gt;(IniSectionHoming, "Guidance algorithm", GuidanceAlgoType.ProNav, " Valid guidance algorithms: ProNav, WhipNav, HybridNav, ZeroEffortMiss");ConfigDouble _navConstant = new ConfigDouble(IniSectionHoming, "Navigation constant", 3);ConfigDouble _accelNavConstant = new ConfigDouble(IniSectionHoming, "Acceleration constant", 1.5);ConfigDouble _maxAimDispersion = new ConfigDouble(IniSectionHoming, "Max aim dispersion (m)", 0);ConfigDouble _topDownAttackHeight = new ConfigDouble(IniSectionHoming, "Topdown attack height (m)", 1500);ConfigDouble _offsetUp = new ConfigDouble(IniSectionBeamRide, "Hit offset up (m)", 0);ConfigDouble _offsetLeft = new ConfigDouble(IniSectionBeamRide, "Hit offset left (m)", 0);ConfigDouble _missileSpinRPM = new ConfigDouble(IniSectionEvasion, "Spin rate (RPM)", 0);ConfigBool _evadeWithSpiral = new ConfigBool(IniSectionEvasion, "Use spiral", false);ConfigBool _evadeWithRandomizedHeading = new ConfigBool(IniSectionEvasion, "Use random flight path", true, " AKA \"Drunken Missile Mode\"");ConfigDouble _spiralDegrees = new ConfigDouble(IniSectionSpiral, "Spiral angle (deg)", 15);ConfigDouble _timeMaxSpiral = new ConfigDouble(IniSectionSpiral, "Spiral time (sec)", 3);ConfigDouble _spiralActivationRange = new ConfigDouble(IniSectionSpiral, "Spiral activation range (m)", 1000);ConfigDouble _randomVectorInterval = new ConfigDouble(IniSectionRandom, "Direction change interval (sec)", 0.5);ConfigDouble _maxRandomAccelRatio = new ConfigDouble(IniSectionRandom, "Max acceleration ratio", 0.25);ConfigBool _useCamerasForHoming = new ConfigBool(IniSectionRaycast, "Use cameras for homing", true);ConfigDouble _raycastRange = new ConfigDouble(IniSectionRaycast, "Tripwire range (m)", 0.25);ConfigDouble _raycastMinimumTargetSize = new ConfigDouble(IniSectionRaycast, "Minimum target size (m)", 0);ConfigDouble _minimumArmingRange = new ConfigDouble(IniSectionRaycast, "Minimum warhead arming range (m)", 100);ConfigBool _raycastIgnoreFriends = new ConfigBool(IniSectionRaycast, "Ignore friendlies", false);ConfigBool _raycastIgnorePlanetSurface = new ConfigBool(IniSectionRaycast, "Ignore planets", true);ConfigBool _ignoreIdForDetonation = new ConfigBool(IniSectionRaycast, "Ignore target ID for detonation", false);ConfigBool _allowRemoteFire = new ConfigBool(IniSectionMisc, "Allow remote firing", false);ConfigEnum&lt;AntennaNameMode&gt; _antennaMode = new ConfigEnum&lt;AntennaNameMode&gt;(IniSectionMisc, "Antenna name mode", AntennaNameMode.Meme, " Valid antenna name modes: Meme, Empty, MissileName, MissileStatus");IConfigValue[]_config;void SetupConfig(){_config=new IConfigValue[]{_autoConfigure,_missileTag,_missileNumber,_fireControlGroupNameTag,_detachThrustTag,_disconnectDelay,_guidanceDelay,_detachDuration,_mainIgnitionDelay,_gyroProportionalGain,_gyroIntegralGain,_gyroDerivativeGain,_guidanceAlgoType,_navConstant,_accelNavConstant,_maxAimDispersion,_topDownAttackHeight,_offsetUp,_offsetLeft,_missileSpinRPM,_evadeWithSpiral,_evadeWithRandomizedHeading,_spiralDegrees,_timeMaxSpiral,_spiralActivationRange,_randomVectorInterval,_maxRandomAccelRatio,_useCamerasForHoming,_raycastRange,_raycastMinimumTargetSize,_minimumArmingRange,_raycastIgnoreFriends,_raycastIgnorePlanetSurface,_ignoreIdForDetonation,_allowRemoteFire,_antennaMode,};}
#endregion

#endregion

#region Main Methods
Program(){SetupConfig();_memeIndex=RNGesus.Next(_antennaMemeMessages.Length);_unicastListener=IGC.UnicastListener;_unicastListener.SetMessageCallback(IgcTagUnicast);_broadcastListenerRemoteFire=IGC.RegisterBroadcastListener(IgcTagRemoteFireRequest);_broadcastListenerRemoteFire.SetMessageCallback(IgcTagRemoteFireRequest);_guidanceActivateAction=new ScheduledAction(ActivateGuidance,0,true);_stage1Action=new QueuedAction(MissileStage1,0);_stage2Action=new QueuedAction(MissileStage2,0);_stage3Action=new QueuedAction(MissileStage3,0);_stage4Action=new QueuedAction(MissileStage4,0);_randomHeadingVectorAction=new ScheduledAction(ComputeRandomHeadingVector,0,false);_stage1Action.RunInterval=0;// Scheduler assignment
_scheduler=new Scheduler(this,true);// Setting up scheduled tasks
_scheduler.AddScheduledAction(_guidanceActivateAction);_scheduler.AddScheduledAction(GuidanceNavAndControl,UpdatesPerSecond);_scheduler.AddScheduledAction(CheckProximity,UpdatesPerSecond);_scheduler.AddScheduledAction(PrintEcho,1);_scheduler.AddScheduledAction(NetworkTargets,6);_scheduler.AddScheduledAction(_randomHeadingVectorAction);// Setting up sequential tasks
_scheduler.AddQueuedAction(_stage1Action);_scheduler.AddQueuedAction(_stage2Action);_scheduler.AddQueuedAction(_stage3Action);_scheduler.AddQueuedAction(_stage4Action);_scheduler.AddQueuedAction(KillPower,MaxGuidanceTime);_runtimeTracker=new RuntimeTracker(this,120,0.005);_raycastHoming=new RaycastHoming(5000,3,0,Me.CubeGrid.EntityId);_raycastHoming.AddEntityTypeToFilter(MyDetectedEntityType.FloatingObject,MyDetectedEntityType.Planet,MyDetectedEntityType.Asteroid);// Populate guidance algos
_guidanceAlgorithms=new Dictionary&lt;GuidanceAlgoType,MissileGuidanceBase&gt;(){{GuidanceAlgoType.ProNav,new ProNavGuidance(UpdatesPerSecond,_navConstant)},{GuidanceAlgoType.WhipNav,new WhipNavGuidance(UpdatesPerSecond,_navConstant)},{GuidanceAlgoType.HybridNav,new HybridNavGuidance(UpdatesPerSecond,_navConstant)},{GuidanceAlgoType.ZeroEffortMiss,new ZeroEffortMissGuidance(UpdatesPerSecond,_navConstant)},};// Enable raycast spooling
GridTerminalSystem.GetBlocksOfType&lt;IMyCameraBlock&gt;(null,camera=&gt;{if(camera.IsSameConstructAs(Me))camera.EnableRaycast=true;return false;});// Save camera buffer references to our list
_cameraBufferList.Add(_camerasFront);_cameraBufferList.Add(_camerasRight);_cameraBufferList.Add(_camerasLeft);_cameraBufferList.Add(_camerasUp);_cameraBufferList.Add(_camerasDown);_cameraBufferList.Add(_camerasBack);//load targeting data from last save
ParseStorage();if(_postSetupAction!=PostSetupAction.Fire){InitiateSetup();}}void Main(string arg,UpdateType updateSource){if((updateSource&amp;(UpdateType.Terminal|UpdateType.Trigger|UpdateType.Script))!=0)ArgumentHandling(arg);if((updateSource&amp;UpdateType.Once)!=0){RunSetupStateMachine();}if((updateSource&amp;UpdateType.Update10)!=0){SendRemoteFireResponse();Runtime.UpdateFrequency&amp;=~UpdateFrequency.Update10;}bool igcMsg=(updateSource&amp;UpdateType.IGC)!=0;if(igcMsg){IgcMessageHandling(_shouldFire);}if(!_shouldFire){return;}_scheduler.Update();var lastRuntime=Math.Min(RuntimeToRealtime*Math.Max(Runtime.TimeSinceLastRun.TotalSeconds,0),SecondsPerUpdate);_timeTotal+=lastRuntime;_timeSpiral+=lastRuntime;_timeSinceLastIngest+=lastRuntime;if(_shouldKill)KillPower();_runtimeTracker.AddRuntime();_runtimeTracker.AddInstructions();}void ActiveHomingScans(){if(_homingCameras.Count==0||_shipControllers.Count==0)return;_raycastHoming.Update(SecondsPerUpdate,_homingCameras,_shipControllers);if(_raycastHoming.Status==RaycastHoming.TargetingStatus.Locked){// handoff
_guidanceMode=GuidanceMode.Active;_targetPos=_raycastHoming.TargetPosition;_targetVel=_raycastHoming.TargetVelocity;_timeSinceLastLock=_raycastHoming.TimeSinceLastLock;// Force time since last ingest to be zero since there is no transmission time for active homing scans
_timeSinceLastIngest=0;}else if(_raycastHoming.LockLost){_guidanceMode=GuidanceMode.SemiActive;}}void PrintEcho(){Echo(GetTitle());Echo($"Time Active: {_timeTotal:n0} sec");Echo(_runtimeTracker.Write());}
#endregion

#region Ini Configuration
void LoadIniConfig(){_myIni.Clear();bool parsed=_myIni.TryParse(Me.CustomData);if(!parsed){SaveIniConfig();_setupBuilder.Append("Wrote default missile config!\n");return;}foreach(IConfigValue c in _config){c.ReadFromIni(_myIni);}// For backwards compat
bool antennaMemeMode;if(_myIni.Get(IniSectionMisc,IniCompatMemeMode).TryGetBoolean(out antennaMemeMode)){_antennaMode.Value=antennaMemeMode ? AntennaNameMode.Meme:AntennaNameMode.Empty;}_setupBuilder.Append("Loaded missile config!\n");}void SaveIniConfig(){_myIni.Clear();_missileGroupNameTag=string.Format(MissileGroupPattern,_missileTag,_missileNumber);_missileNameTag=string.Format(MissileNamePattern,_missileTag,_missileNumber);foreach(IConfigValue c in _config){c.WriteToIni(_myIni);}_timeMaxSpiral.Value=Math.Max(_timeMaxSpiral,0.1);_maxRandomAccelRatio.Value=MathHelper.Clamp(_maxRandomAccelRatio,0,1);_guidanceActivateAction.RunInterval=_guidanceDelay;_stage2Action.RunInterval=_disconnectDelay;_stage3Action.RunInterval=_detachDuration;_stage4Action.RunInterval=_mainIgnitionDelay;_randomHeadingVectorAction.RunInterval=_randomVectorInterval;Me.CustomData=_myIni.ToString();}
#endregion

#region Argument Handling and IGC Processing
void ProcessRemoteFireRequests(){Runtime.UpdateFrequency|=UpdateFrequency.Update10;// On 10, send
float antennaRange=1f;foreach(MyTuple&lt;Vector3D,long&gt;request in _remoteFireRequests){Vector3D requestPos=request.Item1;float dSq=(float)Vector3D.DistanceSquared(requestPos,Me.GetPosition());if(dSq&gt;antennaRange){antennaRange=dSq;}}antennaRange=(float)Math.Sqrt(antennaRange)+100f;foreach(var a in _antennas){if(a.Closed)continue;a.Radius=(float)antennaRange;a.EnableBroadcasting=true;a.Enabled=true;break;}}void SendRemoteFireResponse(){foreach(MyTuple&lt;Vector3D,long&gt;request in _remoteFireRequests){long programId=request.Item2;var response=new MyTuple&lt;Vector3D,long&gt;();response.Item1=Me.GetPosition();response.Item2=Me.EntityId;IGC.SendUnicastMessage(programId,IgcTagRemoteFireResponse,response);}_remoteFireRequests.Clear();foreach(var a in _antennas){if(a.Closed)continue;a.Radius=1f;a.EnableBroadcasting=false;a.Enabled=_allowRemoteFire&amp;&amp;!_foundLampAntennas;break;}}void IgcMessageHandling(bool shouldFire){if(!shouldFire){if(_allowRemoteFire){// Handle remote fire requests
bool remoteFireRequest=false;while(_broadcastListenerRemoteFire.HasPendingMessage){object messageData=_broadcastListenerRemoteFire.AcceptMessage().Data;if(messageData is MyTuple&lt;Vector3D,long&gt;){var payload=(MyTuple&lt;Vector3D,long&gt;)messageData;_remoteFireRequests.Add(payload);remoteFireRequest=true;}}if(remoteFireRequest){_postSetupAction=PostSetupAction.FireRequestResponse;InitiateSetup(true);}}// Handle unicast messages
bool fireCommanded=false;bool remotelyFired=false;while(_unicastListener.HasPendingMessage){MyIGCMessage message=_unicastListener.AcceptMessage();object data=message.Data;if(message.Tag==IgcTagFire){fireCommanded=true;}else if(message.Tag==IgcTagregister){if(data is long){long keycode=(long)data;_savedKeycodes.Add(keycode);remotelyFired=true;}}}if(fireCommanded){_postSetupAction=PostSetupAction.Fire;InitiateSetup(remotelyFired);if(remotelyFired){IGC.SendBroadcastMessage(IgcTagRemoteFireNotification,_missileNumber.Value,TransmissionDistance.CurrentConstruct);}}return;}else{// Handle broadcast listeners
while(_broadcastListenerParameters.HasPendingMessage){object messageData=_broadcastListenerParameters.AcceptMessage().Data;if(!(messageData is MyTuple&lt;byte,long&gt;))continue;var payload=(MyTuple&lt;byte,long&gt;)messageData;long keycode=payload.Item2;if(!_savedKeycodes.Contains(keycode))continue;byte packedBools=payload.Item1;if(_killAllowed&amp;&amp;!_shouldKill)_shouldKill=(packedBools&amp;(1))!=0;_shouldStealth=(packedBools&amp;(1&lt;&lt;1))!=0;_enableEvasion=(packedBools&amp;(1&lt;&lt;2))!=0;_topDownAttack=(packedBools&amp;(1&lt;&lt;3))!=0;_precisionMode=(packedBools&amp;(1&lt;&lt;4))!=0;_retask=(packedBools&amp;(1&lt;&lt;5))!=0;if(_shouldKill)_shouldStealth=true;_raycastHoming.OffsetTargeting=_precisionMode;}while(_broadcastListenerBeamRiding.HasPendingMessage){object messageData=_broadcastListenerBeamRiding.AcceptMessage().Data;if(_guidanceMode==GuidanceMode.Active&amp;&amp;!_retask)continue;if(!(messageData is MyTuple&lt;Vector3,Vector3,Vector3,Vector3,long&gt;))continue;var payload=(MyTuple&lt;Vector3,Vector3,Vector3,Vector3,long&gt;)messageData;long keycode=payload.Item5;if(!_savedKeycodes.Contains(keycode))continue;_retask=false;_shooterForwardVec=payload.Item1;_shooterLeftVec=payload.Item2;_shooterUpVec=payload.Item3;_shooterPosCached=payload.Item4;_guidanceMode=GuidanceMode.BeamRiding;}/* Item1.Col0: Hit position */
/* Item1.Col1: Target position */
/* Item1.Col2: Target velocity */
/* Item2.Col0: Precision offset */
/* Item2.Col1: Shooter position */
/* Item2.Col2: &lt;NOT USED&gt; */
/* Item3:      Time since last lock */
/* Item4:      Target ID */
/* Item5:      Key code */
while(_broadcastListenerHoming.HasPendingMessage){object messageData=_broadcastListenerHoming.AcceptMessage().Data;if(!(messageData is MyTuple&lt;Matrix3x3,Matrix3x3,float,long,long&gt;))continue;var payload=(MyTuple&lt;Matrix3x3,Matrix3x3,float,long,long&gt;)messageData;long keycode=payload.Item5;if(!_savedKeycodes.Contains(keycode))continue;_shooterPosCached=payload.Item2.Col1;if(_guidanceMode==GuidanceMode.Active&amp;&amp;!_retask)continue;_retask=false;Vector3D hitPos=payload.Item1.Col0;Vector3D offset=payload.Item2.Col0;_targetPos=payload.Item1.Col1;_targetVel=payload.Item1.Col2;_timeSinceLastLock=payload.Item3;long targetId=payload.Item4;_timeSinceLastIngest=1.0/60.0;// IGC messages are always a tick delayed
_guidanceMode=GuidanceMode.SemiActive;_raycastHoming.SetInitialLockParameters(hitPos,_targetVel,offset,_timeSinceLastLock,targetId);}}}void RegisterBroadcastListeners(){if(_broadcastListenersRegistered)return;_broadcastListenerHoming=IGC.RegisterBroadcastListener(IgcTagHoming);_broadcastListenerHoming.SetMessageCallback(IgcTagHoming);_broadcastListenerBeamRiding=IGC.RegisterBroadcastListener(IgcTagBeamRiding);_broadcastListenerBeamRiding.SetMessageCallback(IgcTagBeamRiding);_broadcastListenerParameters=IGC.RegisterBroadcastListener(IgcTagParams);_broadcastListenerParameters.SetMessageCallback(IgcTagParams);_broadcastListenersRegistered=true;}void ArgumentHandling(string arg){if(arg.ToLower().Equals("_fire")){_postSetupAction = PostSetupAction.Fire;InitiateSetup();}else if (arg.ToLower().Equals("setup")&amp;&amp;!_shouldFire){_postSetupAction=PostSetupAction.None;InitiateSetup();}}
#endregion

#region Setup
List&lt;IMyBlockGroup&gt;_allGroups=new List&lt;IMyBlockGroup&gt;();List&lt;IMyProgrammableBlock&gt;_groupPrograms=new List&lt;IMyProgrammableBlock&gt;();int _autoConfigureMissileNumber;IEnumerator&lt;SetupStatus&gt;_setupStateMachine;StringBuilder _setupBuilder=new StringBuilder();void ClearLists(){_missileBlocks.Clear();_funcBlocks.Clear();_unsortedThrusters.Clear();_mainThrusters.Clear();_sideThrusters.Clear();_detachThrusters.Clear();_artMasses.Clear();_mergeBlocks.Clear();_batteries.Clear();_shipControllers.Clear();_gyros.Clear();_connectors.Clear();_rotors.Clear();_reactors.Clear();_antennas.Clear();_beacons.Clear();_sensors.Clear();_warheads.Clear();_cameras.Clear();_camerasFront.Clear();_camerasBack.Clear();_camerasLeft.Clear();_camerasRight.Clear();_camerasUp.Clear();_camerasDown.Clear();_homingCameras.Clear();_gasTanks.Clear();}string GetTitle(){return $"Whip's Homing Adv. Missile Script\n(Version {Version} - {Date})\n\nFor use with LAMP v{CompatVersion} or later.\n";}List&lt;IMyRadioAntenna&gt; _broadcasters = new List&lt;IMyRadioAntenna&gt;();List&lt;IMyBlockGroup&gt; _foundGroups = new List&lt;IMyBlockGroup&gt;();List&lt;IMyMechanicalConnectionBlock&gt; _mechConnections = new List&lt;IMyMechanicalConnectionBlock&gt;();enum SetupStatus { None = 0, Running = 1, Done = 2 }IEnumerator&lt;SetupStatus&gt; SetupStateMachine(bool reload = false){string title = GetTitle();_setupBuilder.Append(title).Append("\n");LoadIniConfig();
#region Auto-Configuration
if(_autoConfigure){_allGroups.Clear();_foundGroups.Clear();_autoConfigureMissileNumber=-1;_missileGroup=null;_setupBuilder.Append("\nRunning Autosetup...\n");GridTerminalSystem.GetBlockGroups(_allGroups);foreach(var group in _allGroups){// Group collect
string groupName=group.Name;if(groupName.StartsWith(_missileTag)){int spaceIndex=groupName.IndexOf(' ',_missileTag.Value.Length);if(spaceIndex==-1)continue;// Check if this program exists in the group
_groupPrograms.Clear();group.GetBlocksOfType(_groupPrograms);bool foundSelf=false;foreach(var pb in _groupPrograms){if(pb==Me){foundSelf=true;break;}if(AtInstructionLimit()){yield return SetupStatus.Running;}}if(!foundSelf)continue;string missileNumberStr=groupName.Substring(spaceIndex+1);int missileNumber;bool parsed=int.TryParse(missileNumberStr,out missileNumber);if(!parsed)continue;_autoConfigureMissileNumber=missileNumber;if(_missileGroup==null)_missileGroup=group;_foundGroups.Add(group);}if(AtInstructionLimit()){yield return SetupStatus.Running;}}if(_missileGroup==null){_setupBuilder.Append("&gt; WARN: No groups containing this\n  program found.\n");_missileGroup=GridTerminalSystem.GetBlockGroupWithName(_missileGroupNameTag);// Default
}else if(_foundGroups.Count&gt;1)// Too many
{_setupBuilder.Append("&gt; WARN: MULTIPLE groups\n  containing this program\n  found:\n");for (int i = 0; i &lt; _foundGroups.Count; ++i){var thisGroup = _foundGroups[i];_setupBuilder.Append($"    {i + 1}: {thisGroup.Name}\n");}}else {_setupBuilder.Append($"&gt; Missile group found:\n  '{_missileTag} {_autoConfigureMissileNumber}'\n");_missileNumber.Value=_autoConfigureMissileNumber;}}else // Default: Read from custom data
{_missileGroup=GridTerminalSystem.GetBlockGroupWithName(_missileGroupNameTag);}
#endregion
SaveIniConfig();
#region Ignore own grids with raycast
_mechConnections.Clear();_raycastHoming.ClearIgnoredGridIDs();_raycastHoming.AddIgnoredGridID(Me.CubeGrid.EntityId);foreach(var mc in _mechConnections){_raycastHoming.AddIgnoredGridID(mc.CubeGrid.EntityId);if(mc.TopGrid!=null)_raycastHoming.AddIgnoredGridID(mc.TopGrid.EntityId);if(AtInstructionLimit()){yield return SetupStatus.Running;}}
#endregion

#region Guidance and PID config
foreach(var guid in _guidanceAlgorithms){var relNav=guid.Value as RelNavGuidance;if(relNav!=null){relNav.NavConstant=_navConstant;relNav.NavAccelConstant=_accelNavConstant;}}_selectedGuidance=_guidanceAlgorithms[_guidanceAlgoType];// TODO: Ensure value in bounds or just let it crash?
_yawPID.Kp=_gyroProportionalGain;_yawPID.Ki=_gyroIntegralGain;_yawPID.Kd=_gyroDerivativeGain;_pitchPID.Kp=_gyroProportionalGain;_pitchPID.Ki=_gyroIntegralGain;_pitchPID.Kd=_gyroDerivativeGain;
#endregion
_preSetupFailed=false;// TODO rename
ClearLists();
#region Grab Key Codes
_setupBuilder.Append($"\nChecking for firing ship...\n");_broadcasters.Clear();_foundLampAntennas = false;var fcsGroup = GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupNameTag);if (fcsGroup != null){fcsGroup.GetBlocksOfType(_broadcasters);if (_broadcasters.Count == 0){if (_allowRemoteFire){_setupBuilder.Append($"&gt; WARN: No antennas in group named '{_fireControlGroupNameTag}', but remote fire is active.\n");}else if (!reload){_preSetupFailed = true;_setupBuilder.Append($"&gt;&gt; ERR: No antennas in group named '{_fireControlGroupNameTag}'! This missile MUST be attached to a configured firing ship to fire!\n");}}else{foreach(IMyRadioAntenna a in _broadcasters){//x.IsSameConstructAs(Me))? Check if missile has connectors before this?
_savedKeycodes.Add(a.EntityId);if(AtInstructionLimit()){yield return SetupStatus.Running;}}_setupBuilder.Append($"&gt; Info: Found antenna(s) on firing ship\n");_foundLampAntennas = true;}}else if (_allowRemoteFire){_setupBuilder.Append($"&gt; WARN: No group named '{_fireControlGroupNameTag}' found, but remote fire is active.\n");}else if (!reload){_preSetupFailed = true;_setupBuilder.Append($"&gt;&gt; ERR: No group named '{_fireControlGroupNameTag}' found! This missile MUST be attached to a configured firing ship to fire!\n");}
#endregion

#region Get Missile Blocks
_setupBuilder.Append($"\nSetup for group named \"{_missileGroupNameTag}\"...\n");if (_missileGroup != null){_missileGroup.GetBlocks(_missileBlocks);}else {_setupBuilder.Append($"&gt;&gt; ERR: No block group named '{_missileGroupNameTag}' found!\n");_preSetupFailed=true;}for(int i=0;i&lt;_missileBlocks.Count;++i){CollectBlocks(_missileBlocks[i]);if(AtInstructionLimit()){yield return SetupStatus.Running;}}
#endregion
yield return SetupStatus.Done;}public void RunSetupStateMachine(){_setupTicks++;if(_setupStateMachine!=null){bool moreInstructions=_setupStateMachine.MoveNext();if(_setupStateMachine.Current==SetupStatus.Running){Runtime.UpdateFrequency=UpdateFrequency.Once;}else // Done with block fetching
{_canSetup=true;// Dispose of setup state machine
_setupStateMachine.Dispose();_setupStateMachine=null;_setupBuilder.Append($"&gt; Info: Setup took {_setupTicks} tick(s)\n");// Post-block fetch
bool setupPassed=SetupErrorChecking();if(!setupPassed||_preSetupFailed){_setupBuilder.Append("\n&gt;&gt;&gt; Setup Failed! &lt;&lt;&lt;\n");Echo(_setupBuilder.ToString());return;}// Implied else
_setupBuilder.Append("\n&gt;&gt;&gt; Setup Successful! &lt;&lt;&lt;\n");_missileReference=_shipControllers[0];if((_postSetupAction&amp;PostSetupAction.Fire)!=0){_shouldFire=true;RegisterBroadcastListeners();Runtime.UpdateFrequency=UpdateFrequency.Update1;}if((_postSetupAction&amp;PostSetupAction.FireRequestResponse)!=0){ProcessRemoteFireRequests();}Echo(_setupBuilder.ToString());}}else // Setup failed
{_setupBuilder.Append($"&gt; Info: Setup took {_setupTicks} tick(s)\n");_setupBuilder.Append("\n&gt;&gt;&gt; Setup Failed! &lt;&lt;&lt;\n");_canSetup=true;Echo(_setupBuilder.ToString());}}void InitiateSetup(bool reload=false){if(!_canSetup)return;_canSetup=false;_setupTicks=0;_setupBuilder.Clear();if(_setupStateMachine!=null){_setupStateMachine.Dispose();_setupStateMachine=null;}_setupStateMachine=SetupStateMachine(reload);RunSetupStateMachine();}public bool AtInstructionLimit(){return Runtime.CurrentInstructionCount&gt;=MAX_INSTRUCTIONS_PER_SETUP_RUN;}bool SetupErrorChecking(){bool setupFailed=false;// ERRORS
setupFailed|=EchoIfTrue(_antennas.Count==0,"&gt;&gt; ERR: No antennas found");setupFailed |= EchoIfTrue(_gyros.Count == 0, "&gt;&gt; ERR: No gyros found");setupFailed |= EchoIfTrue(_shipControllers.Count == 0, "&gt;&gt; ERR: No remotes found");if (_shipControllers.Count &gt; 0){GetThrusterOrientation(_shipControllers[0]);}setupFailed |= EchoIfTrue(_mainThrusters.Count == 0, "&gt;&gt; ERR: No main thrusters found");setupFailed |= EchoIfTrue(_batteries.Count == 0 &amp;&amp; _reactors.Count == 0, "&gt;&gt; ERR: No batteries or reactors found");// WARNINGS
if(!EchoIfTrue(_mergeBlocks.Count==0&amp;&amp;_rotors.Count==0&amp;&amp;_connectors.Count==0,"&gt; WARN: No merge blocks, rotors, or connectors found for detaching")){EchoBlockCount(_mergeBlocks.Count, "merge");EchoBlockCount(_rotors.Count, "rotor");EchoBlockCount(_connectors.Count, "connector");}// INFO
EchoBlockCount(_artMasses.Count,"art. mass block");EchoBlockCount(_sensors.Count, "sensor");EchoBlockCount(_warheads.Count, "warhead");EchoBlockCount(_beacons.Count, "beacon");EchoBlockCount(_cameras.Count, "camera");EchoBlockCount(_timers.Count, "timer");EchoBlockCount(_unsortedThrusters.Count, "total thruster");EchoBlockCount(_mainThrusters.Count, "main thruster");EchoBlockCount(_sideThrusters.Count, "side thruster");EchoBlockCount(_detachThrusters.Count, "detach thruster");EchoBlockCount(_gasTanks.Count, "gas tank");return !setupFailed;}void EchoBlockCount(int count, string name){_setupBuilder.Append($"&gt; Info: {count} {name}{(count == 1 ? "" : "s")}\n");}bool CollectBlocks(IMyTerminalBlock block){if(!block.IsSameConstructAs(Me))return false;/*
Here we extract the missile prefix from block names to ensure that
we don't write multiple name tags to the same block.
Expected block name pattern is:"(Missile X) BLOCK_NAME"
*/
var name=block.CustomName;var splitName=name.Split('(', ')');if(splitName.Length&gt;=2){var temp=splitName[1];var cleanName=name.Replace($"({temp})", "").TrimStart();block.CustomName = $"{_missileNameTag} {cleanName}";}else {block.CustomName = $"{_missileNameTag} {name}";}IMyThrust thrust;IMyRadioAntenna antenna;IMyCameraBlock camera;IMyWarhead warhead;AddToListIfType(block,_funcBlocks);if(AddToListIfType(block,_unsortedThrusters,out thrust)){if(thrust.CustomName.Contains(_detachThrustTag))_detachThrusters.Add(thrust);}else if(AddToListIfType(block,_antennas,out antenna)){antenna.Radius=1f;antenna.EnableBroadcasting=false;antenna.Enabled=_allowRemoteFire&amp;&amp;!_foundLampAntennas;}else if(AddToListIfType(block,_warheads,out warhead)){warhead.IsArmed=false;}else if(AddToListIfType(block,_cameras,out camera)){camera.Enabled=true;camera.EnableRaycast=true;if(_useCamerasForHoming)_homingCameras.Add(camera);GetCameraOrientation(camera);}else if(AddToListIfType(block,_artMasses)||AddToListIfType(block,_batteries)||AddToListIfType(block,_gyros)||AddToListIfType(block,_mergeBlocks)||AddToListIfType(block,_shipControllers)||AddToListIfType(block,_connectors)||AddToListIfType(block,_rotors)||AddToListIfType(block,_reactors)||AddToListIfType(block,_beacons)||AddToListIfType(block,_sensors)||AddToListIfType(block,_timers)||AddToListIfType(block,_gasTanks)){/* Nothing to do here */
}return false;}bool AddToListIfType&lt;T&gt;(IMyTerminalBlock block,List&lt;T&gt;list)where T:class,IMyTerminalBlock{T typedBlock;return AddToListIfType(block,list,out typedBlock);}bool AddToListIfType&lt;T&gt;(IMyTerminalBlock block,List&lt;T&gt;list,out T typedBlock)where T:class,IMyTerminalBlock{typedBlock=block as T;if(typedBlock!=null){list.Add(typedBlock);return true;}return false;}bool EchoIfTrue(bool state,string toEcho){if(state){_setupBuilder.Append(toEcho).Append("\n");}return state;}// Assumes all thrust is on same grid as PB
void GetThrusterOrientation(IMyTerminalBlock refBlock){var forwardDirn=refBlock.Orientation.Forward;foreach(IMyThrust t in _unsortedThrusters){var thrustDirn=Base6Directions.GetFlippedDirection(t.Orientation.Forward);if(thrustDirn==forwardDirn){_mainThrusters.Add(t);}else{_sideThrusters.Add(t);}}}void GetCameraOrientation(IMyCameraBlock c){switch(c.Orientation.Forward){case Base6Directions.Direction.Forward:_camerasFront.Add(c);return;case Base6Directions.Direction.Backward:_camerasBack.Add(c);return;case Base6Directions.Direction.Left:_camerasLeft.Add(c);return;case Base6Directions.Direction.Right:_camerasRight.Add(c);return;case Base6Directions.Direction.Up:_camerasUp.Add(c);return;case Base6Directions.Direction.Down:_camerasDown.Add(c);return;}}
#endregion

#region Missile Launch Sequence
// Prepares missile for launch by activating power sources.
void MissileStage1(){_missileStage=1;foreach(var b in _batteries){b.Enabled=true;b.ChargeMode=ChargeMode.Discharge;}foreach(var r in _reactors){r.Enabled=true;}foreach(var s in _sensors){s.Enabled=false;}foreach(var w in _warheads){w.IsArmed=false;}foreach(var g in _gyros){g.Enabled=true;}foreach(var t in _gasTanks){t.Stockpile=false;}foreach(var t in _timers){t.Trigger();}}// Detaches missile from the firing ship.
void MissileStage2(){_missileStage=2;foreach(var m in _artMasses){m.Enabled=true;}foreach(var b in _mergeBlocks){b.Enabled=false;}foreach(var c in _connectors){c.Disconnect();}foreach(var r in _rotors){r.Detach();}foreach(var a in _antennas){a.Radius=1f;a.Enabled=false;a.EnableBroadcasting=false;a.Enabled=true;//this used to be a bug workaround, not sure if it is still needed tbh
a.CustomName="";}foreach (var b in _beacons){b.Radius = 1f;b.Enabled = true;b.CustomName = "";}ApplyThrustOverride(_sideThrusters,MinThrust,false);ApplyThrustOverride(_detachThrusters,100f);}// Disables missile thrust for drifting.
void MissileStage3(){_missileStage=3;ApplyThrustOverride(_detachThrusters,MinThrust);}// Ignites main thrust.
void MissileStage4(){_missileStage=4;foreach(var m in _artMasses){m.Enabled=false;}foreach(var c in _cameras){c.EnableRaycast=true;c.Enabled=true;}ApplyThrustOverride(_detachThrusters,MinThrust);ApplyThrustOverride(_sideThrusters,MinThrust);ApplyThrustOverride(_mainThrusters,100f);Me.CubeGrid.CustomName=_missileGroupNameTag;_killAllowed=true;}
#endregion

#region Missile Guidance
// Delays GuideMissile until the guidance delay is finished.
void ActivateGuidance(){_enableGuidance=true;}void GuidanceNavAndControl(){if((_guidanceMode&amp;GuidanceMode.Homing)!=0)ActiveHomingScans();if(!_enableGuidance)return;Vector3D missilePos,missileVel,gravityVec;MatrixD missileMatrix;double missileMass,missileAccel;bool pastArmingRange,shouldSpiral;Navigation(_minimumArmingRange,_enableEvasion,_evadeWithSpiral,out missileMatrix,out missilePos,out missileVel,out _shooterPos,out gravityVec,out missileMass,out missileAccel,out _distanceFromShooter,out pastArmingRange,out shouldSpiral);Vector3D accelCmd=GuidanceMain(_guidanceMode,missileMatrix,missilePos,missileVel,gravityVec,missileAccel,pastArmingRange,shouldSpiral,out _shouldProximityScan);Control(missileMatrix,accelCmd,gravityVec,missileVel,missileMass);
#endregion
}void Navigation(double minArmingRange,bool enableEvasion,bool evadeWithSpiral,out MatrixD missileMatrix,out Vector3D missilePos,out Vector3D missileVel,out Vector3D shooterPos,out Vector3D gravity,out double missileMass,out double missileAcceleration,out double distanceFromShooter,out bool pastMinArmingRange,out bool shouldSpiral){missilePos=_missileReference.CenterOfMass;missileVel=_missileReference.GetShipVelocities().LinearVelocity;missileMatrix=_missileReference.WorldMatrix;// TODO: Determine from thrust allocation
shooterPos=_shooterPosCached+_offsetLeft*_shooterLeftVec+_offsetUp*_shooterUpVec;gravity=_missileReference.GetNaturalGravity();distanceFromShooter=Vector3D.Distance(_shooterPos,missilePos);ScaleAntennaRange(distanceFromShooter+100);// Computing mass, thrust, and acceleration
double missileThrust=CalculateMissileThrust(_mainThrusters);missileMass=_missileReference.CalculateShipMass().PhysicalMass;missileAcceleration=missileThrust/missileMass;pastMinArmingRange=Vector3D.DistanceSquared(missilePos,shooterPos)&gt;=minArmingRange*minArmingRange;shouldSpiral=enableEvasion&amp;&amp;evadeWithSpiral;}Vector3D GuidanceMain(GuidanceMode guidanceMode,MatrixD missileMatrix,Vector3D missilePos,Vector3D missileVel,Vector3D gravity,double missileAcceleration,bool pastMinArmingRange,bool shouldSpiral,out bool shouldProximityScan){Vector3D accelCmd;if(guidanceMode==GuidanceMode.BeamRiding){accelCmd=BeamRideGuidance(missilePos,missileVel,gravity,missileMatrix.Forward,missileAcceleration);shouldProximityScan=pastMinArmingRange;}else{Vector3D adjustedTargetPos;accelCmd=HomingGuidance(missilePos,missileVel,gravity,missileAcceleration,out adjustedTargetPos);double distanceToTgtSq=Vector3D.DistanceSquared(missilePos,adjustedTargetPos);double closingSpeedSq=(missileVel-_targetVel).LengthSquared();shouldProximityScan=pastMinArmingRange&amp;&amp;(closingSpeedSq&gt;distanceToTgtSq);// Roughly 1 second till impact
// Only spiral if we are close enough to the target to conserve fuel
shouldSpiral&amp;=((_spiralActivationRange*_spiralActivationRange&gt;distanceToTgtSq)&amp;&amp;(closingSpeedSq*4.0&lt;distanceToTgtSq));// TODO: Don't hard code this lol
}if(shouldSpiral){accelCmd=missileAcceleration*SpiralTrajectory(accelCmd,_missileReference.WorldMatrix.Up);}if(_enableEvasion&amp;&amp;_evadeWithRandomizedHeading){accelCmd+=missileAcceleration*_randomizedHeadingVector;}return accelCmd;}Vector3D BeamRideGuidance(Vector3D missilePos,Vector3D missileVel,Vector3D gravity,Vector3D missileForwardVec,double missileAcceleration){var shooterToMissileVec=missilePos-_shooterPos;if(Vector3D.IsZero(_shooterForwardVec))//this is to avoid NaN cases when the shooterForwardVec isnt cached yet
_shooterForwardVec=missileForwardVec;var projectionVec=VectorMath.Projection(shooterToMissileVec,_shooterForwardVec);double missileSpeed=missileVel.Length();Vector3D destinationVec=_shooterPos+projectionVec+_shooterForwardVec*Math.Max(2*missileSpeed,200);if(_shooterForwardVec.Dot(shooterToMissileVec)&gt;0)// Missile is in front of the shooter
{if(!_hasPassed){_hasPassed=true;}}else if(_hasPassed)// If behind shooter and we have already passed the shooter before
{int signLeft=Math.Sign(shooterToMissileVec.Dot(_shooterLeftVec));int signUp=Math.Sign(shooterToMissileVec.Dot(_shooterUpVec));destinationVec+=signLeft*100*_shooterLeftVec+signUp*100*_shooterUpVec;}Vector3D missileToTargetVec=destinationVec-missilePos;Vector3D accelCmd;if(_missileStage==4){accelCmd=CalculateDriftCompensation(missileVel,missileToTargetVec,missileAcceleration,0.5,gravity,60);}else{accelCmd=missileToTargetVec;}if(!Vector3D.IsZero(gravity)){accelCmd=MissileGuidanceBase.GravityCompensation(missileAcceleration,accelCmd,gravity);}return VectorMath.SafeNormalize(accelCmd)*missileAcceleration;}Vector3D HomingGuidance(Vector3D missilePos,Vector3D missileVel,Vector3D gravityVec,double missileAcceleration,out Vector3D adjustedTargetPos){adjustedTargetPos=_targetPos+_targetVel*(_timeSinceLastLock+_timeSinceLastIngest);if(_topDownAttack&amp;&amp;gravityVec.LengthSquared()&gt;1e-3&amp;&amp;!_shouldDive){if(VectorMath.AngleBetween(adjustedTargetPos-missilePos,gravityVec)&lt;TopdownDescentAngle){_shouldDive=true;}else{adjustedTargetPos+=Vector3D.Normalize(gravityVec)*-_topDownAttackHeight;}}if(_maxAimDispersion&gt;0.5){if(Vector3D.IsZero(_aimDispersion)){_aimDispersion=ComputeRandomDispersion();}adjustedTargetPos+=VectorMath.Rejection(_aimDispersion,adjustedTargetPos-missilePos);}Vector3D accelCmd=_selectedGuidance.Update(missilePos,missileVel,missileAcceleration,adjustedTargetPos,_targetVel,gravityVec);return accelCmd*missileAcceleration;}void Control(MatrixD missileMatrix,Vector3D accelCmd,Vector3D gravityVec,Vector3D velocityVec,double mass){if(_missileStage==4){var headingDeviation=VectorMath.CosBetween(accelCmd,missileMatrix.Forward);ApplyThrustOverride(_mainThrusters,(float)MathHelper.Clamp(headingDeviation,0.25f,1f)*100f);var sideVelocity=VectorMath.Rejection(velocityVec,accelCmd);ApplySideThrust(_sideThrusters,sideVelocity,gravityVec,mass);}// Get pitch and yaw angles
double yaw,pitch,roll;GetRotationAnglesSimultaneous(accelCmd,-gravityVec,missileMatrix,out pitch,out yaw,out roll);// Angle controller
double yawSpeed=_yawPID.Control(yaw);double pitchSpeed=_pitchPID.Control(pitch);// Handle roll more simply
double rollSpeed=0;if(Math.Abs(_missileSpinRPM)&gt;1e-3&amp;&amp;_missileStage==4){rollSpeed=_missileSpinRPM*RpmToRad;}else{rollSpeed=roll;}// Yaw and pitch slowdown to avoid overshoot
if(Math.Abs(yaw)&lt;GyroSlowdownAngle){yawSpeed=UpdatesPerSecond*.5*yaw;}if(Math.Abs(pitch)&lt;GyroSlowdownAngle){pitchSpeed=UpdatesPerSecond*.5*pitch;}ApplyGyroOverride(pitchSpeed,yawSpeed,rollSpeed,_gyros,missileMatrix);}
#region Broadcast Missile IFF
void NetworkTargets(){bool hasTarget=_guidanceMode==GuidanceMode.Active&amp;&amp;_raycastHoming.Status==RaycastHoming.TargetingStatus.Locked;int capacity=hasTarget ? 2:1;_messageBuilder.Capacity=capacity;var myType=TargetRelation.Missile|(Me.CubeGrid.GridSizeEnum==MyCubeSize.Large ? TargetRelation.LargeGrid:TargetRelation.SmallGrid);var myTuple=new MyTuple&lt;byte,long,Vector3D,double&gt;((byte)(TargetRelation.Friendly|myType),Me.CubeGrid.EntityId,Me.WorldAABB.Center,Me.CubeGrid.WorldAABB.HalfExtents.LengthSquared());_messageBuilder.Add(myTuple);if(hasTarget){TargetRelation relation=TargetRelation.Locked;switch(_raycastHoming.TargetRelation){case MyRelationsBetweenPlayerAndBlock.Owner:case MyRelationsBetweenPlayerAndBlock.Friends:case MyRelationsBetweenPlayerAndBlock.FactionShare:relation|=TargetRelation.Friendly;break;case MyRelationsBetweenPlayerAndBlock.Enemies:relation|=TargetRelation.Enemy;break;// Neutral is assumed if not friendly or enemy
}switch(_raycastHoming.TargetType){case MyDetectedEntityType.LargeGrid:relation|=TargetRelation.LargeGrid;break;case MyDetectedEntityType.SmallGrid:relation|=TargetRelation.SmallGrid;break;}myTuple=new MyTuple&lt;byte,long,Vector3D,double&gt;((byte)relation,_raycastHoming.TargetId,_raycastHoming.TargetCenter,0);_messageBuilder.Add(myTuple);}IGC.SendBroadcastMessage(IgcTagIff,_messageBuilder.MoveToImmutable());}
#endregion

#region Block Property Functions
string GetAntennaName(){switch(_antennaMode.Value){case AntennaNameMode.Meme:return _antennaMemeMessages[_memeIndex];case AntennaNameMode.MissileName:return _missileNameTag;case AntennaNameMode.MissileStatus:return $"{_missileNameTag} / Mode: {_guidanceMode} / Age: {(_guidanceMode == GuidanceMode.BeamRiding ? 0 : _timeSinceLastLock):0.0}";default: case AntennaNameMode.Empty: return "";}}void ScaleAntennaRange(double dist){foreach(IMyRadioAntenna a in _antennas){if(a.Closed)continue;a.Radius=(float)dist;a.EnableBroadcasting=!_shouldStealth;a.CustomName=GetAntennaName();}foreach(IMyBeacon thisBeacon in _beacons){if(thisBeacon.Closed)continue;thisBeacon.Radius=(float)dist;}}void ApplyThrustOverride(List&lt;IMyThrust&gt;thrusters,float overrideValue,bool turnOn=true){float thrustProportion=overrideValue*0.01f;foreach(IMyThrust t in thrusters){if(t.Closed)continue;if(t.Enabled!=turnOn)t.Enabled=turnOn;if(thrustProportion!=t.ThrustOverridePercentage)t.ThrustOverridePercentage=thrustProportion;}}void ApplySideThrust(List&lt;IMyThrust&gt;thrusters,Vector3D controlAccel,Vector3D gravity,double mass){var desiredThrust=mass*(2*controlAccel+gravity);var thrustToApply=desiredThrust;foreach(IMyThrust t in thrusters){if(!t.IsWorking){continue;}double neededThrust=Vector3D.Dot(t.WorldMatrix.Forward,thrustToApply);if(neededThrust&gt;0){var outputProportion=MathHelper.Clamp(neededThrust/t.MaxEffectiveThrust,0,1);t.ThrustOverridePercentage=(float)outputProportion;thrustToApply-=t.WorldMatrix.Forward*outputProportion*t.MaxEffectiveThrust;}else{t.ThrustOverridePercentage=MinThrust;}}}void CheckProximity(){if(!_shouldProximityScan||_markedForDetonation)return;Vector3D adjustedTargetPos=_targetPos+_targetVel*(_timeSinceLastLock+_timeSinceLastIngest);Vector3D missileVelocity=_missileReference.GetShipVelocities().LinearVelocity;Vector3D closingVelocity=_guidanceMode==GuidanceMode.BeamRiding ? missileVelocity:missileVelocity-_targetVel;Vector3D missileToTarget=adjustedTargetPos-_missileReference.GetPosition();double distanceToTarget=missileToTarget.Length();Vector3D missileToTargetNorm=missileToTarget/distanceToTarget;double closingSpeed;// If we have no cameras or sensors for detonation, use some approximations
if(_cameras.Count==0&amp;&amp;_sensors.Count==0){if(_guidanceMode==GuidanceMode.BeamRiding)// Arm warheads if in beam ride mode
{foreach(var thisWarhead in _warheads){if(thisWarhead.Closed)continue;if(!thisWarhead.IsArmed)thisWarhead.IsArmed=true;}}else{// Use bounding box estimation for detonation
double adjustedDetonationRange=_missileReference.CubeGrid.WorldVolume.Radius+_raycastRange;closingSpeed=Vector3D.Dot(closingVelocity,missileToTargetNorm);if(distanceToTarget&lt;adjustedDetonationRange+closingSpeed*SecondsPerUpdate){Detonate((distanceToTarget-adjustedDetonationRange)/closingSpeed);return;}}return;}// Try raycast detonation methods
double raycastHitDistance=0;// Do one scan in the direction of the target (if applicable)
if((_guidanceMode&amp;GuidanceMode.Homing)!=0&amp;&amp;RaycastTripwireInDirection(missileToTargetNorm,closingVelocity,out raycastHitDistance,out closingSpeed)){Detonate((raycastHitDistance-_raycastRange)/closingSpeed);return;}/*
Do one scan in the direction of the relative velocity vector
If that fails, we will scan a cross pattern that traces the radius of the missile to try and catch
complex geometry and avoid missed detonations
*/
double apparentRadius=CalculateGridRadiusFromAxis(_missileReference.CubeGrid,closingVelocity)+_raycastRange;var baseDirection=VectorMath.SafeNormalize(closingVelocity)*_raycastRange;var perp1=Vector3D.CalculatePerpendicularVector(closingVelocity)*apparentRadius;var perp2=VectorMath.SafeNormalize(Vector3D.Cross(perp1,closingVelocity))*apparentRadius;if(RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,perp1)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,-perp1)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,perp2)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,-perp2)){Detonate((raycastHitDistance-_raycastRange)/closingSpeed);return;}foreach(IMySensorBlock sensor in _sensors){if(sensor.Closed)continue;if(!sensor.Enabled)sensor.Enabled=true;if(sensor.IsActive){_sensorEntities.Clear();sensor.DetectedEntities(_sensorEntities);foreach(var targetInfo in _sensorEntities){if(IsValidTarget(targetInfo)){Detonate(0);return;}}}}}bool RaycastTripwireInDirection(Vector3D directionToTarget,Vector3D closingVelocity,out double raycastHitDistance,out double closingSpeed,Vector3D? offsetVector=null){raycastHitDistance=0;closingSpeed=0;var directionToTargetNorm=VectorMath.SafeNormalize(directionToTarget);foreach(var cameraBuffer in _cameraBufferList){if(cameraBuffer.Count==0){continue;}Vector3D localDirToTgt=Vector3D.TransformNormal(directionToTargetNorm,MatrixD.Transpose(cameraBuffer.Peek().WorldMatrix));if(localDirToTgt.Z&lt;0&amp;&amp;Math.Abs(localDirToTgt.X)&lt;.7071&amp;&amp;Math.Abs(localDirToTgt.Y)&lt;.7071){IMyCameraBlock cam=cameraBuffer.MoveNext();if(!cam.EnableRaycast){cam.EnableRaycast=true;}if(!cam.Enabled){cam.Enabled=true;}closingSpeed=Math.Max(0,Vector3D.Dot(closingVelocity,directionToTargetNorm));var closingDisplacement=closingSpeed*SecondsPerUpdate;var scanRange=_raycastRange+closingDisplacement;var scanPosition=cam.GetPosition()+directionToTargetNorm*scanRange;if(offsetVector.HasValue){scanPosition+=offsetVector.Value;}MyDetectedEntityInfo targetInfo=cam.Raycast(scanPosition);bool valid=IsValidTarget(targetInfo);if(valid){raycastHitDistance=Vector3D.Distance(targetInfo.HitPosition.Value,cam.GetPosition());}return valid;}}return false;}bool IsValidTarget(MyDetectedEntityInfo targetInfo){if(targetInfo.IsEmpty()||(targetInfo.EntityId==Me.CubeGrid.EntityId)||(!_ignoreIdForDetonation&amp;&amp;((_guidanceMode&amp;GuidanceMode.Homing)!=0)&amp;&amp;(targetInfo.EntityId!=_raycastHoming.TargetId))||(_raycastIgnorePlanetSurface&amp;&amp;targetInfo.Type==MyDetectedEntityType.Planet)||(_raycastIgnoreFriends&amp;&amp;(targetInfo.Relationship&amp;(MyRelationsBetweenPlayerAndBlock.FactionShare|MyRelationsBetweenPlayerAndBlock.Owner))!=0)||(targetInfo.BoundingBox.Size.LengthSquared()&lt;_raycastMinimumTargetSize*_raycastMinimumTargetSize)){return false;}return true;}void Detonate(double fuzeTime){_markedForDetonation=true;foreach(var thisWarhead in _warheads){if(thisWarhead.Closed)continue;thisWarhead.DetonationTime=Math.Max(0f,(float)fuzeTime-1f/60f);thisWarhead.StartCountdown();}}void KillPower(){foreach(var b in _funcBlocks){if(!b.Closed)b.Enabled=false;}Detonate(0);Runtime.UpdateFrequency=UpdateFrequency.None;}double CalculateMissileThrust(List&lt;IMyThrust&gt;mainThrusters){double thrust=0;foreach(var block in mainThrusters){if(block.Closed)continue;thrust+=block.IsFunctional ? block.MaxEffectiveThrust:0;}return thrust;}
#endregion

#region Vector Math Functions
// Computes optimal drift compensation vector to eliminate drift in a specified time
static Vector3D CalculateDriftCompensation(Vector3D velocity,Vector3D directHeading,double accel,double timeConstant,Vector3D gravityVec,double maxDriftAngle=60){if(directHeading.LengthSquared()==0)return velocity;if(Vector3D.Dot(velocity,directHeading)&lt;0)return directHeading;if(velocity.LengthSquared()&lt;100)return directHeading;var normalVelocity=VectorMath.Rejection(velocity,directHeading);var normal=VectorMath.SafeNormalize(normalVelocity);var parallel=VectorMath.SafeNormalize(directHeading);var normalAccel=Vector3D.Dot(normal,normalVelocity)/timeConstant;normalAccel=Math.Min(normalAccel,accel*Math.Sin(MathHelper.ToRadians(maxDriftAngle)));var normalAccelerationVector=normalAccel*normal;double parallelAccel=0;var diff=accel*accel-normalAccelerationVector.LengthSquared();if(diff&gt;0)parallelAccel=Math.Sqrt(diff);return parallelAccel*parallel-normal*normalAccel;}void ComputeRandomHeadingVector(){if(!_enableEvasion||!_evadeWithRandomizedHeading||!_enableGuidance||_missileReference==null){return;}double angle=RNGesus.NextDouble()*Math.PI*2.0;_randomizedHeadingVector=Math.Sin(angle)*_missileReference.WorldMatrix.Up+Math.Cos(angle)*_missileReference.WorldMatrix.Right;_randomizedHeadingVector*=_maxRandomAccelRatio;}Vector3D ComputeRandomDispersion(){Vector3D direction=new Vector3D(2*_bellCurveRandom.NextDouble()-1,2*_bellCurveRandom.NextDouble()-1,2*_bellCurveRandom.NextDouble()-1);return _maxAimDispersion*direction;}//Whip's Spiral Trajectory Method v2
double _timeSpiral=0;Vector3D SpiralTrajectory(Vector3D desiredForwardVector,Vector3D desiredUpVector){if(_timeSpiral&gt;_timeMaxSpiral)_timeSpiral=0;double angle=2*Math.PI*_timeSpiral/_timeMaxSpiral;Vector3D forward=VectorMath.SafeNormalize(desiredForwardVector);Vector3D right=VectorMath.SafeNormalize(Vector3D.Cross(forward,desiredUpVector));Vector3D up=Vector3D.Cross(right,forward);double lateralProportion=Math.Sin(_spiralDegrees*DegToRad);double forwardProportion=Math.Sqrt(1-lateralProportion*lateralProportion);return forward*forwardProportion+lateralProportion*(Math.Sin(angle)*up+Math.Cos(angle)*right);}Vector3D[]_corners=new Vector3D[8];double CalculateGridRadiusFromAxis(IMyCubeGrid grid,Vector3D axis){var axisLocal=VectorMath.SafeNormalize(Vector3D.Rotate(axis,MatrixD.Transpose(grid.WorldMatrix)));var min=((Vector3D)grid.Min-0.5)*grid.GridSize;var max=((Vector3D)grid.Max+0.5)*grid.GridSize;var bb=new BoundingBoxD(min,max);bb.GetCorners(_corners);double maxLenSq=0;var point=_corners[0];foreach(var corner in _corners){var dirn=corner-bb.Center;var rej=dirn-dirn.Dot(axisLocal)*axisLocal;var lenSq=rej.LengthSquared();if(lenSq&gt;maxLenSq){point=corner;maxLenSq=lenSq;}}return Math.Sqrt(maxLenSq);}
#endregion

#region Storage Parsing/Saving
void ParseStorage()//TODO: Add proper ini save/parse for Active guidance
{if(GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupNameTag)!=null){// This means missile is still attached to firing ship
Storage="";return;}var storageSplit = Storage.Split('\n');foreach (var line in storageSplit){if (line.StartsWith("@")){var trimmedLine = line.Replace("@", "");bool parsed = int.TryParse(trimmedLine, out _missileStage);if (parsed &amp;&amp; _missileStage == 0){_savedKeycodes.Clear();return;}continue;}long code = 0;if (!string.IsNullOrWhiteSpace(line) &amp;&amp; long.TryParse(line, out code))_savedKeycodes.Add(code);}if (_savedKeycodes.Count != 0 &amp;&amp; _missileStage != 0){_postSetupAction = PostSetupAction.Fire;InitiateSetup(true);}Echo("Storage parsed");}void Save(){_saveSB.Clear();foreach (var id in _savedKeycodes)_saveSB.Append($"{id}\n");_saveSB.Append($"@{_missileStage}");Storage=_saveSB.ToString();}
#endregion

#endregion

#region INCLUDES
enum TargetRelation:byte{Neutral=0,Other=0,Enemy=1,Friendly=2,Locked=4,LargeGrid=8,SmallGrid=16,Missile=32,Asteroid=64,RelationMask=Neutral|Enemy|Friendly,TypeMask=LargeGrid|SmallGrid|Other|Missile|Asteroid}public static class VectorMath{/// &lt;summary&gt;
///  Normalizes a vector only if it is non-zero and non-unit
/// &lt;/summary&gt;
public static Vector3D SafeNormalize(Vector3D a){if(Vector3D.IsZero(a))return Vector3D.Zero;if(Vector3D.IsUnit(ref a))return a;return Vector3D.Normalize(a);}/// &lt;summary&gt;
/// Reflects vector a over vector b with an optional rejection factor
/// &lt;/summary&gt;
public static Vector3D Reflection(Vector3D a,Vector3D b,double rejectionFactor=1)//reflect a over b
{Vector3D proj=Projection(a,b);Vector3D rej=a-proj;return proj-rej*rejectionFactor;}/// &lt;summary&gt;
/// Rejects vector a on vector b
/// &lt;/summary&gt;
public static Vector3D Rejection(Vector3D a,Vector3D b)//reject a on b
{if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return Vector3D.Zero;return a-a.Dot(b)/b.LengthSquared()*b;}/// &lt;summary&gt;
/// Projects vector a onto vector b
/// &lt;/summary&gt;
public static Vector3D Projection(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return Vector3D.Zero;if(Vector3D.IsUnit(ref b))return a.Dot(b)*b;return a.Dot(b)/b.LengthSquared()*b;}/// &lt;summary&gt;
/// Scalar projection of a onto b
/// &lt;/summary&gt;
public static double ScalarProjection(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;if(Vector3D.IsUnit(ref b))return a.Dot(b);return a.Dot(b)/b.Length();}/// &lt;summary&gt;
/// Computes angle between 2 vectors in radians.
/// &lt;/summary&gt;
public static double AngleBetween(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;else return Math.Acos(MathHelper.Clamp(a.Dot(b)/Math.Sqrt(a.LengthSquared()*b.LengthSquared()),-1,1));}/// &lt;summary&gt;
/// Computes cosine of the angle between 2 vectors.
/// &lt;/summary&gt;
public static double CosBetween(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;else return MathHelper.Clamp(a.Dot(b)/Math.Sqrt(a.LengthSquared()*b.LengthSquared()),-1,1);}/// &lt;summary&gt;
/// Returns if the normalized dot product between two vectors is greater than the tolerance.
/// This is helpful for determining if two vectors are "more parallel" than the tolerance.
/// &lt;/summary&gt;
/// &lt;param name="a"&gt;First vector&lt;/param&gt;
/// &lt;param name="b"&gt;Second vector&lt;/param&gt;
/// &lt;param name="tolerance"&gt;Cosine of maximum angle&lt;/param&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public static bool IsDotProductWithinTolerance(Vector3D a,Vector3D b,double tolerance){double dot=Vector3D.Dot(a,b);double num=a.LengthSquared()*b.LengthSquared()*tolerance*Math.Abs(tolerance);return Math.Abs(dot)*dot&gt;num;}}/// Whip's GetRotationAnglesSimultaneous - Last modified: 2022/08/10
/// &lt;summary&gt;
/// &lt;para&gt;
///     This method computes the axis-angle rotation required to align the
///     reference world matrix with the desired forward and up vectors.
/// &lt;/para&gt;
/// &lt;para&gt;
///     The desired forward and up vectors are used to construct the desired
///     target orientation relative to the current world matrix orientation.
///     The current orientation of the craft with respect to itself will be the
///     identity matrix, thus the error between our desired orientation and our
///     target orientation is simply the target orientation itself:
///     M_target = M_current * M_error =&gt;
///     M_target = I * M_error =&gt;
///     M_target = M_error
/// &lt;/para&gt;
/// &lt;para&gt;
///     This is designed for use with Keen's gyroscopes where:
///     + pitch = -X rotation,
///     + yaw   = -Y rotation,
///     + roll  = -Z rotation
/// &lt;/para&gt;
/// &lt;/summary&gt;
/// &lt;remarks&gt;
///     Dependencies: &lt;c&gt;VectorMath.SafeNormalize&lt;/c&gt;
/// &lt;/remarks&gt;
/// &lt;param name="desiredForwardVector"&gt;
///     Desired forward direction in world frame.
///     This is the primary constraint used to allign pitch and yaw.
/// &lt;/param&gt;
/// &lt;param name="desiredUpVector"&gt;
///     Desired up direction in world frame.
///     This is the secondary constraint used to align roll.
///     Set to &lt;c&gt;Vector3D.Zero&lt;/c&gt; if roll control is not desired.
/// &lt;/param&gt;
/// &lt;param name="worldMatrix"&gt;
///     World matrix describing current orientation.
///     The translation part of the matrix is ignored; only the orientation matters.
/// &lt;/param&gt;
/// &lt;param name="pitch"&gt;Pitch angle to desired orientation(rads).&lt;/param&gt;
/// &lt;param name="yaw"&gt;Yaw angle to desired orientation(rads).&lt;/param&gt;
/// &lt;param name="roll"&gt;Roll angle to desired orientation(rads).&lt;/param&gt;
public static void GetRotationAnglesSimultaneous(Vector3D desiredForwardVector,Vector3D desiredUpVector,MatrixD worldMatrix,out double pitch,out double yaw,out double roll){desiredForwardVector=VectorMath.SafeNormalize(desiredForwardVector);MatrixD transposedWm;MatrixD.Transpose(ref worldMatrix,out transposedWm);Vector3D.Rotate(ref desiredForwardVector,ref transposedWm,out desiredForwardVector);Vector3D.Rotate(ref desiredUpVector,ref transposedWm,out desiredUpVector);Vector3D leftVector=Vector3D.Cross(desiredUpVector,desiredForwardVector);Vector3D axis;double angle;if(Vector3D.IsZero(desiredUpVector)||Vector3D.IsZero(leftVector)){/*
* Simple case where we have no valid roll constraint:
* We merely cross the current forward vector (Vector3D.Forward) on the
* desiredForwardVector.
*/
axis=new Vector3D(-desiredForwardVector.Y,desiredForwardVector.X,0);angle=Math.Acos(MathHelper.Clamp(-desiredForwardVector.Z,-1.0,1.0));}else{/*
* Here we need to construct the target orientation matrix so that we
* can extract the error from it in axis-angle representation.
*/
leftVector=VectorMath.SafeNormalize(leftVector);Vector3D upVector=Vector3D.Cross(desiredForwardVector,leftVector);MatrixD targetOrientation=new MatrixD(){Forward=desiredForwardVector,Left=leftVector,Up=upVector,};axis=new Vector3D(targetOrientation.M32-targetOrientation.M23,targetOrientation.M13-targetOrientation.M31,targetOrientation.M21-targetOrientation.M12);double trace=targetOrientation.M11+targetOrientation.M22+targetOrientation.M33;angle=Math.Acos(MathHelper.Clamp((trace-1)*0.5,-1.0,1.0));}if(Vector3D.IsZero(axis)){/*
* Degenerate case where we get a zero axis. This means we are either
* exactly aligned or exactly anti-aligned. In the latter case, we just
* assume the yaw is PI to get us away from the singularity.
*/
angle=desiredForwardVector.Z&lt;0 ? 0:Math.PI;yaw=angle;pitch=0;roll=0;return;}Vector3D axisAngle=VectorMath.SafeNormalize(axis)*angle;yaw=axisAngle.Y;pitch=axisAngle.X;roll=axisAngle.Z;}/*
Whip's ApplyGyroOverride - Last modified: 2020/08/27

Takes pitch, yaw, and roll speeds relative to the gyro's backwards
ass rotation axes.
*/
void ApplyGyroOverride(double pitchSpeed,double yawSpeed,double rollSpeed,List&lt;IMyGyro&gt;gyroList,MatrixD worldMatrix){var rotationVec=new Vector3D(pitchSpeed,yawSpeed,rollSpeed);var relativeRotationVec=Vector3D.TransformNormal(rotationVec,worldMatrix);foreach(var thisGyro in gyroList){var transformedRotationVec=Vector3D.TransformNormal(relativeRotationVec,Matrix.Transpose(thisGyro.WorldMatrix));thisGyro.Pitch=(float)transformedRotationVec.X;thisGyro.Yaw=(float)transformedRotationVec.Y;thisGyro.Roll=(float)transformedRotationVec.Z;thisGyro.GyroOverride=true;}}
#region Scheduler
/// &lt;summary&gt;
/// Class for scheduling actions to occur at specific frequencies. Actions can be updated in parallel or in sequence (queued).
/// &lt;/summary&gt;
public class Scheduler{public double CurrentTimeSinceLastRun{get;private set;}=0;public long CurrentTicksSinceLastRun{get;private set;}=0;QueuedAction _currentlyQueuedAction=null;bool _firstRun=true;bool _inUpdate=false;readonly bool _ignoreFirstRun;readonly List&lt;ScheduledAction&gt;_actionsToAdd=new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt;_scheduledActions=new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt;_actionsToDispose=new List&lt;ScheduledAction&gt;();readonly Queue&lt;QueuedAction&gt;_queuedActions=new Queue&lt;QueuedAction&gt;();readonly Program _program;public const long TicksPerSecond=60;public const double TickDurationSeconds=1.0/TicksPerSecond;const long ClockTicksPerGameTick=166666L;/// &lt;summary&gt;
/// Constructs a scheduler object with timing based on the runtime of the input program.
/// &lt;/summary&gt;
public Scheduler(Program program,bool ignoreFirstRun=false){_program=program;_ignoreFirstRun=ignoreFirstRun;}/// &lt;summary&gt;
/// Updates all ScheduledAcions in the schedule and the queue.
/// &lt;/summary&gt;
public void Update(){_inUpdate=true;long deltaTicks=Math.Max(0,_program.Runtime.TimeSinceLastRun.Ticks/ClockTicksPerGameTick);if(_firstRun){if(_ignoreFirstRun){deltaTicks=0;}_firstRun=false;}_actionsToDispose.Clear();foreach(ScheduledAction action in _scheduledActions){CurrentTicksSinceLastRun=action.TicksSinceLastRun+deltaTicks;CurrentTimeSinceLastRun=action.TimeSinceLastRun+deltaTicks*TickDurationSeconds;action.Update(deltaTicks);if(action.JustRan&amp;&amp;action.DisposeAfterRun){_actionsToDispose.Add(action);}}if(_actionsToDispose.Count&gt;0){_scheduledActions.RemoveAll((x)=&gt;_actionsToDispose.Contains(x));}if(_currentlyQueuedAction==null){// If queue is not empty, populate current queued action
if(_queuedActions.Count!=0)_currentlyQueuedAction=_queuedActions.Dequeue();}// If queued action is populated
if(_currentlyQueuedAction!=null){_currentlyQueuedAction.Update(deltaTicks);if(_currentlyQueuedAction.JustRan){if(!_currentlyQueuedAction.DisposeAfterRun){_queuedActions.Enqueue(_currentlyQueuedAction);}// Set the queued action to null for the next cycle
_currentlyQueuedAction=null;}}_inUpdate=false;if(_actionsToAdd.Count&gt;0){_scheduledActions.AddRange(_actionsToAdd);_actionsToAdd.Clear();}}/// &lt;summary&gt;
/// Adds an Action to the schedule. All actions are updated each update call.
/// &lt;/summary&gt;
public void AddScheduledAction(Action action,double updateFrequency,bool disposeAfterRun=false,double timeOffset=0){ScheduledAction scheduledAction=new ScheduledAction(action,updateFrequency,disposeAfterRun,timeOffset);if(!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}/// &lt;summary&gt;
/// Adds a ScheduledAction to the schedule. All actions are updated each update call.
/// &lt;/summary&gt;
public void AddScheduledAction(ScheduledAction scheduledAction){if(!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}/// &lt;summary&gt;
/// Adds an Action to the queue. Queue is FIFO.
/// &lt;/summary&gt;
public void AddQueuedAction(Action action,double updateInterval,bool removeAfterRun=false){if(updateInterval&lt;=0){updateInterval=0.001;// avoids divide by zero
}QueuedAction scheduledAction=new QueuedAction(action,updateInterval,removeAfterRun);_queuedActions.Enqueue(scheduledAction);}/// &lt;summary&gt;
/// Adds a ScheduledAction to the queue. Queue is FIFO.
/// &lt;/summary&gt;
public void AddQueuedAction(QueuedAction scheduledAction){_queuedActions.Enqueue(scheduledAction);}}public class QueuedAction:ScheduledAction{public QueuedAction(Action action,double runInterval,bool removeAfterRun=false):base(action,1.0/runInterval,removeAfterRun:removeAfterRun,timeOffset:0){}}public class ScheduledAction{public bool JustRan{get;private set;}=false;public bool DisposeAfterRun{get;private set;}=false;public double TimeSinceLastRun{get{return TicksSinceLastRun*Scheduler.TickDurationSeconds;}}public long TicksSinceLastRun{get;private set;}=0;public double RunInterval{get{return RunIntervalTicks*Scheduler.TickDurationSeconds;}set{RunIntervalTicks=(long)Math.Round(value*Scheduler.TicksPerSecond);}}public long RunIntervalTicks{get{return _runIntervalTicks;}set{if(value==_runIntervalTicks)return;_runIntervalTicks=value&lt;0 ? 0:value;_runFrequency=value==0 ? double.MaxValue:Scheduler.TicksPerSecond/_runIntervalTicks;}}public double RunFrequency{get{return _runFrequency;}set{if(value==_runFrequency)return;if(value==0)RunIntervalTicks=long.MaxValue;else RunIntervalTicks=(long)Math.Round(Scheduler.TicksPerSecond/value);}}long _runIntervalTicks;double _runFrequency;readonly Action _action;/// &lt;summary&gt;
/// Class for scheduling an action to occur at a specified frequency (in Hz).
/// &lt;/summary&gt;
/// &lt;param name="action"&gt;Action to run&lt;/param&gt;
/// &lt;param name="runFrequency"&gt;How often to run in Hz&lt;/param&gt;
public ScheduledAction(Action action,double runFrequency,bool removeAfterRun=false,double timeOffset=0){_action=action;RunFrequency=runFrequency;// Implicitly sets RunInterval
DisposeAfterRun=removeAfterRun;TicksSinceLastRun=(long)Math.Round(timeOffset*Scheduler.TicksPerSecond);}public void Update(long deltaTicks){TicksSinceLastRun+=deltaTicks;if(TicksSinceLastRun&gt;=RunIntervalTicks){_action.Invoke();TicksSinceLastRun=0;JustRan=true;}else{JustRan=false;}}}
#endregion
/// &lt;summary&gt;
/// Discrete time PID controller class.
/// Last edited: 2022/08/11 - Whiplash141
/// &lt;/summary&gt;
public class PID{public double Kp{get;set;}=0;public double Ki{get;set;}=0;public double Kd{get;set;}=0;public double Value{get;private set;}double _timeStep=0;double _inverseTimeStep=0;double _errorSum=0;double _lastError=0;bool _firstRun=true;public PID(double kp,double ki,double kd,double timeStep){Kp=kp;Ki=ki;Kd=kd;_timeStep=timeStep;_inverseTimeStep=1/_timeStep;}protected virtual double GetIntegral(double currentError,double errorSum,double timeStep){return errorSum+currentError*timeStep;}public double Control(double error){//Compute derivative term
double errorDerivative=(error-_lastError)*_inverseTimeStep;if(_firstRun){errorDerivative=0;_firstRun=false;}//Get error sum
_errorSum=GetIntegral(error,_errorSum,_timeStep);//Store this error as last error
_lastError=error;//Construct output
Value=Kp*error+Ki*_errorSum+Kd*errorDerivative;return Value;}public double Control(double error,double timeStep){if(timeStep!=_timeStep){_timeStep=timeStep;_inverseTimeStep=1/_timeStep;}return Control(error);}public virtual void Reset(){_errorSum=0;_lastError=0;_firstRun=true;}}/// &lt;summary&gt;
/// Class that tracks runtime history.
/// &lt;/summary&gt;
public class RuntimeTracker{public int Capacity{get;set;}public double Sensitivity{get;set;}public double MaxRuntime{get;private set;}public double MaxInstructions{get;private set;}public double AverageRuntime{get;private set;}public double AverageInstructions{get;private set;}public double LastRuntime{get;private set;}public double LastInstructions{get;private set;}readonly Queue&lt;double&gt;_runtimes=new Queue&lt;double&gt;();readonly Queue&lt;double&gt;_instructions=new Queue&lt;double&gt;();readonly int _instructionLimit;readonly Program _program;const double MS_PER_TICK=16.6666;const string Format="General Runtime Info\n" + "- Avg runtime: {0:n4} ms\n" + "- Last runtime: {1:n4} ms\n" + "- Max runtime: {2:n4} ms\n" + "- Avg instructions: {3:n2}\n" + "- Last instructions: {4:n0}\n" + "- Max instructions: {5:n0}\n" + "- Avg complexity: {6:0.000}%";public RuntimeTracker(Program program,int capacity=100,double sensitivity=0.005){_program=program;Capacity=capacity;Sensitivity=sensitivity;_instructionLimit=_program.Runtime.MaxInstructionCount;}public void AddRuntime(){double runtime=_program.Runtime.LastRunTimeMs;LastRuntime=runtime;AverageRuntime+=(Sensitivity*runtime);int roundedTicksSinceLastRuntime=(int)Math.Round(_program.Runtime.TimeSinceLastRun.TotalMilliseconds/MS_PER_TICK);if(roundedTicksSinceLastRuntime==1){AverageRuntime*=(1-Sensitivity);}else if(roundedTicksSinceLastRuntime&gt;1){AverageRuntime*=Math.Pow((1-Sensitivity),roundedTicksSinceLastRuntime);}_runtimes.Enqueue(runtime);if(_runtimes.Count==Capacity){_runtimes.Dequeue();}MaxRuntime=_runtimes.Max();}public void AddInstructions(){double instructions=_program.Runtime.CurrentInstructionCount;LastInstructions=instructions;AverageInstructions=Sensitivity*(instructions-AverageInstructions)+AverageInstructions;_instructions.Enqueue(instructions);if(_instructions.Count==Capacity){_instructions.Dequeue();}MaxInstructions=_instructions.Max();}public string Write(){return string.Format(Format,AverageRuntime,LastRuntime,MaxRuntime,AverageInstructions,LastInstructions,MaxInstructions,AverageInstructions/_instructionLimit);}}
#region Raycast Homing
class RaycastHoming{public TargetingStatus Status{get;private set;}=TargetingStatus.NotLocked;public Vector3D TargetPosition{get{return OffsetTargeting ? OffsetTargetPosition:TargetCenter;}}public double SearchScanSpread{get;set;}=0;public Vector3D TargetCenter{get;private set;}=Vector3D.Zero;public Vector3D OffsetTargetPosition{get;private set;}=Vector3D.Zero;public Vector3D TargetVelocity{get;private set;}=Vector3D.Zero;public Vector3D HitPosition{get;private set;}=Vector3D.Zero;public Vector3D PreciseModeOffset{get;private set;}=Vector3D.Zero;public bool OffsetTargeting=false;public bool MissedLastScan{get;private set;}=false;public bool LockLost{get;private set;}=false;public bool IsScanning{get;private set;}=false;public double TimeSinceLastLock{get;private set;}=0;public double TargetSize{get;private set;}=0;public double MaxRange{get;private set;}public double MinRange{get;private set;}public long TargetId{get;private set;}=0;public double AutoScanInterval{get;private set;}=0;public double MaxTimeForLockBreak{get;private set;}public MyRelationsBetweenPlayerAndBlock TargetRelation{get;private set;}public MyDetectedEntityType TargetType{get;private set;}public enum TargetingStatus{NotLocked,Locked,TooClose};enum AimMode{Center,Offset,OffsetRelative};AimMode _currentAimMode=AimMode.Center;readonly HashSet&lt;MyDetectedEntityType&gt;_targetFilter=new HashSet&lt;MyDetectedEntityType&gt;();readonly List&lt;IMyCameraBlock&gt;_availableCameras=new List&lt;IMyCameraBlock&gt;();readonly Random _rngeesus=new Random();MyDetectedEntityInfo _info=default(MyDetectedEntityInfo);MatrixD _targetOrientation;Vector3D _targetPositionOverride;HashSet&lt;long&gt;_gridIDsToIgnore=new HashSet&lt;long&gt;();double _timeSinceLastScan=0;bool _manualLockOverride=false;bool _fudgeVectorSwitch=false;double AutoScanScaleFactor{get{return MissedLastScan ? 0.8:1.1;}}public RaycastHoming(double maxRange,double maxTimeForLockBreak,double minRange=0,long gridIDToIgnore=0){MinRange=minRange;MaxRange=maxRange;MaxTimeForLockBreak=maxTimeForLockBreak;AddIgnoredGridID(gridIDToIgnore);}public void SetInitialLockParameters(Vector3D hitPosition,Vector3D targetVelocity,Vector3D offset,double timeSinceLastLock,long targetId){_targetPositionOverride=hitPosition;TargetCenter=hitPosition;HitPosition=hitPosition;OffsetTargetPosition=hitPosition;PreciseModeOffset=offset;TargetVelocity=targetVelocity;TimeSinceLastLock=timeSinceLastLock;_manualLockOverride=true;IsScanning=true;TargetId=targetId;}public void AddIgnoredGridID(long id){_gridIDsToIgnore.Add(id);}public void ClearIgnoredGridIDs(){_gridIDsToIgnore.Clear();}public void AddEntityTypeToFilter(params MyDetectedEntityType[]types){foreach(var type in types){_targetFilter.Add(type);}}public void AcknowledgeLockLost(){LockLost=false;}public void LockOn(){ClearLockInternal();LockLost=false;IsScanning=true;}public void ClearLock(){ClearLockInternal();LockLost=false;}void ClearLockInternal(){_info=default(MyDetectedEntityInfo);IsScanning=false;Status=TargetingStatus.NotLocked;MissedLastScan=false;TimeSinceLastLock=0;TargetSize=0;HitPosition=Vector3D.Zero;TargetId=0;_timeSinceLastScan=141;_currentAimMode=AimMode.Center;TargetRelation=MyRelationsBetweenPlayerAndBlock.NoOwnership;TargetType=MyDetectedEntityType.None;}double RndDbl(){return 2*_rngeesus.NextDouble()-1;}double GaussRnd(){return(RndDbl()+RndDbl()+RndDbl())/3.0;}Vector3D CalculateFudgeVector(Vector3D targetDirection,double fudgeFactor=5){_fudgeVectorSwitch=!_fudgeVectorSwitch;if(!_fudgeVectorSwitch)return Vector3D.Zero;var perpVector1=Vector3D.CalculatePerpendicularVector(targetDirection);var perpVector2=Vector3D.Cross(perpVector1,targetDirection);if(!Vector3D.IsUnit(ref perpVector2))perpVector2.Normalize();var randomVector=GaussRnd()*perpVector1+GaussRnd()*perpVector2;return randomVector*fudgeFactor*TimeSinceLastLock;}Vector3D GetSearchPos(Vector3D origin,Vector3D direction,IMyCameraBlock camera){Vector3D scanPos=origin+direction*MaxRange;if(SearchScanSpread&lt;1e-2){return scanPos;}return scanPos+(camera.WorldMatrix.Left*GaussRnd()+camera.WorldMatrix.Up*GaussRnd())*SearchScanSpread;}public void Update(double timeStep,List&lt;IMyCameraBlock&gt;cameraList,List&lt;IMyShipController&gt;shipControllers,IMyTerminalBlock referenceBlock=null){_timeSinceLastScan+=timeStep;if(!IsScanning)return;TimeSinceLastLock+=timeStep;_info=default(MyDetectedEntityInfo);_availableCameras.Clear();//Check for lock lost
if(TimeSinceLastLock&gt;(MaxTimeForLockBreak+AutoScanInterval)&amp;&amp;Status==TargetingStatus.Locked){LockLost=true;ClearLockInternal();return;}// Determine where to scan next
var scanPosition=Vector3D.Zero;switch(_currentAimMode){case AimMode.Offset:scanPosition=HitPosition+TargetVelocity*TimeSinceLastLock;break;case AimMode.OffsetRelative:scanPosition=OffsetTargetPosition+TargetVelocity*TimeSinceLastLock;break;default:scanPosition=TargetCenter+TargetVelocity*TimeSinceLastLock;break;}if(MissedLastScan&amp;&amp;cameraList.Count&gt;0){scanPosition+=CalculateFudgeVector(scanPosition-cameraList[0].GetPosition());}// Trim out cameras that cant see our next scan position
Vector3D testDirection=Vector3D.Zero;IMyTerminalBlock reference=null;if(Status==TargetingStatus.Locked||_manualLockOverride){GetAvailableCameras(cameraList,_availableCameras,scanPosition,true);}else{/*
* The following prioritizes references in the following hierarchy:
* 1. Currently used camera
* 2. Reference block
* 3. Currently used control seat
*/
if(reference==null)reference=GetControlledCamera(cameraList);if(reference==null)reference=referenceBlock;if(reference==null)reference=GetControlledShipController(shipControllers);if(reference!=null){testDirection=reference.WorldMatrix.Forward;GetAvailableCameras(cameraList,_availableCameras,testDirection);}else{_availableCameras.AddRange(cameraList);}}// Check for transition between faces
if(_availableCameras.Count==0){_timeSinceLastScan=100000;MissedLastScan=true;return;}var camera=GetCameraWithMaxRange(_availableCameras);var cameraMatrix=camera.WorldMatrix;double scanRange;Vector3D adjustedTargetPos=Vector3D.Zero;if(Status==TargetingStatus.Locked||_manualLockOverride){// We adjust the scan position to scan a bit past the target so we are more likely to hit if it is moving away
adjustedTargetPos=scanPosition+Vector3D.Normalize(scanPosition-cameraMatrix.Translation)*2*TargetSize;scanRange=(adjustedTargetPos-cameraMatrix.Translation).Length();}else{scanRange=MaxRange;}AutoScanInterval=scanRange/(1000.0*camera.RaycastTimeMultiplier)/_availableCameras.Count*AutoScanScaleFactor;//Attempt to scan adjusted target position
if(camera.AvailableScanRange&gt;=scanRange&amp;&amp;_timeSinceLastScan&gt;=AutoScanInterval){if(Status==TargetingStatus.Locked||_manualLockOverride)_info=camera.Raycast(adjustedTargetPos);else if(!Vector3D.IsZero(testDirection))_info=camera.Raycast(GetSearchPos(reference.GetPosition(),testDirection,camera));else _info=camera.Raycast(MaxRange);_timeSinceLastScan=0;}else // Not enough charge stored up yet
{return;}// Validate target and assign values
if(!_info.IsEmpty()&amp;&amp;!_targetFilter.Contains(_info.Type)&amp;&amp;!_gridIDsToIgnore.Contains(_info.EntityId))//target lock
{if(Vector3D.DistanceSquared(_info.Position,camera.GetPosition())&lt;MinRange*MinRange&amp;&amp;Status!=TargetingStatus.Locked){Status=TargetingStatus.TooClose;return;}else if(Status==TargetingStatus.Locked)// Target already locked
{if(_info.EntityId==TargetId){TargetCenter=_info.Position;HitPosition=_info.HitPosition.Value;_targetOrientation=_info.Orientation;OffsetTargetPosition=TargetCenter+Vector3D.TransformNormal(PreciseModeOffset,_targetOrientation);TargetVelocity=_info.Velocity;TargetSize=_info.BoundingBox.Size.Length();TimeSinceLastLock=0;_manualLockOverride=false;MissedLastScan=false;TargetRelation=_info.Relationship;TargetType=_info.Type;}else{MissedLastScan=true;}}else // Target not yet locked: initial lockon
{if(_manualLockOverride&amp;&amp;TargetId!=_info.EntityId)return;Status=TargetingStatus.Locked;TargetId=_info.EntityId;TargetCenter=_info.Position;HitPosition=_info.HitPosition.Value;TargetVelocity=_info.Velocity;TargetSize=_info.BoundingBox.Size.Length();TimeSinceLastLock=0;var aimingCamera=GetControlledCamera(_availableCameras);Vector3D hitPosOffset=Vector3D.Zero;if(aimingCamera!=null){hitPosOffset=aimingCamera.GetPosition()-camera.GetPosition();}else if(reference!=null){hitPosOffset=reference.GetPosition()-camera.GetPosition();}if(!Vector3D.IsZero(hitPosOffset)){hitPosOffset=VectorRejection(hitPosOffset,HitPosition-camera.GetPosition());}var hitPos=_info.HitPosition.Value+hitPosOffset;_targetOrientation=_info.Orientation;if(_manualLockOverride){_manualLockOverride=false;}else{PreciseModeOffset=Vector3D.TransformNormal(hitPos-TargetCenter,MatrixD.Transpose(_targetOrientation));OffsetTargetPosition=hitPos;}MissedLastScan=false;TargetRelation=_info.Relationship;TargetType=_info.Type;}}else{MissedLastScan=true;}if(MissedLastScan){_currentAimMode=(AimMode)((int)(_currentAimMode+1)%3);}}void GetAvailableCameras(List&lt;IMyCameraBlock&gt;allCameras,List&lt;IMyCameraBlock&gt;availableCameras,Vector3D testVector,bool vectorIsPosition=false){availableCameras.Clear();foreach(var c in allCameras){if(c.Closed)continue;if(TestCameraAngles(c,vectorIsPosition ? testVector-c.GetPosition():testVector))availableCameras.Add(c);}}bool TestCameraAngles(IMyCameraBlock camera,Vector3D direction){Vector3D local=Vector3D.Rotate(direction,MatrixD.Transpose(camera.WorldMatrix));if(local.Z&gt;0)return false;var yawTan=Math.Abs(local.X/local.Z);var localSq=local*local;var pitchTanSq=localSq.Y/(localSq.X+localSq.Z);return yawTan&lt;=1&amp;&amp;pitchTanSq&lt;=1;}IMyCameraBlock GetCameraWithMaxRange(List&lt;IMyCameraBlock&gt;cameras){double maxRange=0;IMyCameraBlock maxRangeCamera=null;foreach(var c in cameras){if(c.AvailableScanRange&gt;maxRange){maxRangeCamera=c;maxRange=maxRangeCamera.AvailableScanRange;}}return maxRangeCamera;}IMyCameraBlock GetControlledCamera(List&lt;IMyCameraBlock&gt;cameras){foreach(var c in cameras){if(c.Closed)continue;if(c.IsActive)return c;}return null;}IMyShipController GetControlledShipController(List&lt;IMyShipController&gt;controllers){if(controllers.Count==0)return null;IMyShipController mainController=null;IMyShipController controlled=null;foreach(var sc in controllers){if(sc.IsUnderControl&amp;&amp;sc.CanControlShip){if(controlled==null){controlled=sc;}if(sc.IsMainCockpit){mainController=sc;// Only one per grid so no null check needed
}}}if(mainController!=null)return mainController;if(controlled!=null)return controlled;return controllers[0];}public static Vector3D VectorRejection(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return Vector3D.Zero;return a-a.Dot(b)/b.LengthSquared()*b;}}
#endregion

#region MissileGuidanceBase
abstract class MissileGuidanceBase{protected double _deltaTime;protected double _updatesPerSecond;Vector3D? _lastVelocity;public MissileGuidanceBase(double updatesPerSecond){_updatesPerSecond=updatesPerSecond;_deltaTime=1.0/_updatesPerSecond;}public void ClearAcceleration(){_lastVelocity=null;}public Vector3D Update(Vector3D missilePosition,Vector3D missileVelocity,double missileAcceleration,Vector3D targetPosition,Vector3D targetVelocity,Vector3D? gravity=null){Vector3D targetAcceleration=Vector3D.Zero;if(_lastVelocity.HasValue)targetAcceleration=(targetVelocity-_lastVelocity.Value)*_updatesPerSecond;_lastVelocity=targetVelocity;Vector3D pointingVector=GetPointingVector(missilePosition,missileVelocity,missileAcceleration,targetPosition,targetVelocity,targetAcceleration);if(gravity.HasValue&amp;&amp;gravity.Value.LengthSquared()&gt;1e-3){pointingVector=GravityCompensation(missileAcceleration,pointingVector,gravity.Value);}return VectorMath.SafeNormalize(pointingVector);}public static Vector3D GravityCompensation(double missileAcceleration,Vector3D desiredDirection,Vector3D gravity){Vector3D directionNorm=VectorMath.SafeNormalize(desiredDirection);Vector3D gravityCompensationVec=-(VectorMath.Rejection(gravity,desiredDirection));double diffSq=missileAcceleration*missileAcceleration-gravityCompensationVec.LengthSquared();if(diffSq&lt;0)// Impossible to hover
{return desiredDirection-gravity;// We will sink, but at least approach the target.
}return directionNorm*Math.Sqrt(diffSq)+gravityCompensationVec;}protected abstract Vector3D GetPointingVector(Vector3D missilePosition,Vector3D missileVelocity,double missileAcceleration,Vector3D targetPosition,Vector3D targetVelocity,Vector3D targetAcceleration);}abstract class RelNavGuidance:MissileGuidanceBase{public double NavConstant;public double NavAccelConstant;public RelNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond){NavConstant=navConstant;NavAccelConstant=navAccelConstant;}abstract protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration);override protected Vector3D GetPointingVector(Vector3D missilePosition,Vector3D missileVelocity,double missileAcceleration,Vector3D targetPosition,Vector3D targetVelocity,Vector3D targetAcceleration){Vector3D missileToTarget=targetPosition-missilePosition;Vector3D missileToTargetNorm=Vector3D.Normalize(missileToTarget);Vector3D relativeVelocity=targetVelocity-missileVelocity;Vector3D lateralTargetAcceleration=(targetAcceleration-Vector3D.Dot(targetAcceleration,missileToTargetNorm)*missileToTargetNorm);Vector3D lateralAcceleration=GetLatax(missileToTarget,missileToTargetNorm,relativeVelocity,lateralTargetAcceleration);if(Vector3D.IsZero(lateralAcceleration))return missileToTarget;double diff=missileAcceleration*missileAcceleration-lateralAcceleration.LengthSquared();if(diff&lt;0)return lateralAcceleration;//fly parallel to the target
return lateralAcceleration+Math.Sqrt(diff)*missileToTargetNorm;}}/// &lt;summary&gt;
/// Whip's Proportional Navigation Intercept
/// Derived from: https://en.wikipedia.org/wiki/Proportional_navigation
/// And: http://www.moddb.com/members/blahdy/blogs/gamedev-introduction-to-proportional-navigation-part-i
/// And: http://www.dtic.mil/dtic/tr/fulltext/u2/a556639.pdf
/// And: http://nptel.ac.in/courses/101108054/module8/lecture22.pdf
/// &lt;/summary&gt;
class ProNavGuidance:RelNavGuidance{public ProNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond,navConstant,navAccelConstant){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){Vector3D omega=Vector3D.Cross(missileToTarget,relativeVelocity)/Math.Max(missileToTarget.LengthSquared(),1);//to combat instability at close range
return NavConstant*relativeVelocity.Length()*Vector3D.Cross(omega,missileToTargetNorm)+NavAccelConstant*lateralTargetAcceleration;}}class WhipNavGuidance:RelNavGuidance{public WhipNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond,navConstant,navAccelConstant){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){Vector3D parallelVelocity=relativeVelocity.Dot(missileToTargetNorm)*missileToTargetNorm;//bootleg vector projection
Vector3D normalVelocity=(relativeVelocity-parallelVelocity);return NavConstant*0.1*normalVelocity+NavAccelConstant*lateralTargetAcceleration;}}class HybridNavGuidance:RelNavGuidance{public HybridNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond,navConstant,navAccelConstant){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){Vector3D omega=Vector3D.Cross(missileToTarget,relativeVelocity)/Math.Max(missileToTarget.LengthSquared(),1);//to combat instability at close range
Vector3D parallelVelocity=relativeVelocity.Dot(missileToTargetNorm)*missileToTargetNorm;//bootleg vector projection
Vector3D normalVelocity=(relativeVelocity-parallelVelocity);return NavConstant*(relativeVelocity.Length()*Vector3D.Cross(omega,missileToTargetNorm)+0.1*normalVelocity)+NavAccelConstant*lateralTargetAcceleration;}}/// &lt;summary&gt;
/// Zero Effort Miss Intercept
/// Derived from: https://doi.org/10.2514/1.26948
/// &lt;/summary&gt;
class ZeroEffortMissGuidance:RelNavGuidance{public ZeroEffortMissGuidance(double updatesPerSecond,double navConstant):base(updatesPerSecond,navConstant,0){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){double distToTarget=Vector3D.Dot(missileToTarget,missileToTargetNorm);double closingSpeed=Vector3D.Dot(relativeVelocity,missileToTargetNorm);// Equation (8) with sign modification to keep time positive and not NaN
double tau=distToTarget/Math.Max(1,Math.Abs(closingSpeed));// Equation (6)
Vector3D z=missileToTarget+relativeVelocity*tau;// Equation (7)
return NavConstant*z/(tau*tau)+NavAccelConstant*lateralTargetAcceleration;}}
#endregion
/// &lt;summary&gt;
/// A simple, generic circular buffer class with a variable capacity.
/// &lt;/summary&gt;
/// &lt;typeparam name="T"&gt;&lt;/typeparam&gt;
public class DynamicCircularBuffer&lt;T&gt;{public int Count{get{return _list.Count;}}List&lt;T&gt;_list=new List&lt;T&gt;();int _getIndex=0;/// &lt;summary&gt;
/// Adds an item to the buffer.
/// &lt;/summary&gt;
/// &lt;param name="item"&gt;&lt;/param&gt;
public void Add(T item){_list.Add(item);}/// &lt;summary&gt;
/// Clears the buffer.
/// &lt;/summary&gt;
public void Clear(){_list.Clear();_getIndex=0;}/// &lt;summary&gt;
/// Retrieves the current item in the buffer and increments the buffer index.
/// &lt;/summary&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public T MoveNext(){if(_list.Count==0)return default(T);T val=_list[_getIndex];_getIndex=++_getIndex%_list.Count;return val;}/// &lt;summary&gt;
/// Retrieves the current item in the buffer without incrementing the buffer index.
/// &lt;/summary&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public T Peek(){if(_list.Count==0)return default(T);return _list[_getIndex];}}class BatesDistributionRandom{Random _rnd=new Random();readonly int _count;public BatesDistributionRandom(int count){if(count&lt;1){throw new Exception($"count must be greater than 1");}_count = count;}public double NextDouble(){double num = 0;for (int i = 0; i &lt; _count; ++i){num += _rnd.NextDouble();}return num / _count;}}public interface IConfigValue {void WriteToIni(MyIni ini);void ReadFromIni(MyIni ini);void Update(MyIni ini);}public abstract class ConfigValue&lt;T&gt; : IConfigValue {public T Value;public string Section { get; set; }public string Name { get; set; }T DefaultValue { get; }readonly string _comment;public static implicit operator T(ConfigValue&lt;T&gt; cfg){return cfg.Value;}public ConfigValue(string section, string name, T defaultValue, string comment){Section = section;Name = name;Value = defaultValue;DefaultValue = defaultValue;_comment = comment;}public override string ToString(){return Value.ToString();}public void Update(MyIni ini){ReadFromIni(ini);WriteToIni(ini);}public void WriteToIni(MyIni ini){ini.Set(Section, Name, this.ToString());if (!string.IsNullOrWhiteSpace(_comment)){ini.SetComment(Section, Name, _comment);}}protected abstract void SetValue(ref MyIniValue val);protected virtual void SetDefault(){Value = DefaultValue;}public void ReadFromIni(MyIni ini){MyIniValue val = ini.Get(Section, Name);if (!val.IsEmpty){SetValue(ref val);}else {SetDefault();}}}public class ConfigString : ConfigValue&lt;string&gt;{public ConfigString(string section, string name, string value = "",string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetString(out Value))SetDefault();}}public class ConfigDouble:ConfigValue&lt;double&gt;{public ConfigDouble(string section,string name,double value=0,string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetDouble(out Value))SetDefault();}}public class ConfigBool:ConfigValue&lt;bool&gt;{public ConfigBool(string section,string name,bool value=false,string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetBoolean(out Value))SetDefault();}}public class ConfigInt:ConfigValue&lt;int&gt;{public ConfigInt(string section,string name,int value=0,string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetInt32(out Value))SetDefault();}}public class ConfigEnum&lt;TEnum&gt;:ConfigValue&lt;TEnum&gt;where TEnum:struct{public ConfigEnum(string section,string name,TEnum defaultValue=default(TEnum),string comment=null):base(section,name,defaultValue,comment){}protected override void SetValue(ref MyIniValue val){string antennaModeStr;if(!val.TryGetString(out antennaModeStr)||!Enum.TryParse(antennaModeStr,true,out Value)||!Enum.IsDefined(typeof(TEnum),Value)){SetDefault();}}}
#endregion
</Program>
              <Storage>89918296480217018
@0</Storage>
              <DefaultRunArgument>setup</DefaultRunArgument>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>96686650650261740</EntityId>
              <Min x="-1" y="4" z="-2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>101370149147002372</EntityId>
              <Min x="-1" y="5" z="-1" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Small Battery 1</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>95414299563184804</EntityId>
              <Min x="-1" y="5" z="1" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Small Battery 4</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>98555826268576562</EntityId>
              <Min x="-1" y="4" z="1" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Camera Port</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>102799710856752348</EntityId>
              <Min x="1" y="4" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.06944445" y="0.2" z="0.55" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Camera Starboard</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>76432678862875366</EntityId>
              <Min x="1" y="5" z="1" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Small Battery 5</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>95970475213916603</EntityId>
              <Min x="1" y="5" z="-1" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Small Battery 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>143517287371454885</EntityId>
              <Min x="1" y="4" z="-2" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorPanelLight</SubtypeName>
              <EntityId>135266878723898600</EntityId>
              <Min x="-1" y="6" z="-1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>85991839699623012</EntityId>
              <Min x="1" y="6" z="1" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>98191984564127371</EntityId>
              <Min x="1" y="6" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>135399701124132824</EntityId>
              <Min x="1" y="5" z="2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Warhead 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorPanelLight</SubtypeName>
              <EntityId>107979005615471468</EntityId>
              <Min x="1" y="6" z="-1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>131150931401089321</EntityId>
              <Min x="-1" y="6" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>128359340814385160</EntityId>
              <Min x="-1" y="6" z="0" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>80026157769575776</EntityId>
              <Min x="-1" y="5" z="2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Warhead 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RadioAntenna">
              <SubtypeName>SmallBlockRadioAntenna</SubtypeName>
              <EntityId>95368997808495354</EntityId>
              <Min x="0" y="4" z="2" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Antenna</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <BroadcastRadius>1</BroadcastRadius>
              <ShowShipName>false</ShowShipName>
              <EnableBroadcasting>false</EnableBroadcasting>
              <AttachedPB>0</AttachedPB>
              <IgnoreAllied>false</IgnoreAllied>
              <IgnoreOther>true</IgnoreOther>
              <HudText />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Gyro">
              <SubtypeName>SmallBlockGyro</SubtypeName>
              <EntityId>131896016685076934</EntityId>
              <Min x="0" y="5" z="1" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Gyroscope</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="5" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCorner</SubtypeName>
              <Min x="-1" y="4" z="2" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCorner</SubtypeName>
              <Min x="1" y="4" z="2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
              <Min x="1" y="4" z="3" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>135936127495835358</EntityId>
              <Min x="-1" y="6" z="-2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>129950205679229491</EntityId>
              <Min x="1" y="6" z="2" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>111092435342050436</EntityId>
              <Min x="1" y="5" z="3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Camera Front Starboard</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>95510420028779501</EntityId>
              <Min x="-1" y="6" z="2" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>84175063904203129</EntityId>
              <Min x="1" y="6" z="-2" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>136880202921906168</EntityId>
              <Min x="-1" y="5" z="3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Camera Front Port</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
              <Min x="-1" y="4" z="3" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RemoteControl">
              <SubtypeName>SmallBlockRemoteControl</SubtypeName>
              <EntityId>138375509576905923</EntityId>
              <Min x="0" y="5" z="2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyAutopilotComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_AutopilotComponent">
                      <AutoPilotEnabled>false</AutoPilotEnabled>
                      <FlightMode>0</FlightMode>
                      <CurrentWaypointIndex>-1</CurrentWaypointIndex>
                      <Waypoints />
                      <DockingModeEnabled>false</DockingModeEnabled>
                      <CollisionAvoidance>false</CollisionAvoidance>
                      <Direction>0</Direction>
                      <AutopilotSpeedLimit>100</AutopilotSpeedLimit>
                      <WaitForFreeWay>false</WaitForFreeWay>
                      <WaypointThresholdDistance>0</WaypointThresholdDistance>
                      <Coords />
                      <Names />
                      <LookAtPosition xsi:nil="true" />
                      <FacingDirection>Forward</FacingDirection>
                      <AlignToGravity>true</AlignToGravity>
                      <MinHeightAboveTerrain>25</MinHeightAboveTerrain>
                      <IsWorkAreaReturningToStart>false</IsWorkAreaReturningToStart>
                      <WorkAreaStartForward>
                        <X>0</X>
                        <Y>0</Y>
                        <Z>0</Z>
                      </WorkAreaStartForward>
                      <PitchAngle>0</PitchAngle>
                      <RollAngle>0</RollAngle>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Torpedo 1) *RC*</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <IsTargetLockingEnabled>false</IsTargetLockingEnabled>
              <PreviousControlledEntityId xsi:nil="true" />
              <AutoPilotEnabled>false</AutoPilotEnabled>
              <FlightMode>0</FlightMode>
              <BindedCamera>0</BindedCamera>
              <CurrentWaypointIndex>-1</CurrentWaypointIndex>
              <Waypoints />
              <Direction>0</Direction>
              <DockingModeEnabled>false</DockingModeEnabled>
              <CollisionAvoidance>false</CollisionAvoidance>
              <Coords />
              <Names />
              <WaypointThresholdDistance>0</WaypointThresholdDistance>
              <IsMainRemoteControl>false</IsMainRemoteControl>
              <WaitForFreeWay>false</WaitForFreeWay>
              <IsUpdatedSave>true</IsUpdatedSave>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>84811689544995204</EntityId>
              <Min x="0" y="6" z="0" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>77544948753118598</EntityId>
              <Min x="0" y="6" z="1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SensorBlock">
              <SubtypeName>SmallBlockSensor</SubtypeName>
              <EntityId>100710576799400601</EntityId>
              <Min x="0" y="6" z="-1" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Sensor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <FieldMin x="-5" y="-5" z="-5" />
              <FieldMax x="5" y="5" z="5" />
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <PlaySound>true</PlaySound>
              <DetectPlayers>true</DetectPlayers>
              <DetectFloatingObjects>false</DetectFloatingObjects>
              <DetectSmallShips>false</DetectSmallShips>
              <DetectLargeShips>false</DetectLargeShips>
              <DetectStations>false</DetectStations>
              <DetectSubgrids>false</DetectSubgrids>
              <IsActive>false</IsActive>
              <DetectAsteroids>false</DetectAsteroids>
              <DetectOwner>true</DetectOwner>
              <DetectFriendly>true</DetectFriendly>
              <DetectNeutral>true</DetectNeutral>
              <DetectEnemy>true</DetectEnemy>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="5" z="-2" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>143937484958338820</EntityId>
              <Min x="0" y="4" z="-1" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Camera Top</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopeCorner</SubtypeName>
              <Min x="1" y="4" z="4" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>90607362180301766</EntityId>
              <Min x="1" y="6" z="3" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>99240534852833378</EntityId>
              <Min x="-1" y="6" z="3" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopeCorner</SubtypeName>
              <Min x="-1" y="4" z="4" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>104848716000426464</EntityId>
              <Min x="0" y="5" z="3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Warhead 1</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>107780184454692844</EntityId>
              <Min x="0" y="6" z="2" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Camera Underside</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorPanelLight</SubtypeName>
              <EntityId>111920061493456949</EntityId>
              <Min x="0" y="6" z="-2" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="5" z="-3" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrust</SubtypeName>
              <EntityId>136738090693269632</EntityId>
              <Min x="-1" y="5" z="-4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Torpedo 1) Atmospheric Thruster 1</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>108920932871145646</EntityId>
              <Min x="-1" y="4" z="-3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>83186465991299407</EntityId>
              <Min x="-1" y="6" z="-3" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>113271700986335634</EntityId>
              <Min x="1" y="5" z="4" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrust</SubtypeName>
              <EntityId>83256625741670892</EntityId>
              <Min x="1" y="5" z="-4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Torpedo 1) Atmospheric Thruster 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>82636570800803225</EntityId>
              <Min x="-1" y="5" z="4" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="0" y="4" z="4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>75471674843416109</EntityId>
              <Min x="0" y="5" z="4" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 1) Camera Front</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorPanelLight</SubtypeName>
              <EntityId>103258867145150576</EntityId>
              <Min x="0" y="6" z="3" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>131378927908954870</EntityId>
              <Min x="0" y="6" z="-3" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrust</SubtypeName>
              <EntityId>140508239540414186</EntityId>
              <Min x="0" y="4" z="-4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Torpedo 1) Atmospheric Thruster 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>84425754399418347</EntityId>
              <Min x="-1" y="4" z="-4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>125158168334536604</EntityId>
              <Min x="-1" y="6" z="-4" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>129986022938363742</EntityId>
              <Min x="1" y="6" z="-3" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>105889909074960244</EntityId>
              <Min x="1" y="4" z="-3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>106874700211493788</EntityId>
              <Min x="1" y="6" z="-4" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>132272824549913078</EntityId>
              <Min x="1" y="4" z="-4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.01973743" y="-0.00267874822" z="0.07451278" />
          <AngularVelocity x="0.00307003316" y="0.00131929014" z="0.000702166639" />
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>Forward Torpedo TG</Name>
              <Blocks>
                <Vector3I>
                  <X>3</X>
                  <Y>4</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>-3</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>4</X>
                  <Y>4</Y>
                  <Z>-2</Z>
                </Vector3I>
                <Vector3I>
                  <X>-3</X>
                  <Y>3</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>4</X>
                  <Y>4</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>3</Y>
                  <Z>2</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Torpedo Fire Control</Name>
              <Blocks>
                <Vector3I>
                  <X>-3</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>4</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Slaved Group</Name>
              <Blocks>
                <Vector3I>
                  <X>3</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Torpedo 1</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>-3</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>-3</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>-3</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>6</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>6</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>4</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>4</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Small Grid 5544</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>100082142758441385</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>100082142758441385</Name>
          <PositionAndOrientation>
            <Position x="-0.80327606201171875" y="3.6375975608825684" z="-4.5350275039672852" />
            <Forward x="-0.500741839" y="0.839528859" z="0.2108283" />
            <Up x="0.08302814" y="0.289026052" z="-0.953713834" />
            <Orientation>
              <X>-0.122675404</X>
              <Y>0.7683521</Y>
              <Z>-0.5834704</Z>
              <W>0.232697323</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorRotor">
              <SubtypeName>SmallRotor</SubtypeName>
              <EntityId>103584696179243766</EntityId>
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ParentEntityId>138357967628441678</ParentEntityId>
              <YieldLastComponent>true</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="1" z="0" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="2" z="0" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="0" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="2" z="1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="1" y="2" z="0" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="2" z="-1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MergeBlock">
              <SubtypeName>SmallShipSmallMergeBlock</SubtypeName>
              <EntityId>106814503723233626</EntityId>
              <Min x="0" y="3" z="0" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Rear Torpedo MB</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="-1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="0" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="1" y="2" z="1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="2" z="2" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="1" y="2" z="-1" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="0" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="2" z="-2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="2" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="-2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="1" y="2" z="2" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="1" y="2" z="-2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RemoteControl">
              <SubtypeName>SmallBlockRemoteControl</SubtypeName>
              <EntityId>127929348610592535</EntityId>
              <Min x="0" y="5" z="2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyAutopilotComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_AutopilotComponent">
                      <AutoPilotEnabled>false</AutoPilotEnabled>
                      <FlightMode>0</FlightMode>
                      <CurrentWaypointIndex>-1</CurrentWaypointIndex>
                      <Waypoints />
                      <DockingModeEnabled>false</DockingModeEnabled>
                      <CollisionAvoidance>false</CollisionAvoidance>
                      <Direction>0</Direction>
                      <AutopilotSpeedLimit>100</AutopilotSpeedLimit>
                      <WaitForFreeWay>false</WaitForFreeWay>
                      <WaypointThresholdDistance>0</WaypointThresholdDistance>
                      <Coords />
                      <Names />
                      <LookAtPosition xsi:nil="true" />
                      <FacingDirection>Forward</FacingDirection>
                      <AlignToGravity>true</AlignToGravity>
                      <MinHeightAboveTerrain>25</MinHeightAboveTerrain>
                      <IsWorkAreaReturningToStart>false</IsWorkAreaReturningToStart>
                      <WorkAreaStartForward>
                        <X>0</X>
                        <Y>0</Y>
                        <Z>0</Z>
                      </WorkAreaStartForward>
                      <PitchAngle>0</PitchAngle>
                      <RollAngle>0</RollAngle>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Torpedo 2) *RC*</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <IsTargetLockingEnabled>false</IsTargetLockingEnabled>
              <PreviousControlledEntityId xsi:nil="true" />
              <AutoPilotEnabled>false</AutoPilotEnabled>
              <FlightMode>0</FlightMode>
              <BindedCamera>0</BindedCamera>
              <CurrentWaypointIndex>-1</CurrentWaypointIndex>
              <Waypoints />
              <Direction>0</Direction>
              <DockingModeEnabled>false</DockingModeEnabled>
              <CollisionAvoidance>false</CollisionAvoidance>
              <Coords />
              <Names />
              <WaypointThresholdDistance>0</WaypointThresholdDistance>
              <IsMainRemoteControl>false</IsMainRemoteControl>
              <WaitForFreeWay>false</WaitForFreeWay>
              <IsUpdatedSave>true</IsUpdatedSave>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="2" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="3" z="0" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="-2" y="2" z="-2" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-2" y="3" z="-1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="3" z="1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="2" y="2" z="-2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="2" y="3" z="-1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TurretControlBlock">
              <SubtypeName>SmallTurretControlBlock</SubtypeName>
              <EntityId>144094372104567371</EntityId>
              <Min x="3" y="3" z="0" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MySunTrackingComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_SunTrackingComponent">
                      <SunTrackingEnabled>false</SunTrackingEnabled>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[LAMP - Text Surface Config]
Show on screen 0=true
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear Torpedo CTC</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>SCRIPT</ContentType>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <CustomizeScripts>true</CustomizeScripts>
                  <ScriptBackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <AzimuthId>139639695451942676</AzimuthId>
              <ElevationId>0</ElevationId>
              <CameraId>77898991102488905</CameraId>
              <ToolIds />
              <VelocityMultiplierAzimuth>0.5</VelocityMultiplierAzimuth>
              <VelocityMultiplierElevation>0.3</VelocityMultiplierElevation>
              <PreviousControlledEntityId xsi:nil="true" />
              <IsCorrect>true</IsCorrect>
              <TargetingGroup />
              <AngleDeviation>0.087222</AngleDeviation>
              <DirectionBlockId>104204490602538558</DirectionBlockId>
              <AreWeaponsMismatched>false</AreWeaponsMismatched>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <AllowAI>true</AllowAI>
              <Flags>
                <TargetCharacters>false</TargetCharacters>
              </Flags>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TextPanel">
              <SubtypeName>TransparentLCDSmall</SubtypeName>
              <EntityId>129712039003387832</EntityId>
              <Min x="-3" y="3" z="1" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Rear Torpedo LCD</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <Description />
              <Title>Title</Title>
              <AccessFlag>READ_AND_WRITE_FACTION</AccessFlag>
              <ChangeInterval>0</ChangeInterval>
              <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
              <FontSize>3</FontSize>
              <PublicDescription>

[  +  ]</PublicDescription>
              <PublicTitle>Public title</PublicTitle>
              <ShowText>NONE</ShowText>
              <FontColor>
                <PackedValue>4294967295</PackedValue>
                <X>255</X>
                <Y>255</Y>
                <Z>255</Z>
                <R>255</R>
                <G>255</G>
                <B>255</B>
                <A>255</A>
              </FontColor>
              <BackgroundColor>
                <PackedValue>4278190080</PackedValue>
                <X>0</X>
                <Y>0</Y>
                <Z>0</Z>
                <R>0</R>
                <G>0</G>
                <B>0</B>
                <A>255</A>
              </BackgroundColor>
              <CurrentShownTexture>0</CurrentShownTexture>
              <Alignment>Align_Center</Alignment>
              <ContentType>TEXT_AND_IMAGE</ContentType>
              <SelectedScript />
              <TextPadding>2</TextPadding>
              <Version>1</Version>
              <ScriptBackgroundColor>
                <PackedValue>4288108544</PackedValue>
                <X>0</X>
                <Y>88</Y>
                <Z>151</Z>
                <R>0</R>
                <G>88</G>
                <B>151</B>
                <A>255</A>
              </ScriptBackgroundColor>
              <ScriptForegroundColor>
                <PackedValue>4294962611</PackedValue>
                <X>179</X>
                <Y>237</Y>
                <Z>255</Z>
                <R>179</R>
                <G>237</G>
                <B>255</B>
                <A>255</A>
              </ScriptForegroundColor>
              <Sprites>
                <Length>0</Length>
              </Sprites>
              <SelectedRotationIndex>0</SelectedRotationIndex>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-3" y="3" z="-1" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Cockpit">
              <SubtypeName>SmallBlockStandingCockpit</SubtypeName>
              <EntityId>86765371830915766</EntityId>
              <Min x="3" y="3" z="-3" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Rear Torpedo Helm</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <UseSingleWeaponMode>false</UseSingleWeaponMode>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Control</Action>
                      <BlockEntityId>144094372104567371</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>AI_On</Action>
                      <BlockEntityId>144094372104567371</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Control</Action>
                      <BlockEntityId>144094372104567371</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>AI_On</Action>
                      <BlockEntityId>144094372104567371</BlockEntityId>
                    </Data>
                  </Slot>
                </SlotsGamepad>
              </Toolbar>
              <SelectedGunId xsi:nil="true" />
              <BuildToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </BuildToolbar>
              <OnLockedToolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </OnLockedToolbar>
              <PilotRelativeWorld>
                <Position x="-0.94213581085205078" y="-1.2128287553787231" z="0.2608923614025116" />
                <Forward x="0.710912466" y="0.0116710812" z="-0.703183651" />
                <Up x="-0.0149382036" y="0.9998873" z="0.00149322371" />
                <Orientation>
                  <X>0.003566427</X>
                  <Y>-0.3852213</Y>
                  <Z>0.0066052014</Z>
                  <W>0.9227937</W>
                </Orientation>
              </PilotRelativeWorld>
              <PilotGunDefinition xsi:nil="true" />
              <IsInFirstPersonView>true</IsInFirstPersonView>
              <OxygenLevel>0</OxygenLevel>
              <PilotJetpackEnabled xsi:nil="true" />
              <TextPanels>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>SCRIPT</ContentType>
                  <SelectedScript>TSS_EnergyHydrogen</SelectedScript>
                  <TextPadding>2</TextPadding>
                  <CustomizeScripts>true</CustomizeScripts>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>SCRIPT</ContentType>
                  <SelectedScript>TSS_Velocity</SelectedScript>
                  <TextPadding>2</TextPadding>
                  <CustomizeScripts>true</CustomizeScripts>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanels>
              <TargetData>
                <TargetId>0</TargetId>
                <IsTargetLocked>false</IsTargetLocked>
                <LockingProgress>0</LockingProgress>
              </TargetData>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RadioAntenna">
              <SubtypeName>SmallBlockRadioAntenna</SubtypeName>
              <EntityId>75711426641776203</EntityId>
              <Min x="3" y="4" z="0" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Rear Torpedo Antenna</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <BroadcastRadius>1</BroadcastRadius>
              <ShowShipName>false</ShowShipName>
              <EnableBroadcasting>true</EnableBroadcasting>
              <AttachedPB>0</AttachedPB>
              <IgnoreAllied>false</IgnoreAllied>
              <IgnoreOther>true</IgnoreOther>
              <HudText />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Projector">
              <SubtypeName>SmallProjector</SubtypeName>
              <EntityId>121946240980992114</EntityId>
              <Min x="3" y="3" z="2" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Rear Torpedo Projector</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <ProjectionOffset>
                <X>0</X>
                <Y>0</Y>
                <Z>0</Z>
              </ProjectionOffset>
              <ProjectionRotation>
                <X>0</X>
                <Y>0</Y>
                <Z>0</Z>
              </ProjectionRotation>
              <KeepProjection>false</KeepProjection>
              <ShowOnlyBuildable>false</ShowOnlyBuildable>
              <InstantBuildingEnabled>false</InstantBuildingEnabled>
              <MaxNumberOfProjections>5</MaxNumberOfProjections>
              <MaxNumberOfBlocks>200</MaxNumberOfBlocks>
              <ProjectionsRemaining>0</ProjectionsRemaining>
              <GetOwnershipFromProjector>false</GetOwnershipFromProjector>
              <Scale>1</Scale>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>90985259777867003</EntityId>
              <Min x="-3" y="4" z="1" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>77898991102488905</EntityId>
              <Min x="-3" y="3" z="0" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Rear Torpedo Camera</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>135847018453069870</EntityId>
              <Min x="-3" y="4" z="-1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
              <SubtypeName>SmallProgrammableBlock</SubtypeName>
              <EntityId>137326072788343869</EntityId>
              <Min x="4" y="4" z="0" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Rear Torpedo PB</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <Storage />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>73751351587599978</EntityId>
              <Min x="-3" y="4" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>111917520832852640</EntityId>
              <Min x="0" y="5" z="3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Warhead 1</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>92409877246571658</EntityId>
              <Min x="-1" y="5" z="2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Warhead 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MergeBlock">
              <SubtypeName>SmallShipSmallMergeBlock</SubtypeName>
              <EntityId>72558196510315742</EntityId>
              <Min x="0" y="4" z="0" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Small Merge Block</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>72225996051128148</EntityId>
              <Min x="0" y="4" z="1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Small Battery 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>118351700873328618</EntityId>
              <Min x="-1" y="5" z="1" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Small Battery 4</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Warhead">
              <SubtypeName>SmallWarhead</SubtypeName>
              <EntityId>104062025514083662</EntityId>
              <Min x="1" y="5" z="2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Warhead 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <CountdownMs>10000</CountdownMs>
              <IsArmed>false</IsArmed>
              <IsCountingDown>false</IsCountingDown>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>84844335032058413</EntityId>
              <Min x="1" y="5" z="1" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Small Battery 5</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>136066141349234545</EntityId>
              <Min x="-1" y="5" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Small Battery 6</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>113882119033969651</EntityId>
              <Min x="1" y="5" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Small Battery 7</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>89684313318746799</EntityId>
              <Min x="-1" y="5" z="3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Camera Front Port</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>121560699476906157</EntityId>
              <Min x="1" y="5" z="3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Camera Front Starboard</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>85953655617832201</EntityId>
              <Min x="0" y="5" z="4" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Camera Front</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_RadioAntenna">
              <SubtypeName>SmallBlockRadioAntenna</SubtypeName>
              <EntityId>138869873373441538</EntityId>
              <Min x="0" y="4" z="2" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Antenna</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <BroadcastRadius>1</BroadcastRadius>
              <ShowShipName>false</ShowShipName>
              <EnableBroadcasting>false</EnableBroadcasting>
              <AttachedPB>0</AttachedPB>
              <IgnoreAllied>false</IgnoreAllied>
              <IgnoreOther>true</IgnoreOther>
              <HudText />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="4" z="0" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="4" z="0" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>103801746973942958</EntityId>
              <Min x="-1" y="4" z="1" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Camera Port</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCorner</SubtypeName>
              <Min x="1" y="4" z="2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCorner</SubtypeName>
              <Min x="-1" y="4" z="2" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>81623819232965385</EntityId>
              <Min x="1" y="4" z="1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.06944445" y="0.2" z="0.55" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Camera Starboard</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>72512074223897644</EntityId>
              <Min x="-1" y="5" z="-1" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Small Battery 1</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="5" z="-2" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="5" z="-3" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>87043056962069176</EntityId>
              <Min x="1" y="5" z="-1" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Small Battery 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="4" z="-1" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="4" z="-1" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Gyro">
              <SubtypeName>SmallBlockGyro</SubtypeName>
              <EntityId>96861938192442147</EntityId>
              <Min x="0" y="5" z="1" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Gyroscope</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>106348921913896660</EntityId>
              <Min x="1" y="4" z="-2" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SensorBlock">
              <SubtypeName>SmallBlockSensor</SubtypeName>
              <EntityId>89230125787535436</EntityId>
              <Min x="0" y="6" z="-1" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Sensor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <FieldMin x="-20" y="-20" z="-20" />
              <FieldMax x="20" y="20" z="5" />
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>Safety</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>89230125787535436</BlockEntityId>
                      <GroupName>Torpedo Warheads</GroupName>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <PlaySound>false</PlaySound>
              <DetectPlayers>false</DetectPlayers>
              <DetectFloatingObjects>false</DetectFloatingObjects>
              <DetectSmallShips>true</DetectSmallShips>
              <DetectLargeShips>true</DetectLargeShips>
              <DetectStations>true</DetectStations>
              <DetectSubgrids>false</DetectSubgrids>
              <IsActive>false</IsActive>
              <DetectAsteroids>false</DetectAsteroids>
              <DetectOwner>false</DetectOwner>
              <DetectFriendly>false</DetectFriendly>
              <DetectNeutral>false</DetectNeutral>
              <DetectEnemy>true</DetectEnemy>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>116942290455830883</EntityId>
              <Min x="-1" y="4" z="-4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>119827818220308286</EntityId>
              <Min x="1" y="6" z="-3" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>110639121681467251</EntityId>
              <Min x="1" y="4" z="-3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>143437239730134504</EntityId>
              <Min x="1" y="4" z="-4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>134429900626404901</EntityId>
              <Min x="-1" y="6" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>90475068797296846</EntityId>
              <Min x="1" y="6" z="1" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>98889996532697263</EntityId>
              <Min x="-1" y="6" z="2" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>100141079631360407</EntityId>
              <Min x="1" y="6" z="2" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>127049322857830986</EntityId>
              <Min x="-1" y="6" z="3" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>93741473288927210</EntityId>
              <Min x="1" y="6" z="3" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>86537524912723995</EntityId>
              <Min x="0" y="6" z="1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorPanelLight</SubtypeName>
              <EntityId>114234573771224519</EntityId>
              <Min x="0" y="6" z="3" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
              <SubtypeName>SmallProgrammableBlock</SubtypeName>
              <EntityId>136696269827803836</EntityId>
              <Min x="0" y="5" z="0" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[Names]
Auto-configure missile name=True
Missile name tag=Torpedo
Missile number=2
Fire control group name=Fire Control
Detach thruster name tag=Detach

[Delays]
Stage 1: Disconnect delay (s)=1
Guidance delay (s)=2
Stage 2: Detach duration (s)=0
Stage 3: Main ignition delay (s)=0

[Gyros]
Proportional gain=10
Integral gain=0
Derivative gain=10

[Homing Parameters]
; Valid guidance algorithms: ProNav, WhipNav, HybridNav, ZeroEffortMiss
Guidance algorithm=ProNav
Navigation constant=5
Acceleration constant=0
Max aim dispersion (m)=0
Topdown attack height (m)=1500

[Beam Riding Parameters]
Hit offset up (m)=0
Hit offset left (m)=0

[Evasion Parameters]
Spin rate (RPM)=0
Use spiral=False
; AKA "Drunken Missile Mode"
Use random flight path=True

[Spiral Parameters]
Spiral angle (deg)=15
Spiral time (sec)=3
Spiral activation range (m)=1000

[Random Fligh Path Parameters]
Direction change interval (sec)=0.5
Max acceleration ratio=0.25

[Raycast/Sensors]
Use cameras for homing=True
Tripwire range (m)=3.33
Minimum target size (m)=10
Minimum warhead arming range (m)=100
Ignore friendlies=False
Ignore planets=True
Ignore target ID for detonation=False

[Misc.]
Allow remote firing=False
; Valid antenna name modes: Meme, Empty, MissileName, MissileStatus
Antenna name mode=Meme
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Torpedo 2) PB WHAM</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <Program>
#region WHAM
const string Version="170.8.6";const string Date = "2023/03/20";const string CompatVersion = "95.0.0";/*
/ //// / (WHAM) Whip's Homing Advanced Missile Script / //// /
_______________________________
INSTRUCTIONS

See workshop page for instructions, there is no room left in this script!

_______________________________
NOTE

This code has been minified so that it will fit in the programmable block.
I have NOT obfuscated any of the code, so that if you copy paste this into an
IDE like Visual Studio or use a website like https://codebeautify.org/csharpviewer,
you can uncompress this and it will be human readable.




=================================================
DO NOT MODIFY VARIABLES IN THE SCRIPT!

USE THE CUSTOM DATA OF THIS PROGRAMMABLE BLOCK!
=================================================


























HEY! DONT EVEN THINK ABOUT TOUCHING BELOW THIS LINE!

*/

#region Global Fields
enum GuidanceAlgoType{ProNav,WhipNav,HybridNav,ZeroEffortMiss};MissileGuidanceBase _selectedGuidance;Dictionary&lt;GuidanceAlgoType,MissileGuidanceBase&gt;_guidanceAlgorithms;const string MissileNamePattern="({0} {1})";const string MissileGroupPattern = "{0} {1}";Vector3D _shooterForwardVec,_shooterLeftVec,_shooterUpVec,_shooterPos,_shooterPosCached,_randomizedHeadingVector,_targetPos,_targetVel,_aimDispersion;string _missileGroupNameTag = "",_missileNameTag = "";double _timeSinceLastLock=0,_distanceFromShooter=0,_timeTotal=0,_timeSinceLastIngest=0;int _setupTicks=0,_missileStage=0;bool _shouldFire=false,_shouldKill=false,_hasPassed=false,_killAllowed=false,_shouldDive=false,_shouldStealth=true,_shouldProximityScan=false,_enableGuidance=false,_broadcastListenersRegistered=false,_foundLampAntennas=false,_markedForDetonation=false,_canSetup=true,_preSetupFailed=false,_topDownAttack=false,_enableEvasion=false,_precisionMode=false,_retask=false;
#region Meme Mode Stuff
enum AntennaNameMode{Meme,Empty,MissileName,MissileStatus};int _memeIndex;string[]_antennaMemeMessages=new string[]{"All your base are belong to us","Pucker up buttercup","You are screwed","Are you my mommy?","You feeling lucky?","Herpes","Pootis","From Whip with love!","Run!","General Distress","Unknown Signal","Here comes the pain","Bend over","Private Shipment","Argentavis","Cargo Hauler","Art thou feeling it now Mr. Krabs?","It's commin' right for us!","Nothing personal kid...","*Fortnite dancing in public*","*Dabbing intensifies*","*Heavy breathing*","A surprise to be sure, but a welcome one","Hello there","General Kenobi","You underestimate my power","I am the SENATE!","Did you ever hear the tragedy of Darth Plagueis The Wise?","I thought not. It's not a story the Jedi would tell you.","It's a Sith legend.","Darth Plagueis was a Dark Lord of the Sith...","...so powerful and so wise he could use the Force...","...to influence the midichlorians to create life...","*Evil head turn*","He had such a knowledge of the dark side...","...that he could even keep the ones he cared about from dying.","The dark side of the Force is a pathway to many abilities...","...some consider to be unnatural.","He became so powerful, the only thing he was afraid of...","...was losing his power, which eventually, of course, he did.","Unfortunately, he taught his apprentice everything he knew...","...then his apprentice killed him in his sleep.","Ironic.","He could save others from death, but not himself.","Another happy landing!","*Internalized Oppression*","Area is not secure!","Perfectly balanced, as all things should be","It's super effective!","Ah yes, an old friend of mine is here","Anything else you'd like to order?","Hi! Welcome to Chili's!","Platinum","Gold","Dinner is served!","UwU","* Arrow to the knee *","Atmospheric Lander","Just like mother used to make!","Big Chungus","Hecking Bamboozolled","Time to take out the trash","BUT WAIT!! THERE'S MORE!!","Is this the Krusty Krab?","No this is PATRICK!!!","I'm about to end this whole man's career..","Do you get to the Cloud District very often?","It's over Anakin!","I have the high ground!","You underestimate my POWER!","You were the chosen one!","It was said you would destroy the sith not join them...","...Bring balance to the force, not leave it in darkness!","We've been trying to reach you about your car's extended warranty",};
#endregion
Random RNGesus=new Random();BatesDistributionRandom _bellCurveRandom=new BatesDistributionRandom(3);//So many lists...
List&lt;IMyTerminalBlock&gt;_missileBlocks=new List&lt;IMyTerminalBlock&gt;();List&lt;IMyFunctionalBlock&gt;_funcBlocks=new List&lt;IMyFunctionalBlock&gt;();List&lt;IMyThrust&gt;_unsortedThrusters=new List&lt;IMyThrust&gt;(),_mainThrusters=new List&lt;IMyThrust&gt;(),_sideThrusters=new List&lt;IMyThrust&gt;(),_detachThrusters=new List&lt;IMyThrust&gt;();List&lt;IMyVirtualMass&gt;_artMasses=new List&lt;IMyVirtualMass&gt;();List&lt;IMyShipMergeBlock&gt;_mergeBlocks=new List&lt;IMyShipMergeBlock&gt;();List&lt;IMyBatteryBlock&gt;_batteries=new List&lt;IMyBatteryBlock&gt;();List&lt;IMyShipController&gt;_shipControllers=new List&lt;IMyShipController&gt;();List&lt;IMyGyro&gt;_gyros=new List&lt;IMyGyro&gt;();List&lt;IMyShipConnector&gt;_connectors=new List&lt;IMyShipConnector&gt;();List&lt;IMyMotorStator&gt;_rotors=new List&lt;IMyMotorStator&gt;();List&lt;IMyReactor&gt;_reactors=new List&lt;IMyReactor&gt;();List&lt;IMyRadioAntenna&gt;_antennas=new List&lt;IMyRadioAntenna&gt;();List&lt;IMyBeacon&gt;_beacons=new List&lt;IMyBeacon&gt;();List&lt;IMySensorBlock&gt;_sensors=new List&lt;IMySensorBlock&gt;();List&lt;IMyWarhead&gt;_warheads=new List&lt;IMyWarhead&gt;();List&lt;IMyTimerBlock&gt;_timers=new List&lt;IMyTimerBlock&gt;();List&lt;IMyCameraBlock&gt;_cameras=new List&lt;IMyCameraBlock&gt;();List&lt;IMyCameraBlock&gt;_homingCameras=new List&lt;IMyCameraBlock&gt;();List&lt;IMyGasTank&gt;_gasTanks=new List&lt;IMyGasTank&gt;();List&lt;MyDetectedEntityInfo&gt;_sensorEntities=new List&lt;MyDetectedEntityInfo&gt;();List&lt;DynamicCircularBuffer&lt;IMyCameraBlock&gt;&gt;_cameraBufferList=new List&lt;DynamicCircularBuffer&lt;IMyCameraBlock&gt;&gt;();DynamicCircularBuffer&lt;IMyCameraBlock&gt;_camerasFront=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasBack=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasLeft=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasRight=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasUp=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;(),_camerasDown=new DynamicCircularBuffer&lt;IMyCameraBlock&gt;();ImmutableArray&lt;MyTuple&lt;byte,long,Vector3D,double&gt;&gt;.Builder _messageBuilder=ImmutableArray.CreateBuilder&lt;MyTuple&lt;byte,long,Vector3D,double&gt;&gt;();List&lt;MyTuple&lt;Vector3D,long&gt;&gt;_remoteFireRequests=new List&lt;MyTuple&lt;Vector3D,long&gt;&gt;();HashSet&lt;long&gt;_savedKeycodes=new HashSet&lt;long&gt;();IMyShipController _missileReference=null;enum PostSetupAction{None=0,Fire=1,FireRequestResponse=2};PostSetupAction _postSetupAction=PostSetupAction.None;const int MAX_INSTRUCTIONS_PER_SETUP_RUN=5000;const double UpdatesPerSecond=10.0,SecondsPerUpdate=1.0/UpdatesPerSecond,DegToRad=Math.PI/180,RpmToRad=Math.PI/30,TopdownDescentAngle=Math.PI/6,MaxGuidanceTime=180,RuntimeToRealtime=(1.0/60.0)/0.0166666,GyroSlowdownAngle=Math.PI/36;const float MinThrust=1e-9f;readonly MyIni _guidanceIni=new MyIni();readonly StringBuilder _saveSB=new StringBuilder();readonly RaycastHoming _raycastHoming;enum GuidanceMode:int{BeamRiding=1,SemiActive=2,Active=4,Homing=SemiActive|Active};PID _yawPID=new PID(1,0,0,SecondsPerUpdate),_pitchPID=new PID(1,0,0,SecondsPerUpdate);IMyBlockGroup _missileGroup;Scheduler _scheduler;GuidanceMode _guidanceMode=GuidanceMode.SemiActive;RuntimeTracker _runtimeTracker;IMyBroadcastListener _broadcastListenerHoming,_broadcastListenerBeamRiding,_broadcastListenerParameters,_broadcastListenerRemoteFire;IMyUnicastListener _unicastListener;const string IgcTagParams="IGC_MSL_PAR_MSG",IgcTagHoming = "IGC_MSL_HOM_MSG",IgcTagBeamRiding = "IGC_MSL_OPT_MSG",IgcTagIff = "IGC_IFF_PKT",IgcTagFire = "IGC_MSL_FIRE_MSG",IgcTagRemoteFireRequest = "IGC_MSL_REM_REQ",IgcTagRemoteFireResponse = "IGC_MSL_REM_RSP",IgcTagRemoteFireNotification = "IGC_MSL_REM_NTF",IgcTagregister = "IGC_MSL_REG_MSG",IgcTagUnicast = "UNICAST";QueuedAction _stage1Action,_stage2Action,_stage3Action,_stage4Action;ScheduledAction _guidanceActivateAction,_randomHeadingVectorAction;
#region Custom Data Ini
readonly MyIni _myIni=new MyIni();const string IniSectionNames="Names",IniSectionDelays = "Delays",IniSectionGyro = "Gyros",IniSectionHoming = "Homing Parameters",IniSectionBeamRide = "Beam Riding Parameters",IniSectionEvasion = "Evasion Parameters",IniSectionSpiral = "Spiral Parameters",IniSectionRandom = "Random Fligh Path Parameters",IniSectionRaycast = "Raycast/Sensors",IniSectionMisc = "Misc.",IniCompatMemeMode = "Antenna meme mode";ConfigBool _autoConfigure = new ConfigBool(IniSectionNames, "Auto-configure missile name", true);ConfigString _missileTag = new ConfigString(IniSectionNames, "Missile name tag", "Missile");ConfigInt _missileNumber = new ConfigInt(IniSectionNames, "Missile number", 1);ConfigString _fireControlGroupNameTag = new ConfigString(IniSectionNames, "Fire control group name", "Fire Control");ConfigString _detachThrustTag = new ConfigString(IniSectionNames, "Detach thruster name tag", "Detach");ConfigDouble _disconnectDelay = new ConfigDouble(IniSectionDelays, "Stage 1: Disconnect delay (s)", 0);ConfigDouble _guidanceDelay = new ConfigDouble(IniSectionDelays, "Guidance delay (s)", 1);ConfigDouble _detachDuration = new ConfigDouble(IniSectionDelays, "Stage 2: Detach duration (s)", 0);ConfigDouble _mainIgnitionDelay = new ConfigDouble(IniSectionDelays, "Stage 3: Main ignition delay (s)", 0);ConfigDouble _gyroProportionalGain = new ConfigDouble(IniSectionGyro, "Proportional gain", 10);ConfigDouble _gyroIntegralGain = new ConfigDouble(IniSectionGyro, "Integral gain", 0);ConfigDouble _gyroDerivativeGain = new ConfigDouble(IniSectionGyro, "Derivative gain", 10);ConfigEnum&lt;GuidanceAlgoType&gt; _guidanceAlgoType = new ConfigEnum&lt;GuidanceAlgoType&gt;(IniSectionHoming, "Guidance algorithm", GuidanceAlgoType.ProNav, " Valid guidance algorithms: ProNav, WhipNav, HybridNav, ZeroEffortMiss");ConfigDouble _navConstant = new ConfigDouble(IniSectionHoming, "Navigation constant", 3);ConfigDouble _accelNavConstant = new ConfigDouble(IniSectionHoming, "Acceleration constant", 1.5);ConfigDouble _maxAimDispersion = new ConfigDouble(IniSectionHoming, "Max aim dispersion (m)", 0);ConfigDouble _topDownAttackHeight = new ConfigDouble(IniSectionHoming, "Topdown attack height (m)", 1500);ConfigDouble _offsetUp = new ConfigDouble(IniSectionBeamRide, "Hit offset up (m)", 0);ConfigDouble _offsetLeft = new ConfigDouble(IniSectionBeamRide, "Hit offset left (m)", 0);ConfigDouble _missileSpinRPM = new ConfigDouble(IniSectionEvasion, "Spin rate (RPM)", 0);ConfigBool _evadeWithSpiral = new ConfigBool(IniSectionEvasion, "Use spiral", false);ConfigBool _evadeWithRandomizedHeading = new ConfigBool(IniSectionEvasion, "Use random flight path", true, " AKA \"Drunken Missile Mode\"");ConfigDouble _spiralDegrees = new ConfigDouble(IniSectionSpiral, "Spiral angle (deg)", 15);ConfigDouble _timeMaxSpiral = new ConfigDouble(IniSectionSpiral, "Spiral time (sec)", 3);ConfigDouble _spiralActivationRange = new ConfigDouble(IniSectionSpiral, "Spiral activation range (m)", 1000);ConfigDouble _randomVectorInterval = new ConfigDouble(IniSectionRandom, "Direction change interval (sec)", 0.5);ConfigDouble _maxRandomAccelRatio = new ConfigDouble(IniSectionRandom, "Max acceleration ratio", 0.25);ConfigBool _useCamerasForHoming = new ConfigBool(IniSectionRaycast, "Use cameras for homing", true);ConfigDouble _raycastRange = new ConfigDouble(IniSectionRaycast, "Tripwire range (m)", 0.25);ConfigDouble _raycastMinimumTargetSize = new ConfigDouble(IniSectionRaycast, "Minimum target size (m)", 0);ConfigDouble _minimumArmingRange = new ConfigDouble(IniSectionRaycast, "Minimum warhead arming range (m)", 100);ConfigBool _raycastIgnoreFriends = new ConfigBool(IniSectionRaycast, "Ignore friendlies", false);ConfigBool _raycastIgnorePlanetSurface = new ConfigBool(IniSectionRaycast, "Ignore planets", true);ConfigBool _ignoreIdForDetonation = new ConfigBool(IniSectionRaycast, "Ignore target ID for detonation", false);ConfigBool _allowRemoteFire = new ConfigBool(IniSectionMisc, "Allow remote firing", false);ConfigEnum&lt;AntennaNameMode&gt; _antennaMode = new ConfigEnum&lt;AntennaNameMode&gt;(IniSectionMisc, "Antenna name mode", AntennaNameMode.Meme, " Valid antenna name modes: Meme, Empty, MissileName, MissileStatus");IConfigValue[]_config;void SetupConfig(){_config=new IConfigValue[]{_autoConfigure,_missileTag,_missileNumber,_fireControlGroupNameTag,_detachThrustTag,_disconnectDelay,_guidanceDelay,_detachDuration,_mainIgnitionDelay,_gyroProportionalGain,_gyroIntegralGain,_gyroDerivativeGain,_guidanceAlgoType,_navConstant,_accelNavConstant,_maxAimDispersion,_topDownAttackHeight,_offsetUp,_offsetLeft,_missileSpinRPM,_evadeWithSpiral,_evadeWithRandomizedHeading,_spiralDegrees,_timeMaxSpiral,_spiralActivationRange,_randomVectorInterval,_maxRandomAccelRatio,_useCamerasForHoming,_raycastRange,_raycastMinimumTargetSize,_minimumArmingRange,_raycastIgnoreFriends,_raycastIgnorePlanetSurface,_ignoreIdForDetonation,_allowRemoteFire,_antennaMode,};}
#endregion

#endregion

#region Main Methods
Program(){SetupConfig();_memeIndex=RNGesus.Next(_antennaMemeMessages.Length);_unicastListener=IGC.UnicastListener;_unicastListener.SetMessageCallback(IgcTagUnicast);_broadcastListenerRemoteFire=IGC.RegisterBroadcastListener(IgcTagRemoteFireRequest);_broadcastListenerRemoteFire.SetMessageCallback(IgcTagRemoteFireRequest);_guidanceActivateAction=new ScheduledAction(ActivateGuidance,0,true);_stage1Action=new QueuedAction(MissileStage1,0);_stage2Action=new QueuedAction(MissileStage2,0);_stage3Action=new QueuedAction(MissileStage3,0);_stage4Action=new QueuedAction(MissileStage4,0);_randomHeadingVectorAction=new ScheduledAction(ComputeRandomHeadingVector,0,false);_stage1Action.RunInterval=0;// Scheduler assignment
_scheduler=new Scheduler(this,true);// Setting up scheduled tasks
_scheduler.AddScheduledAction(_guidanceActivateAction);_scheduler.AddScheduledAction(GuidanceNavAndControl,UpdatesPerSecond);_scheduler.AddScheduledAction(CheckProximity,UpdatesPerSecond);_scheduler.AddScheduledAction(PrintEcho,1);_scheduler.AddScheduledAction(NetworkTargets,6);_scheduler.AddScheduledAction(_randomHeadingVectorAction);// Setting up sequential tasks
_scheduler.AddQueuedAction(_stage1Action);_scheduler.AddQueuedAction(_stage2Action);_scheduler.AddQueuedAction(_stage3Action);_scheduler.AddQueuedAction(_stage4Action);_scheduler.AddQueuedAction(KillPower,MaxGuidanceTime);_runtimeTracker=new RuntimeTracker(this,120,0.005);_raycastHoming=new RaycastHoming(5000,3,0,Me.CubeGrid.EntityId);_raycastHoming.AddEntityTypeToFilter(MyDetectedEntityType.FloatingObject,MyDetectedEntityType.Planet,MyDetectedEntityType.Asteroid);// Populate guidance algos
_guidanceAlgorithms=new Dictionary&lt;GuidanceAlgoType,MissileGuidanceBase&gt;(){{GuidanceAlgoType.ProNav,new ProNavGuidance(UpdatesPerSecond,_navConstant)},{GuidanceAlgoType.WhipNav,new WhipNavGuidance(UpdatesPerSecond,_navConstant)},{GuidanceAlgoType.HybridNav,new HybridNavGuidance(UpdatesPerSecond,_navConstant)},{GuidanceAlgoType.ZeroEffortMiss,new ZeroEffortMissGuidance(UpdatesPerSecond,_navConstant)},};// Enable raycast spooling
GridTerminalSystem.GetBlocksOfType&lt;IMyCameraBlock&gt;(null,camera=&gt;{if(camera.IsSameConstructAs(Me))camera.EnableRaycast=true;return false;});// Save camera buffer references to our list
_cameraBufferList.Add(_camerasFront);_cameraBufferList.Add(_camerasRight);_cameraBufferList.Add(_camerasLeft);_cameraBufferList.Add(_camerasUp);_cameraBufferList.Add(_camerasDown);_cameraBufferList.Add(_camerasBack);//load targeting data from last save
ParseStorage();if(_postSetupAction!=PostSetupAction.Fire){InitiateSetup();}}void Main(string arg,UpdateType updateSource){if((updateSource&amp;(UpdateType.Terminal|UpdateType.Trigger|UpdateType.Script))!=0)ArgumentHandling(arg);if((updateSource&amp;UpdateType.Once)!=0){RunSetupStateMachine();}if((updateSource&amp;UpdateType.Update10)!=0){SendRemoteFireResponse();Runtime.UpdateFrequency&amp;=~UpdateFrequency.Update10;}bool igcMsg=(updateSource&amp;UpdateType.IGC)!=0;if(igcMsg){IgcMessageHandling(_shouldFire);}if(!_shouldFire){return;}_scheduler.Update();var lastRuntime=Math.Min(RuntimeToRealtime*Math.Max(Runtime.TimeSinceLastRun.TotalSeconds,0),SecondsPerUpdate);_timeTotal+=lastRuntime;_timeSpiral+=lastRuntime;_timeSinceLastIngest+=lastRuntime;if(_shouldKill)KillPower();_runtimeTracker.AddRuntime();_runtimeTracker.AddInstructions();}void ActiveHomingScans(){if(_homingCameras.Count==0||_shipControllers.Count==0)return;_raycastHoming.Update(SecondsPerUpdate,_homingCameras,_shipControllers);if(_raycastHoming.Status==RaycastHoming.TargetingStatus.Locked){// handoff
_guidanceMode=GuidanceMode.Active;_targetPos=_raycastHoming.TargetPosition;_targetVel=_raycastHoming.TargetVelocity;_timeSinceLastLock=_raycastHoming.TimeSinceLastLock;// Force time since last ingest to be zero since there is no transmission time for active homing scans
_timeSinceLastIngest=0;}else if(_raycastHoming.LockLost){_guidanceMode=GuidanceMode.SemiActive;}}void PrintEcho(){Echo(GetTitle());Echo($"Time Active: {_timeTotal:n0} sec");Echo(_runtimeTracker.Write());}
#endregion

#region Ini Configuration
void LoadIniConfig(){_myIni.Clear();bool parsed=_myIni.TryParse(Me.CustomData);if(!parsed){SaveIniConfig();_setupBuilder.Append("Wrote default missile config!\n");return;}foreach(IConfigValue c in _config){c.ReadFromIni(_myIni);}// For backwards compat
bool antennaMemeMode;if(_myIni.Get(IniSectionMisc,IniCompatMemeMode).TryGetBoolean(out antennaMemeMode)){_antennaMode.Value=antennaMemeMode ? AntennaNameMode.Meme:AntennaNameMode.Empty;}_setupBuilder.Append("Loaded missile config!\n");}void SaveIniConfig(){_myIni.Clear();_missileGroupNameTag=string.Format(MissileGroupPattern,_missileTag,_missileNumber);_missileNameTag=string.Format(MissileNamePattern,_missileTag,_missileNumber);foreach(IConfigValue c in _config){c.WriteToIni(_myIni);}_timeMaxSpiral.Value=Math.Max(_timeMaxSpiral,0.1);_maxRandomAccelRatio.Value=MathHelper.Clamp(_maxRandomAccelRatio,0,1);_guidanceActivateAction.RunInterval=_guidanceDelay;_stage2Action.RunInterval=_disconnectDelay;_stage3Action.RunInterval=_detachDuration;_stage4Action.RunInterval=_mainIgnitionDelay;_randomHeadingVectorAction.RunInterval=_randomVectorInterval;Me.CustomData=_myIni.ToString();}
#endregion

#region Argument Handling and IGC Processing
void ProcessRemoteFireRequests(){Runtime.UpdateFrequency|=UpdateFrequency.Update10;// On 10, send
float antennaRange=1f;foreach(MyTuple&lt;Vector3D,long&gt;request in _remoteFireRequests){Vector3D requestPos=request.Item1;float dSq=(float)Vector3D.DistanceSquared(requestPos,Me.GetPosition());if(dSq&gt;antennaRange){antennaRange=dSq;}}antennaRange=(float)Math.Sqrt(antennaRange)+100f;foreach(var a in _antennas){if(a.Closed)continue;a.Radius=(float)antennaRange;a.EnableBroadcasting=true;a.Enabled=true;break;}}void SendRemoteFireResponse(){foreach(MyTuple&lt;Vector3D,long&gt;request in _remoteFireRequests){long programId=request.Item2;var response=new MyTuple&lt;Vector3D,long&gt;();response.Item1=Me.GetPosition();response.Item2=Me.EntityId;IGC.SendUnicastMessage(programId,IgcTagRemoteFireResponse,response);}_remoteFireRequests.Clear();foreach(var a in _antennas){if(a.Closed)continue;a.Radius=1f;a.EnableBroadcasting=false;a.Enabled=_allowRemoteFire&amp;&amp;!_foundLampAntennas;break;}}void IgcMessageHandling(bool shouldFire){if(!shouldFire){if(_allowRemoteFire){// Handle remote fire requests
bool remoteFireRequest=false;while(_broadcastListenerRemoteFire.HasPendingMessage){object messageData=_broadcastListenerRemoteFire.AcceptMessage().Data;if(messageData is MyTuple&lt;Vector3D,long&gt;){var payload=(MyTuple&lt;Vector3D,long&gt;)messageData;_remoteFireRequests.Add(payload);remoteFireRequest=true;}}if(remoteFireRequest){_postSetupAction=PostSetupAction.FireRequestResponse;InitiateSetup(true);}}// Handle unicast messages
bool fireCommanded=false;bool remotelyFired=false;while(_unicastListener.HasPendingMessage){MyIGCMessage message=_unicastListener.AcceptMessage();object data=message.Data;if(message.Tag==IgcTagFire){fireCommanded=true;}else if(message.Tag==IgcTagregister){if(data is long){long keycode=(long)data;_savedKeycodes.Add(keycode);remotelyFired=true;}}}if(fireCommanded){_postSetupAction=PostSetupAction.Fire;InitiateSetup(remotelyFired);if(remotelyFired){IGC.SendBroadcastMessage(IgcTagRemoteFireNotification,_missileNumber.Value,TransmissionDistance.CurrentConstruct);}}return;}else{// Handle broadcast listeners
while(_broadcastListenerParameters.HasPendingMessage){object messageData=_broadcastListenerParameters.AcceptMessage().Data;if(!(messageData is MyTuple&lt;byte,long&gt;))continue;var payload=(MyTuple&lt;byte,long&gt;)messageData;long keycode=payload.Item2;if(!_savedKeycodes.Contains(keycode))continue;byte packedBools=payload.Item1;if(_killAllowed&amp;&amp;!_shouldKill)_shouldKill=(packedBools&amp;(1))!=0;_shouldStealth=(packedBools&amp;(1&lt;&lt;1))!=0;_enableEvasion=(packedBools&amp;(1&lt;&lt;2))!=0;_topDownAttack=(packedBools&amp;(1&lt;&lt;3))!=0;_precisionMode=(packedBools&amp;(1&lt;&lt;4))!=0;_retask=(packedBools&amp;(1&lt;&lt;5))!=0;if(_shouldKill)_shouldStealth=true;_raycastHoming.OffsetTargeting=_precisionMode;}while(_broadcastListenerBeamRiding.HasPendingMessage){object messageData=_broadcastListenerBeamRiding.AcceptMessage().Data;if(_guidanceMode==GuidanceMode.Active&amp;&amp;!_retask)continue;if(!(messageData is MyTuple&lt;Vector3,Vector3,Vector3,Vector3,long&gt;))continue;var payload=(MyTuple&lt;Vector3,Vector3,Vector3,Vector3,long&gt;)messageData;long keycode=payload.Item5;if(!_savedKeycodes.Contains(keycode))continue;_retask=false;_shooterForwardVec=payload.Item1;_shooterLeftVec=payload.Item2;_shooterUpVec=payload.Item3;_shooterPosCached=payload.Item4;_guidanceMode=GuidanceMode.BeamRiding;}/* Item1.Col0: Hit position */
/* Item1.Col1: Target position */
/* Item1.Col2: Target velocity */
/* Item2.Col0: Precision offset */
/* Item2.Col1: Shooter position */
/* Item2.Col2: &lt;NOT USED&gt; */
/* Item3:      Time since last lock */
/* Item4:      Target ID */
/* Item5:      Key code */
while(_broadcastListenerHoming.HasPendingMessage){object messageData=_broadcastListenerHoming.AcceptMessage().Data;if(!(messageData is MyTuple&lt;Matrix3x3,Matrix3x3,float,long,long&gt;))continue;var payload=(MyTuple&lt;Matrix3x3,Matrix3x3,float,long,long&gt;)messageData;long keycode=payload.Item5;if(!_savedKeycodes.Contains(keycode))continue;_shooterPosCached=payload.Item2.Col1;if(_guidanceMode==GuidanceMode.Active&amp;&amp;!_retask)continue;_retask=false;Vector3D hitPos=payload.Item1.Col0;Vector3D offset=payload.Item2.Col0;_targetPos=payload.Item1.Col1;_targetVel=payload.Item1.Col2;_timeSinceLastLock=payload.Item3;long targetId=payload.Item4;_timeSinceLastIngest=1.0/60.0;// IGC messages are always a tick delayed
_guidanceMode=GuidanceMode.SemiActive;_raycastHoming.SetInitialLockParameters(hitPos,_targetVel,offset,_timeSinceLastLock,targetId);}}}void RegisterBroadcastListeners(){if(_broadcastListenersRegistered)return;_broadcastListenerHoming=IGC.RegisterBroadcastListener(IgcTagHoming);_broadcastListenerHoming.SetMessageCallback(IgcTagHoming);_broadcastListenerBeamRiding=IGC.RegisterBroadcastListener(IgcTagBeamRiding);_broadcastListenerBeamRiding.SetMessageCallback(IgcTagBeamRiding);_broadcastListenerParameters=IGC.RegisterBroadcastListener(IgcTagParams);_broadcastListenerParameters.SetMessageCallback(IgcTagParams);_broadcastListenersRegistered=true;}void ArgumentHandling(string arg){if(arg.ToLower().Equals("_fire")){_postSetupAction = PostSetupAction.Fire;InitiateSetup();}else if (arg.ToLower().Equals("setup")&amp;&amp;!_shouldFire){_postSetupAction=PostSetupAction.None;InitiateSetup();}}
#endregion

#region Setup
List&lt;IMyBlockGroup&gt;_allGroups=new List&lt;IMyBlockGroup&gt;();List&lt;IMyProgrammableBlock&gt;_groupPrograms=new List&lt;IMyProgrammableBlock&gt;();int _autoConfigureMissileNumber;IEnumerator&lt;SetupStatus&gt;_setupStateMachine;StringBuilder _setupBuilder=new StringBuilder();void ClearLists(){_missileBlocks.Clear();_funcBlocks.Clear();_unsortedThrusters.Clear();_mainThrusters.Clear();_sideThrusters.Clear();_detachThrusters.Clear();_artMasses.Clear();_mergeBlocks.Clear();_batteries.Clear();_shipControllers.Clear();_gyros.Clear();_connectors.Clear();_rotors.Clear();_reactors.Clear();_antennas.Clear();_beacons.Clear();_sensors.Clear();_warheads.Clear();_cameras.Clear();_camerasFront.Clear();_camerasBack.Clear();_camerasLeft.Clear();_camerasRight.Clear();_camerasUp.Clear();_camerasDown.Clear();_homingCameras.Clear();_gasTanks.Clear();}string GetTitle(){return $"Whip's Homing Adv. Missile Script\n(Version {Version} - {Date})\n\nFor use with LAMP v{CompatVersion} or later.\n";}List&lt;IMyRadioAntenna&gt; _broadcasters = new List&lt;IMyRadioAntenna&gt;();List&lt;IMyBlockGroup&gt; _foundGroups = new List&lt;IMyBlockGroup&gt;();List&lt;IMyMechanicalConnectionBlock&gt; _mechConnections = new List&lt;IMyMechanicalConnectionBlock&gt;();enum SetupStatus { None = 0, Running = 1, Done = 2 }IEnumerator&lt;SetupStatus&gt; SetupStateMachine(bool reload = false){string title = GetTitle();_setupBuilder.Append(title).Append("\n");LoadIniConfig();
#region Auto-Configuration
if(_autoConfigure){_allGroups.Clear();_foundGroups.Clear();_autoConfigureMissileNumber=-1;_missileGroup=null;_setupBuilder.Append("\nRunning Autosetup...\n");GridTerminalSystem.GetBlockGroups(_allGroups);foreach(var group in _allGroups){// Group collect
string groupName=group.Name;if(groupName.StartsWith(_missileTag)){int spaceIndex=groupName.IndexOf(' ',_missileTag.Value.Length);if(spaceIndex==-1)continue;// Check if this program exists in the group
_groupPrograms.Clear();group.GetBlocksOfType(_groupPrograms);bool foundSelf=false;foreach(var pb in _groupPrograms){if(pb==Me){foundSelf=true;break;}if(AtInstructionLimit()){yield return SetupStatus.Running;}}if(!foundSelf)continue;string missileNumberStr=groupName.Substring(spaceIndex+1);int missileNumber;bool parsed=int.TryParse(missileNumberStr,out missileNumber);if(!parsed)continue;_autoConfigureMissileNumber=missileNumber;if(_missileGroup==null)_missileGroup=group;_foundGroups.Add(group);}if(AtInstructionLimit()){yield return SetupStatus.Running;}}if(_missileGroup==null){_setupBuilder.Append("&gt; WARN: No groups containing this\n  program found.\n");_missileGroup=GridTerminalSystem.GetBlockGroupWithName(_missileGroupNameTag);// Default
}else if(_foundGroups.Count&gt;1)// Too many
{_setupBuilder.Append("&gt; WARN: MULTIPLE groups\n  containing this program\n  found:\n");for (int i = 0; i &lt; _foundGroups.Count; ++i){var thisGroup = _foundGroups[i];_setupBuilder.Append($"    {i + 1}: {thisGroup.Name}\n");}}else {_setupBuilder.Append($"&gt; Missile group found:\n  '{_missileTag} {_autoConfigureMissileNumber}'\n");_missileNumber.Value=_autoConfigureMissileNumber;}}else // Default: Read from custom data
{_missileGroup=GridTerminalSystem.GetBlockGroupWithName(_missileGroupNameTag);}
#endregion
SaveIniConfig();
#region Ignore own grids with raycast
_mechConnections.Clear();_raycastHoming.ClearIgnoredGridIDs();_raycastHoming.AddIgnoredGridID(Me.CubeGrid.EntityId);foreach(var mc in _mechConnections){_raycastHoming.AddIgnoredGridID(mc.CubeGrid.EntityId);if(mc.TopGrid!=null)_raycastHoming.AddIgnoredGridID(mc.TopGrid.EntityId);if(AtInstructionLimit()){yield return SetupStatus.Running;}}
#endregion

#region Guidance and PID config
foreach(var guid in _guidanceAlgorithms){var relNav=guid.Value as RelNavGuidance;if(relNav!=null){relNav.NavConstant=_navConstant;relNav.NavAccelConstant=_accelNavConstant;}}_selectedGuidance=_guidanceAlgorithms[_guidanceAlgoType];// TODO: Ensure value in bounds or just let it crash?
_yawPID.Kp=_gyroProportionalGain;_yawPID.Ki=_gyroIntegralGain;_yawPID.Kd=_gyroDerivativeGain;_pitchPID.Kp=_gyroProportionalGain;_pitchPID.Ki=_gyroIntegralGain;_pitchPID.Kd=_gyroDerivativeGain;
#endregion
_preSetupFailed=false;// TODO rename
ClearLists();
#region Grab Key Codes
_setupBuilder.Append($"\nChecking for firing ship...\n");_broadcasters.Clear();_foundLampAntennas = false;var fcsGroup = GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupNameTag);if (fcsGroup != null){fcsGroup.GetBlocksOfType(_broadcasters);if (_broadcasters.Count == 0){if (_allowRemoteFire){_setupBuilder.Append($"&gt; WARN: No antennas in group named '{_fireControlGroupNameTag}', but remote fire is active.\n");}else if (!reload){_preSetupFailed = true;_setupBuilder.Append($"&gt;&gt; ERR: No antennas in group named '{_fireControlGroupNameTag}'! This missile MUST be attached to a configured firing ship to fire!\n");}}else{foreach(IMyRadioAntenna a in _broadcasters){//x.IsSameConstructAs(Me))? Check if missile has connectors before this?
_savedKeycodes.Add(a.EntityId);if(AtInstructionLimit()){yield return SetupStatus.Running;}}_setupBuilder.Append($"&gt; Info: Found antenna(s) on firing ship\n");_foundLampAntennas = true;}}else if (_allowRemoteFire){_setupBuilder.Append($"&gt; WARN: No group named '{_fireControlGroupNameTag}' found, but remote fire is active.\n");}else if (!reload){_preSetupFailed = true;_setupBuilder.Append($"&gt;&gt; ERR: No group named '{_fireControlGroupNameTag}' found! This missile MUST be attached to a configured firing ship to fire!\n");}
#endregion

#region Get Missile Blocks
_setupBuilder.Append($"\nSetup for group named \"{_missileGroupNameTag}\"...\n");if (_missileGroup != null){_missileGroup.GetBlocks(_missileBlocks);}else {_setupBuilder.Append($"&gt;&gt; ERR: No block group named '{_missileGroupNameTag}' found!\n");_preSetupFailed=true;}for(int i=0;i&lt;_missileBlocks.Count;++i){CollectBlocks(_missileBlocks[i]);if(AtInstructionLimit()){yield return SetupStatus.Running;}}
#endregion
yield return SetupStatus.Done;}public void RunSetupStateMachine(){_setupTicks++;if(_setupStateMachine!=null){bool moreInstructions=_setupStateMachine.MoveNext();if(_setupStateMachine.Current==SetupStatus.Running){Runtime.UpdateFrequency=UpdateFrequency.Once;}else // Done with block fetching
{_canSetup=true;// Dispose of setup state machine
_setupStateMachine.Dispose();_setupStateMachine=null;_setupBuilder.Append($"&gt; Info: Setup took {_setupTicks} tick(s)\n");// Post-block fetch
bool setupPassed=SetupErrorChecking();if(!setupPassed||_preSetupFailed){_setupBuilder.Append("\n&gt;&gt;&gt; Setup Failed! &lt;&lt;&lt;\n");Echo(_setupBuilder.ToString());return;}// Implied else
_setupBuilder.Append("\n&gt;&gt;&gt; Setup Successful! &lt;&lt;&lt;\n");_missileReference=_shipControllers[0];if((_postSetupAction&amp;PostSetupAction.Fire)!=0){_shouldFire=true;RegisterBroadcastListeners();Runtime.UpdateFrequency=UpdateFrequency.Update1;}if((_postSetupAction&amp;PostSetupAction.FireRequestResponse)!=0){ProcessRemoteFireRequests();}Echo(_setupBuilder.ToString());}}else // Setup failed
{_setupBuilder.Append($"&gt; Info: Setup took {_setupTicks} tick(s)\n");_setupBuilder.Append("\n&gt;&gt;&gt; Setup Failed! &lt;&lt;&lt;\n");_canSetup=true;Echo(_setupBuilder.ToString());}}void InitiateSetup(bool reload=false){if(!_canSetup)return;_canSetup=false;_setupTicks=0;_setupBuilder.Clear();if(_setupStateMachine!=null){_setupStateMachine.Dispose();_setupStateMachine=null;}_setupStateMachine=SetupStateMachine(reload);RunSetupStateMachine();}public bool AtInstructionLimit(){return Runtime.CurrentInstructionCount&gt;=MAX_INSTRUCTIONS_PER_SETUP_RUN;}bool SetupErrorChecking(){bool setupFailed=false;// ERRORS
setupFailed|=EchoIfTrue(_antennas.Count==0,"&gt;&gt; ERR: No antennas found");setupFailed |= EchoIfTrue(_gyros.Count == 0, "&gt;&gt; ERR: No gyros found");setupFailed |= EchoIfTrue(_shipControllers.Count == 0, "&gt;&gt; ERR: No remotes found");if (_shipControllers.Count &gt; 0){GetThrusterOrientation(_shipControllers[0]);}setupFailed |= EchoIfTrue(_mainThrusters.Count == 0, "&gt;&gt; ERR: No main thrusters found");setupFailed |= EchoIfTrue(_batteries.Count == 0 &amp;&amp; _reactors.Count == 0, "&gt;&gt; ERR: No batteries or reactors found");// WARNINGS
if(!EchoIfTrue(_mergeBlocks.Count==0&amp;&amp;_rotors.Count==0&amp;&amp;_connectors.Count==0,"&gt; WARN: No merge blocks, rotors, or connectors found for detaching")){EchoBlockCount(_mergeBlocks.Count, "merge");EchoBlockCount(_rotors.Count, "rotor");EchoBlockCount(_connectors.Count, "connector");}// INFO
EchoBlockCount(_artMasses.Count,"art. mass block");EchoBlockCount(_sensors.Count, "sensor");EchoBlockCount(_warheads.Count, "warhead");EchoBlockCount(_beacons.Count, "beacon");EchoBlockCount(_cameras.Count, "camera");EchoBlockCount(_timers.Count, "timer");EchoBlockCount(_unsortedThrusters.Count, "total thruster");EchoBlockCount(_mainThrusters.Count, "main thruster");EchoBlockCount(_sideThrusters.Count, "side thruster");EchoBlockCount(_detachThrusters.Count, "detach thruster");EchoBlockCount(_gasTanks.Count, "gas tank");return !setupFailed;}void EchoBlockCount(int count, string name){_setupBuilder.Append($"&gt; Info: {count} {name}{(count == 1 ? "" : "s")}\n");}bool CollectBlocks(IMyTerminalBlock block){if(!block.IsSameConstructAs(Me))return false;/*
Here we extract the missile prefix from block names to ensure that
we don't write multiple name tags to the same block.
Expected block name pattern is:"(Missile X) BLOCK_NAME"
*/
var name=block.CustomName;var splitName=name.Split('(', ')');if(splitName.Length&gt;=2){var temp=splitName[1];var cleanName=name.Replace($"({temp})", "").TrimStart();block.CustomName = $"{_missileNameTag} {cleanName}";}else {block.CustomName = $"{_missileNameTag} {name}";}IMyThrust thrust;IMyRadioAntenna antenna;IMyCameraBlock camera;IMyWarhead warhead;AddToListIfType(block,_funcBlocks);if(AddToListIfType(block,_unsortedThrusters,out thrust)){if(thrust.CustomName.Contains(_detachThrustTag))_detachThrusters.Add(thrust);}else if(AddToListIfType(block,_antennas,out antenna)){antenna.Radius=1f;antenna.EnableBroadcasting=false;antenna.Enabled=_allowRemoteFire&amp;&amp;!_foundLampAntennas;}else if(AddToListIfType(block,_warheads,out warhead)){warhead.IsArmed=false;}else if(AddToListIfType(block,_cameras,out camera)){camera.Enabled=true;camera.EnableRaycast=true;if(_useCamerasForHoming)_homingCameras.Add(camera);GetCameraOrientation(camera);}else if(AddToListIfType(block,_artMasses)||AddToListIfType(block,_batteries)||AddToListIfType(block,_gyros)||AddToListIfType(block,_mergeBlocks)||AddToListIfType(block,_shipControllers)||AddToListIfType(block,_connectors)||AddToListIfType(block,_rotors)||AddToListIfType(block,_reactors)||AddToListIfType(block,_beacons)||AddToListIfType(block,_sensors)||AddToListIfType(block,_timers)||AddToListIfType(block,_gasTanks)){/* Nothing to do here */
}return false;}bool AddToListIfType&lt;T&gt;(IMyTerminalBlock block,List&lt;T&gt;list)where T:class,IMyTerminalBlock{T typedBlock;return AddToListIfType(block,list,out typedBlock);}bool AddToListIfType&lt;T&gt;(IMyTerminalBlock block,List&lt;T&gt;list,out T typedBlock)where T:class,IMyTerminalBlock{typedBlock=block as T;if(typedBlock!=null){list.Add(typedBlock);return true;}return false;}bool EchoIfTrue(bool state,string toEcho){if(state){_setupBuilder.Append(toEcho).Append("\n");}return state;}// Assumes all thrust is on same grid as PB
void GetThrusterOrientation(IMyTerminalBlock refBlock){var forwardDirn=refBlock.Orientation.Forward;foreach(IMyThrust t in _unsortedThrusters){var thrustDirn=Base6Directions.GetFlippedDirection(t.Orientation.Forward);if(thrustDirn==forwardDirn){_mainThrusters.Add(t);}else{_sideThrusters.Add(t);}}}void GetCameraOrientation(IMyCameraBlock c){switch(c.Orientation.Forward){case Base6Directions.Direction.Forward:_camerasFront.Add(c);return;case Base6Directions.Direction.Backward:_camerasBack.Add(c);return;case Base6Directions.Direction.Left:_camerasLeft.Add(c);return;case Base6Directions.Direction.Right:_camerasRight.Add(c);return;case Base6Directions.Direction.Up:_camerasUp.Add(c);return;case Base6Directions.Direction.Down:_camerasDown.Add(c);return;}}
#endregion

#region Missile Launch Sequence
// Prepares missile for launch by activating power sources.
void MissileStage1(){_missileStage=1;foreach(var b in _batteries){b.Enabled=true;b.ChargeMode=ChargeMode.Discharge;}foreach(var r in _reactors){r.Enabled=true;}foreach(var s in _sensors){s.Enabled=false;}foreach(var w in _warheads){w.IsArmed=false;}foreach(var g in _gyros){g.Enabled=true;}foreach(var t in _gasTanks){t.Stockpile=false;}foreach(var t in _timers){t.Trigger();}}// Detaches missile from the firing ship.
void MissileStage2(){_missileStage=2;foreach(var m in _artMasses){m.Enabled=true;}foreach(var b in _mergeBlocks){b.Enabled=false;}foreach(var c in _connectors){c.Disconnect();}foreach(var r in _rotors){r.Detach();}foreach(var a in _antennas){a.Radius=1f;a.Enabled=false;a.EnableBroadcasting=false;a.Enabled=true;//this used to be a bug workaround, not sure if it is still needed tbh
a.CustomName="";}foreach (var b in _beacons){b.Radius = 1f;b.Enabled = true;b.CustomName = "";}ApplyThrustOverride(_sideThrusters,MinThrust,false);ApplyThrustOverride(_detachThrusters,100f);}// Disables missile thrust for drifting.
void MissileStage3(){_missileStage=3;ApplyThrustOverride(_detachThrusters,MinThrust);}// Ignites main thrust.
void MissileStage4(){_missileStage=4;foreach(var m in _artMasses){m.Enabled=false;}foreach(var c in _cameras){c.EnableRaycast=true;c.Enabled=true;}ApplyThrustOverride(_detachThrusters,MinThrust);ApplyThrustOverride(_sideThrusters,MinThrust);ApplyThrustOverride(_mainThrusters,100f);Me.CubeGrid.CustomName=_missileGroupNameTag;_killAllowed=true;}
#endregion

#region Missile Guidance
// Delays GuideMissile until the guidance delay is finished.
void ActivateGuidance(){_enableGuidance=true;}void GuidanceNavAndControl(){if((_guidanceMode&amp;GuidanceMode.Homing)!=0)ActiveHomingScans();if(!_enableGuidance)return;Vector3D missilePos,missileVel,gravityVec;MatrixD missileMatrix;double missileMass,missileAccel;bool pastArmingRange,shouldSpiral;Navigation(_minimumArmingRange,_enableEvasion,_evadeWithSpiral,out missileMatrix,out missilePos,out missileVel,out _shooterPos,out gravityVec,out missileMass,out missileAccel,out _distanceFromShooter,out pastArmingRange,out shouldSpiral);Vector3D accelCmd=GuidanceMain(_guidanceMode,missileMatrix,missilePos,missileVel,gravityVec,missileAccel,pastArmingRange,shouldSpiral,out _shouldProximityScan);Control(missileMatrix,accelCmd,gravityVec,missileVel,missileMass);
#endregion
}void Navigation(double minArmingRange,bool enableEvasion,bool evadeWithSpiral,out MatrixD missileMatrix,out Vector3D missilePos,out Vector3D missileVel,out Vector3D shooterPos,out Vector3D gravity,out double missileMass,out double missileAcceleration,out double distanceFromShooter,out bool pastMinArmingRange,out bool shouldSpiral){missilePos=_missileReference.CenterOfMass;missileVel=_missileReference.GetShipVelocities().LinearVelocity;missileMatrix=_missileReference.WorldMatrix;// TODO: Determine from thrust allocation
shooterPos=_shooterPosCached+_offsetLeft*_shooterLeftVec+_offsetUp*_shooterUpVec;gravity=_missileReference.GetNaturalGravity();distanceFromShooter=Vector3D.Distance(_shooterPos,missilePos);ScaleAntennaRange(distanceFromShooter+100);// Computing mass, thrust, and acceleration
double missileThrust=CalculateMissileThrust(_mainThrusters);missileMass=_missileReference.CalculateShipMass().PhysicalMass;missileAcceleration=missileThrust/missileMass;pastMinArmingRange=Vector3D.DistanceSquared(missilePos,shooterPos)&gt;=minArmingRange*minArmingRange;shouldSpiral=enableEvasion&amp;&amp;evadeWithSpiral;}Vector3D GuidanceMain(GuidanceMode guidanceMode,MatrixD missileMatrix,Vector3D missilePos,Vector3D missileVel,Vector3D gravity,double missileAcceleration,bool pastMinArmingRange,bool shouldSpiral,out bool shouldProximityScan){Vector3D accelCmd;if(guidanceMode==GuidanceMode.BeamRiding){accelCmd=BeamRideGuidance(missilePos,missileVel,gravity,missileMatrix.Forward,missileAcceleration);shouldProximityScan=pastMinArmingRange;}else{Vector3D adjustedTargetPos;accelCmd=HomingGuidance(missilePos,missileVel,gravity,missileAcceleration,out adjustedTargetPos);double distanceToTgtSq=Vector3D.DistanceSquared(missilePos,adjustedTargetPos);double closingSpeedSq=(missileVel-_targetVel).LengthSquared();shouldProximityScan=pastMinArmingRange&amp;&amp;(closingSpeedSq&gt;distanceToTgtSq);// Roughly 1 second till impact
// Only spiral if we are close enough to the target to conserve fuel
shouldSpiral&amp;=((_spiralActivationRange*_spiralActivationRange&gt;distanceToTgtSq)&amp;&amp;(closingSpeedSq*4.0&lt;distanceToTgtSq));// TODO: Don't hard code this lol
}if(shouldSpiral){accelCmd=missileAcceleration*SpiralTrajectory(accelCmd,_missileReference.WorldMatrix.Up);}if(_enableEvasion&amp;&amp;_evadeWithRandomizedHeading){accelCmd+=missileAcceleration*_randomizedHeadingVector;}return accelCmd;}Vector3D BeamRideGuidance(Vector3D missilePos,Vector3D missileVel,Vector3D gravity,Vector3D missileForwardVec,double missileAcceleration){var shooterToMissileVec=missilePos-_shooterPos;if(Vector3D.IsZero(_shooterForwardVec))//this is to avoid NaN cases when the shooterForwardVec isnt cached yet
_shooterForwardVec=missileForwardVec;var projectionVec=VectorMath.Projection(shooterToMissileVec,_shooterForwardVec);double missileSpeed=missileVel.Length();Vector3D destinationVec=_shooterPos+projectionVec+_shooterForwardVec*Math.Max(2*missileSpeed,200);if(_shooterForwardVec.Dot(shooterToMissileVec)&gt;0)// Missile is in front of the shooter
{if(!_hasPassed){_hasPassed=true;}}else if(_hasPassed)// If behind shooter and we have already passed the shooter before
{int signLeft=Math.Sign(shooterToMissileVec.Dot(_shooterLeftVec));int signUp=Math.Sign(shooterToMissileVec.Dot(_shooterUpVec));destinationVec+=signLeft*100*_shooterLeftVec+signUp*100*_shooterUpVec;}Vector3D missileToTargetVec=destinationVec-missilePos;Vector3D accelCmd;if(_missileStage==4){accelCmd=CalculateDriftCompensation(missileVel,missileToTargetVec,missileAcceleration,0.5,gravity,60);}else{accelCmd=missileToTargetVec;}if(!Vector3D.IsZero(gravity)){accelCmd=MissileGuidanceBase.GravityCompensation(missileAcceleration,accelCmd,gravity);}return VectorMath.SafeNormalize(accelCmd)*missileAcceleration;}Vector3D HomingGuidance(Vector3D missilePos,Vector3D missileVel,Vector3D gravityVec,double missileAcceleration,out Vector3D adjustedTargetPos){adjustedTargetPos=_targetPos+_targetVel*(_timeSinceLastLock+_timeSinceLastIngest);if(_topDownAttack&amp;&amp;gravityVec.LengthSquared()&gt;1e-3&amp;&amp;!_shouldDive){if(VectorMath.AngleBetween(adjustedTargetPos-missilePos,gravityVec)&lt;TopdownDescentAngle){_shouldDive=true;}else{adjustedTargetPos+=Vector3D.Normalize(gravityVec)*-_topDownAttackHeight;}}if(_maxAimDispersion&gt;0.5){if(Vector3D.IsZero(_aimDispersion)){_aimDispersion=ComputeRandomDispersion();}adjustedTargetPos+=VectorMath.Rejection(_aimDispersion,adjustedTargetPos-missilePos);}Vector3D accelCmd=_selectedGuidance.Update(missilePos,missileVel,missileAcceleration,adjustedTargetPos,_targetVel,gravityVec);return accelCmd*missileAcceleration;}void Control(MatrixD missileMatrix,Vector3D accelCmd,Vector3D gravityVec,Vector3D velocityVec,double mass){if(_missileStage==4){var headingDeviation=VectorMath.CosBetween(accelCmd,missileMatrix.Forward);ApplyThrustOverride(_mainThrusters,(float)MathHelper.Clamp(headingDeviation,0.25f,1f)*100f);var sideVelocity=VectorMath.Rejection(velocityVec,accelCmd);ApplySideThrust(_sideThrusters,sideVelocity,gravityVec,mass);}// Get pitch and yaw angles
double yaw,pitch,roll;GetRotationAnglesSimultaneous(accelCmd,-gravityVec,missileMatrix,out pitch,out yaw,out roll);// Angle controller
double yawSpeed=_yawPID.Control(yaw);double pitchSpeed=_pitchPID.Control(pitch);// Handle roll more simply
double rollSpeed=0;if(Math.Abs(_missileSpinRPM)&gt;1e-3&amp;&amp;_missileStage==4){rollSpeed=_missileSpinRPM*RpmToRad;}else{rollSpeed=roll;}// Yaw and pitch slowdown to avoid overshoot
if(Math.Abs(yaw)&lt;GyroSlowdownAngle){yawSpeed=UpdatesPerSecond*.5*yaw;}if(Math.Abs(pitch)&lt;GyroSlowdownAngle){pitchSpeed=UpdatesPerSecond*.5*pitch;}ApplyGyroOverride(pitchSpeed,yawSpeed,rollSpeed,_gyros,missileMatrix);}
#region Broadcast Missile IFF
void NetworkTargets(){bool hasTarget=_guidanceMode==GuidanceMode.Active&amp;&amp;_raycastHoming.Status==RaycastHoming.TargetingStatus.Locked;int capacity=hasTarget ? 2:1;_messageBuilder.Capacity=capacity;var myType=TargetRelation.Missile|(Me.CubeGrid.GridSizeEnum==MyCubeSize.Large ? TargetRelation.LargeGrid:TargetRelation.SmallGrid);var myTuple=new MyTuple&lt;byte,long,Vector3D,double&gt;((byte)(TargetRelation.Friendly|myType),Me.CubeGrid.EntityId,Me.WorldAABB.Center,Me.CubeGrid.WorldAABB.HalfExtents.LengthSquared());_messageBuilder.Add(myTuple);if(hasTarget){TargetRelation relation=TargetRelation.Locked;switch(_raycastHoming.TargetRelation){case MyRelationsBetweenPlayerAndBlock.Owner:case MyRelationsBetweenPlayerAndBlock.Friends:case MyRelationsBetweenPlayerAndBlock.FactionShare:relation|=TargetRelation.Friendly;break;case MyRelationsBetweenPlayerAndBlock.Enemies:relation|=TargetRelation.Enemy;break;// Neutral is assumed if not friendly or enemy
}switch(_raycastHoming.TargetType){case MyDetectedEntityType.LargeGrid:relation|=TargetRelation.LargeGrid;break;case MyDetectedEntityType.SmallGrid:relation|=TargetRelation.SmallGrid;break;}myTuple=new MyTuple&lt;byte,long,Vector3D,double&gt;((byte)relation,_raycastHoming.TargetId,_raycastHoming.TargetCenter,0);_messageBuilder.Add(myTuple);}IGC.SendBroadcastMessage(IgcTagIff,_messageBuilder.MoveToImmutable());}
#endregion

#region Block Property Functions
string GetAntennaName(){switch(_antennaMode.Value){case AntennaNameMode.Meme:return _antennaMemeMessages[_memeIndex];case AntennaNameMode.MissileName:return _missileNameTag;case AntennaNameMode.MissileStatus:return $"{_missileNameTag} / Mode: {_guidanceMode} / Age: {(_guidanceMode == GuidanceMode.BeamRiding ? 0 : _timeSinceLastLock):0.0}";default: case AntennaNameMode.Empty: return "";}}void ScaleAntennaRange(double dist){foreach(IMyRadioAntenna a in _antennas){if(a.Closed)continue;a.Radius=(float)dist;a.EnableBroadcasting=!_shouldStealth;a.CustomName=GetAntennaName();}foreach(IMyBeacon thisBeacon in _beacons){if(thisBeacon.Closed)continue;thisBeacon.Radius=(float)dist;}}void ApplyThrustOverride(List&lt;IMyThrust&gt;thrusters,float overrideValue,bool turnOn=true){float thrustProportion=overrideValue*0.01f;foreach(IMyThrust t in thrusters){if(t.Closed)continue;if(t.Enabled!=turnOn)t.Enabled=turnOn;if(thrustProportion!=t.ThrustOverridePercentage)t.ThrustOverridePercentage=thrustProportion;}}void ApplySideThrust(List&lt;IMyThrust&gt;thrusters,Vector3D controlAccel,Vector3D gravity,double mass){var desiredThrust=mass*(2*controlAccel+gravity);var thrustToApply=desiredThrust;foreach(IMyThrust t in thrusters){if(!t.IsWorking){continue;}double neededThrust=Vector3D.Dot(t.WorldMatrix.Forward,thrustToApply);if(neededThrust&gt;0){var outputProportion=MathHelper.Clamp(neededThrust/t.MaxEffectiveThrust,0,1);t.ThrustOverridePercentage=(float)outputProportion;thrustToApply-=t.WorldMatrix.Forward*outputProportion*t.MaxEffectiveThrust;}else{t.ThrustOverridePercentage=MinThrust;}}}void CheckProximity(){if(!_shouldProximityScan||_markedForDetonation)return;Vector3D adjustedTargetPos=_targetPos+_targetVel*(_timeSinceLastLock+_timeSinceLastIngest);Vector3D missileVelocity=_missileReference.GetShipVelocities().LinearVelocity;Vector3D closingVelocity=_guidanceMode==GuidanceMode.BeamRiding ? missileVelocity:missileVelocity-_targetVel;Vector3D missileToTarget=adjustedTargetPos-_missileReference.GetPosition();double distanceToTarget=missileToTarget.Length();Vector3D missileToTargetNorm=missileToTarget/distanceToTarget;double closingSpeed;// If we have no cameras or sensors for detonation, use some approximations
if(_cameras.Count==0&amp;&amp;_sensors.Count==0){if(_guidanceMode==GuidanceMode.BeamRiding)// Arm warheads if in beam ride mode
{foreach(var thisWarhead in _warheads){if(thisWarhead.Closed)continue;if(!thisWarhead.IsArmed)thisWarhead.IsArmed=true;}}else{// Use bounding box estimation for detonation
double adjustedDetonationRange=_missileReference.CubeGrid.WorldVolume.Radius+_raycastRange;closingSpeed=Vector3D.Dot(closingVelocity,missileToTargetNorm);if(distanceToTarget&lt;adjustedDetonationRange+closingSpeed*SecondsPerUpdate){Detonate((distanceToTarget-adjustedDetonationRange)/closingSpeed);return;}}return;}// Try raycast detonation methods
double raycastHitDistance=0;// Do one scan in the direction of the target (if applicable)
if((_guidanceMode&amp;GuidanceMode.Homing)!=0&amp;&amp;RaycastTripwireInDirection(missileToTargetNorm,closingVelocity,out raycastHitDistance,out closingSpeed)){Detonate((raycastHitDistance-_raycastRange)/closingSpeed);return;}/*
Do one scan in the direction of the relative velocity vector
If that fails, we will scan a cross pattern that traces the radius of the missile to try and catch
complex geometry and avoid missed detonations
*/
double apparentRadius=CalculateGridRadiusFromAxis(_missileReference.CubeGrid,closingVelocity)+_raycastRange;var baseDirection=VectorMath.SafeNormalize(closingVelocity)*_raycastRange;var perp1=Vector3D.CalculatePerpendicularVector(closingVelocity)*apparentRadius;var perp2=VectorMath.SafeNormalize(Vector3D.Cross(perp1,closingVelocity))*apparentRadius;if(RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,perp1)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,-perp1)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,perp2)||RaycastTripwireInDirection(closingVelocity,closingVelocity,out raycastHitDistance,out closingSpeed,-perp2)){Detonate((raycastHitDistance-_raycastRange)/closingSpeed);return;}foreach(IMySensorBlock sensor in _sensors){if(sensor.Closed)continue;if(!sensor.Enabled)sensor.Enabled=true;if(sensor.IsActive){_sensorEntities.Clear();sensor.DetectedEntities(_sensorEntities);foreach(var targetInfo in _sensorEntities){if(IsValidTarget(targetInfo)){Detonate(0);return;}}}}}bool RaycastTripwireInDirection(Vector3D directionToTarget,Vector3D closingVelocity,out double raycastHitDistance,out double closingSpeed,Vector3D? offsetVector=null){raycastHitDistance=0;closingSpeed=0;var directionToTargetNorm=VectorMath.SafeNormalize(directionToTarget);foreach(var cameraBuffer in _cameraBufferList){if(cameraBuffer.Count==0){continue;}Vector3D localDirToTgt=Vector3D.TransformNormal(directionToTargetNorm,MatrixD.Transpose(cameraBuffer.Peek().WorldMatrix));if(localDirToTgt.Z&lt;0&amp;&amp;Math.Abs(localDirToTgt.X)&lt;.7071&amp;&amp;Math.Abs(localDirToTgt.Y)&lt;.7071){IMyCameraBlock cam=cameraBuffer.MoveNext();if(!cam.EnableRaycast){cam.EnableRaycast=true;}if(!cam.Enabled){cam.Enabled=true;}closingSpeed=Math.Max(0,Vector3D.Dot(closingVelocity,directionToTargetNorm));var closingDisplacement=closingSpeed*SecondsPerUpdate;var scanRange=_raycastRange+closingDisplacement;var scanPosition=cam.GetPosition()+directionToTargetNorm*scanRange;if(offsetVector.HasValue){scanPosition+=offsetVector.Value;}MyDetectedEntityInfo targetInfo=cam.Raycast(scanPosition);bool valid=IsValidTarget(targetInfo);if(valid){raycastHitDistance=Vector3D.Distance(targetInfo.HitPosition.Value,cam.GetPosition());}return valid;}}return false;}bool IsValidTarget(MyDetectedEntityInfo targetInfo){if(targetInfo.IsEmpty()||(targetInfo.EntityId==Me.CubeGrid.EntityId)||(!_ignoreIdForDetonation&amp;&amp;((_guidanceMode&amp;GuidanceMode.Homing)!=0)&amp;&amp;(targetInfo.EntityId!=_raycastHoming.TargetId))||(_raycastIgnorePlanetSurface&amp;&amp;targetInfo.Type==MyDetectedEntityType.Planet)||(_raycastIgnoreFriends&amp;&amp;(targetInfo.Relationship&amp;(MyRelationsBetweenPlayerAndBlock.FactionShare|MyRelationsBetweenPlayerAndBlock.Owner))!=0)||(targetInfo.BoundingBox.Size.LengthSquared()&lt;_raycastMinimumTargetSize*_raycastMinimumTargetSize)){return false;}return true;}void Detonate(double fuzeTime){_markedForDetonation=true;foreach(var thisWarhead in _warheads){if(thisWarhead.Closed)continue;thisWarhead.DetonationTime=Math.Max(0f,(float)fuzeTime-1f/60f);thisWarhead.StartCountdown();}}void KillPower(){foreach(var b in _funcBlocks){if(!b.Closed)b.Enabled=false;}Detonate(0);Runtime.UpdateFrequency=UpdateFrequency.None;}double CalculateMissileThrust(List&lt;IMyThrust&gt;mainThrusters){double thrust=0;foreach(var block in mainThrusters){if(block.Closed)continue;thrust+=block.IsFunctional ? block.MaxEffectiveThrust:0;}return thrust;}
#endregion

#region Vector Math Functions
// Computes optimal drift compensation vector to eliminate drift in a specified time
static Vector3D CalculateDriftCompensation(Vector3D velocity,Vector3D directHeading,double accel,double timeConstant,Vector3D gravityVec,double maxDriftAngle=60){if(directHeading.LengthSquared()==0)return velocity;if(Vector3D.Dot(velocity,directHeading)&lt;0)return directHeading;if(velocity.LengthSquared()&lt;100)return directHeading;var normalVelocity=VectorMath.Rejection(velocity,directHeading);var normal=VectorMath.SafeNormalize(normalVelocity);var parallel=VectorMath.SafeNormalize(directHeading);var normalAccel=Vector3D.Dot(normal,normalVelocity)/timeConstant;normalAccel=Math.Min(normalAccel,accel*Math.Sin(MathHelper.ToRadians(maxDriftAngle)));var normalAccelerationVector=normalAccel*normal;double parallelAccel=0;var diff=accel*accel-normalAccelerationVector.LengthSquared();if(diff&gt;0)parallelAccel=Math.Sqrt(diff);return parallelAccel*parallel-normal*normalAccel;}void ComputeRandomHeadingVector(){if(!_enableEvasion||!_evadeWithRandomizedHeading||!_enableGuidance||_missileReference==null){return;}double angle=RNGesus.NextDouble()*Math.PI*2.0;_randomizedHeadingVector=Math.Sin(angle)*_missileReference.WorldMatrix.Up+Math.Cos(angle)*_missileReference.WorldMatrix.Right;_randomizedHeadingVector*=_maxRandomAccelRatio;}Vector3D ComputeRandomDispersion(){Vector3D direction=new Vector3D(2*_bellCurveRandom.NextDouble()-1,2*_bellCurveRandom.NextDouble()-1,2*_bellCurveRandom.NextDouble()-1);return _maxAimDispersion*direction;}//Whip's Spiral Trajectory Method v2
double _timeSpiral=0;Vector3D SpiralTrajectory(Vector3D desiredForwardVector,Vector3D desiredUpVector){if(_timeSpiral&gt;_timeMaxSpiral)_timeSpiral=0;double angle=2*Math.PI*_timeSpiral/_timeMaxSpiral;Vector3D forward=VectorMath.SafeNormalize(desiredForwardVector);Vector3D right=VectorMath.SafeNormalize(Vector3D.Cross(forward,desiredUpVector));Vector3D up=Vector3D.Cross(right,forward);double lateralProportion=Math.Sin(_spiralDegrees*DegToRad);double forwardProportion=Math.Sqrt(1-lateralProportion*lateralProportion);return forward*forwardProportion+lateralProportion*(Math.Sin(angle)*up+Math.Cos(angle)*right);}Vector3D[]_corners=new Vector3D[8];double CalculateGridRadiusFromAxis(IMyCubeGrid grid,Vector3D axis){var axisLocal=VectorMath.SafeNormalize(Vector3D.Rotate(axis,MatrixD.Transpose(grid.WorldMatrix)));var min=((Vector3D)grid.Min-0.5)*grid.GridSize;var max=((Vector3D)grid.Max+0.5)*grid.GridSize;var bb=new BoundingBoxD(min,max);bb.GetCorners(_corners);double maxLenSq=0;var point=_corners[0];foreach(var corner in _corners){var dirn=corner-bb.Center;var rej=dirn-dirn.Dot(axisLocal)*axisLocal;var lenSq=rej.LengthSquared();if(lenSq&gt;maxLenSq){point=corner;maxLenSq=lenSq;}}return Math.Sqrt(maxLenSq);}
#endregion

#region Storage Parsing/Saving
void ParseStorage()//TODO: Add proper ini save/parse for Active guidance
{if(GridTerminalSystem.GetBlockGroupWithName(_fireControlGroupNameTag)!=null){// This means missile is still attached to firing ship
Storage="";return;}var storageSplit = Storage.Split('\n');foreach (var line in storageSplit){if (line.StartsWith("@")){var trimmedLine = line.Replace("@", "");bool parsed = int.TryParse(trimmedLine, out _missileStage);if (parsed &amp;&amp; _missileStage == 0){_savedKeycodes.Clear();return;}continue;}long code = 0;if (!string.IsNullOrWhiteSpace(line) &amp;&amp; long.TryParse(line, out code))_savedKeycodes.Add(code);}if (_savedKeycodes.Count != 0 &amp;&amp; _missileStage != 0){_postSetupAction = PostSetupAction.Fire;InitiateSetup(true);}Echo("Storage parsed");}void Save(){_saveSB.Clear();foreach (var id in _savedKeycodes)_saveSB.Append($"{id}\n");_saveSB.Append($"@{_missileStage}");Storage=_saveSB.ToString();}
#endregion

#endregion

#region INCLUDES
enum TargetRelation:byte{Neutral=0,Other=0,Enemy=1,Friendly=2,Locked=4,LargeGrid=8,SmallGrid=16,Missile=32,Asteroid=64,RelationMask=Neutral|Enemy|Friendly,TypeMask=LargeGrid|SmallGrid|Other|Missile|Asteroid}public static class VectorMath{/// &lt;summary&gt;
///  Normalizes a vector only if it is non-zero and non-unit
/// &lt;/summary&gt;
public static Vector3D SafeNormalize(Vector3D a){if(Vector3D.IsZero(a))return Vector3D.Zero;if(Vector3D.IsUnit(ref a))return a;return Vector3D.Normalize(a);}/// &lt;summary&gt;
/// Reflects vector a over vector b with an optional rejection factor
/// &lt;/summary&gt;
public static Vector3D Reflection(Vector3D a,Vector3D b,double rejectionFactor=1)//reflect a over b
{Vector3D proj=Projection(a,b);Vector3D rej=a-proj;return proj-rej*rejectionFactor;}/// &lt;summary&gt;
/// Rejects vector a on vector b
/// &lt;/summary&gt;
public static Vector3D Rejection(Vector3D a,Vector3D b)//reject a on b
{if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return Vector3D.Zero;return a-a.Dot(b)/b.LengthSquared()*b;}/// &lt;summary&gt;
/// Projects vector a onto vector b
/// &lt;/summary&gt;
public static Vector3D Projection(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return Vector3D.Zero;if(Vector3D.IsUnit(ref b))return a.Dot(b)*b;return a.Dot(b)/b.LengthSquared()*b;}/// &lt;summary&gt;
/// Scalar projection of a onto b
/// &lt;/summary&gt;
public static double ScalarProjection(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;if(Vector3D.IsUnit(ref b))return a.Dot(b);return a.Dot(b)/b.Length();}/// &lt;summary&gt;
/// Computes angle between 2 vectors in radians.
/// &lt;/summary&gt;
public static double AngleBetween(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;else return Math.Acos(MathHelper.Clamp(a.Dot(b)/Math.Sqrt(a.LengthSquared()*b.LengthSquared()),-1,1));}/// &lt;summary&gt;
/// Computes cosine of the angle between 2 vectors.
/// &lt;/summary&gt;
public static double CosBetween(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return 0;else return MathHelper.Clamp(a.Dot(b)/Math.Sqrt(a.LengthSquared()*b.LengthSquared()),-1,1);}/// &lt;summary&gt;
/// Returns if the normalized dot product between two vectors is greater than the tolerance.
/// This is helpful for determining if two vectors are "more parallel" than the tolerance.
/// &lt;/summary&gt;
/// &lt;param name="a"&gt;First vector&lt;/param&gt;
/// &lt;param name="b"&gt;Second vector&lt;/param&gt;
/// &lt;param name="tolerance"&gt;Cosine of maximum angle&lt;/param&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public static bool IsDotProductWithinTolerance(Vector3D a,Vector3D b,double tolerance){double dot=Vector3D.Dot(a,b);double num=a.LengthSquared()*b.LengthSquared()*tolerance*Math.Abs(tolerance);return Math.Abs(dot)*dot&gt;num;}}/// Whip's GetRotationAnglesSimultaneous - Last modified: 2022/08/10
/// &lt;summary&gt;
/// &lt;para&gt;
///     This method computes the axis-angle rotation required to align the
///     reference world matrix with the desired forward and up vectors.
/// &lt;/para&gt;
/// &lt;para&gt;
///     The desired forward and up vectors are used to construct the desired
///     target orientation relative to the current world matrix orientation.
///     The current orientation of the craft with respect to itself will be the
///     identity matrix, thus the error between our desired orientation and our
///     target orientation is simply the target orientation itself:
///     M_target = M_current * M_error =&gt;
///     M_target = I * M_error =&gt;
///     M_target = M_error
/// &lt;/para&gt;
/// &lt;para&gt;
///     This is designed for use with Keen's gyroscopes where:
///     + pitch = -X rotation,
///     + yaw   = -Y rotation,
///     + roll  = -Z rotation
/// &lt;/para&gt;
/// &lt;/summary&gt;
/// &lt;remarks&gt;
///     Dependencies: &lt;c&gt;VectorMath.SafeNormalize&lt;/c&gt;
/// &lt;/remarks&gt;
/// &lt;param name="desiredForwardVector"&gt;
///     Desired forward direction in world frame.
///     This is the primary constraint used to allign pitch and yaw.
/// &lt;/param&gt;
/// &lt;param name="desiredUpVector"&gt;
///     Desired up direction in world frame.
///     This is the secondary constraint used to align roll.
///     Set to &lt;c&gt;Vector3D.Zero&lt;/c&gt; if roll control is not desired.
/// &lt;/param&gt;
/// &lt;param name="worldMatrix"&gt;
///     World matrix describing current orientation.
///     The translation part of the matrix is ignored; only the orientation matters.
/// &lt;/param&gt;
/// &lt;param name="pitch"&gt;Pitch angle to desired orientation(rads).&lt;/param&gt;
/// &lt;param name="yaw"&gt;Yaw angle to desired orientation(rads).&lt;/param&gt;
/// &lt;param name="roll"&gt;Roll angle to desired orientation(rads).&lt;/param&gt;
public static void GetRotationAnglesSimultaneous(Vector3D desiredForwardVector,Vector3D desiredUpVector,MatrixD worldMatrix,out double pitch,out double yaw,out double roll){desiredForwardVector=VectorMath.SafeNormalize(desiredForwardVector);MatrixD transposedWm;MatrixD.Transpose(ref worldMatrix,out transposedWm);Vector3D.Rotate(ref desiredForwardVector,ref transposedWm,out desiredForwardVector);Vector3D.Rotate(ref desiredUpVector,ref transposedWm,out desiredUpVector);Vector3D leftVector=Vector3D.Cross(desiredUpVector,desiredForwardVector);Vector3D axis;double angle;if(Vector3D.IsZero(desiredUpVector)||Vector3D.IsZero(leftVector)){/*
* Simple case where we have no valid roll constraint:
* We merely cross the current forward vector (Vector3D.Forward) on the
* desiredForwardVector.
*/
axis=new Vector3D(-desiredForwardVector.Y,desiredForwardVector.X,0);angle=Math.Acos(MathHelper.Clamp(-desiredForwardVector.Z,-1.0,1.0));}else{/*
* Here we need to construct the target orientation matrix so that we
* can extract the error from it in axis-angle representation.
*/
leftVector=VectorMath.SafeNormalize(leftVector);Vector3D upVector=Vector3D.Cross(desiredForwardVector,leftVector);MatrixD targetOrientation=new MatrixD(){Forward=desiredForwardVector,Left=leftVector,Up=upVector,};axis=new Vector3D(targetOrientation.M32-targetOrientation.M23,targetOrientation.M13-targetOrientation.M31,targetOrientation.M21-targetOrientation.M12);double trace=targetOrientation.M11+targetOrientation.M22+targetOrientation.M33;angle=Math.Acos(MathHelper.Clamp((trace-1)*0.5,-1.0,1.0));}if(Vector3D.IsZero(axis)){/*
* Degenerate case where we get a zero axis. This means we are either
* exactly aligned or exactly anti-aligned. In the latter case, we just
* assume the yaw is PI to get us away from the singularity.
*/
angle=desiredForwardVector.Z&lt;0 ? 0:Math.PI;yaw=angle;pitch=0;roll=0;return;}Vector3D axisAngle=VectorMath.SafeNormalize(axis)*angle;yaw=axisAngle.Y;pitch=axisAngle.X;roll=axisAngle.Z;}/*
Whip's ApplyGyroOverride - Last modified: 2020/08/27

Takes pitch, yaw, and roll speeds relative to the gyro's backwards
ass rotation axes.
*/
void ApplyGyroOverride(double pitchSpeed,double yawSpeed,double rollSpeed,List&lt;IMyGyro&gt;gyroList,MatrixD worldMatrix){var rotationVec=new Vector3D(pitchSpeed,yawSpeed,rollSpeed);var relativeRotationVec=Vector3D.TransformNormal(rotationVec,worldMatrix);foreach(var thisGyro in gyroList){var transformedRotationVec=Vector3D.TransformNormal(relativeRotationVec,Matrix.Transpose(thisGyro.WorldMatrix));thisGyro.Pitch=(float)transformedRotationVec.X;thisGyro.Yaw=(float)transformedRotationVec.Y;thisGyro.Roll=(float)transformedRotationVec.Z;thisGyro.GyroOverride=true;}}
#region Scheduler
/// &lt;summary&gt;
/// Class for scheduling actions to occur at specific frequencies. Actions can be updated in parallel or in sequence (queued).
/// &lt;/summary&gt;
public class Scheduler{public double CurrentTimeSinceLastRun{get;private set;}=0;public long CurrentTicksSinceLastRun{get;private set;}=0;QueuedAction _currentlyQueuedAction=null;bool _firstRun=true;bool _inUpdate=false;readonly bool _ignoreFirstRun;readonly List&lt;ScheduledAction&gt;_actionsToAdd=new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt;_scheduledActions=new List&lt;ScheduledAction&gt;();readonly List&lt;ScheduledAction&gt;_actionsToDispose=new List&lt;ScheduledAction&gt;();readonly Queue&lt;QueuedAction&gt;_queuedActions=new Queue&lt;QueuedAction&gt;();readonly Program _program;public const long TicksPerSecond=60;public const double TickDurationSeconds=1.0/TicksPerSecond;const long ClockTicksPerGameTick=166666L;/// &lt;summary&gt;
/// Constructs a scheduler object with timing based on the runtime of the input program.
/// &lt;/summary&gt;
public Scheduler(Program program,bool ignoreFirstRun=false){_program=program;_ignoreFirstRun=ignoreFirstRun;}/// &lt;summary&gt;
/// Updates all ScheduledAcions in the schedule and the queue.
/// &lt;/summary&gt;
public void Update(){_inUpdate=true;long deltaTicks=Math.Max(0,_program.Runtime.TimeSinceLastRun.Ticks/ClockTicksPerGameTick);if(_firstRun){if(_ignoreFirstRun){deltaTicks=0;}_firstRun=false;}_actionsToDispose.Clear();foreach(ScheduledAction action in _scheduledActions){CurrentTicksSinceLastRun=action.TicksSinceLastRun+deltaTicks;CurrentTimeSinceLastRun=action.TimeSinceLastRun+deltaTicks*TickDurationSeconds;action.Update(deltaTicks);if(action.JustRan&amp;&amp;action.DisposeAfterRun){_actionsToDispose.Add(action);}}if(_actionsToDispose.Count&gt;0){_scheduledActions.RemoveAll((x)=&gt;_actionsToDispose.Contains(x));}if(_currentlyQueuedAction==null){// If queue is not empty, populate current queued action
if(_queuedActions.Count!=0)_currentlyQueuedAction=_queuedActions.Dequeue();}// If queued action is populated
if(_currentlyQueuedAction!=null){_currentlyQueuedAction.Update(deltaTicks);if(_currentlyQueuedAction.JustRan){if(!_currentlyQueuedAction.DisposeAfterRun){_queuedActions.Enqueue(_currentlyQueuedAction);}// Set the queued action to null for the next cycle
_currentlyQueuedAction=null;}}_inUpdate=false;if(_actionsToAdd.Count&gt;0){_scheduledActions.AddRange(_actionsToAdd);_actionsToAdd.Clear();}}/// &lt;summary&gt;
/// Adds an Action to the schedule. All actions are updated each update call.
/// &lt;/summary&gt;
public void AddScheduledAction(Action action,double updateFrequency,bool disposeAfterRun=false,double timeOffset=0){ScheduledAction scheduledAction=new ScheduledAction(action,updateFrequency,disposeAfterRun,timeOffset);if(!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}/// &lt;summary&gt;
/// Adds a ScheduledAction to the schedule. All actions are updated each update call.
/// &lt;/summary&gt;
public void AddScheduledAction(ScheduledAction scheduledAction){if(!_inUpdate)_scheduledActions.Add(scheduledAction);else _actionsToAdd.Add(scheduledAction);}/// &lt;summary&gt;
/// Adds an Action to the queue. Queue is FIFO.
/// &lt;/summary&gt;
public void AddQueuedAction(Action action,double updateInterval,bool removeAfterRun=false){if(updateInterval&lt;=0){updateInterval=0.001;// avoids divide by zero
}QueuedAction scheduledAction=new QueuedAction(action,updateInterval,removeAfterRun);_queuedActions.Enqueue(scheduledAction);}/// &lt;summary&gt;
/// Adds a ScheduledAction to the queue. Queue is FIFO.
/// &lt;/summary&gt;
public void AddQueuedAction(QueuedAction scheduledAction){_queuedActions.Enqueue(scheduledAction);}}public class QueuedAction:ScheduledAction{public QueuedAction(Action action,double runInterval,bool removeAfterRun=false):base(action,1.0/runInterval,removeAfterRun:removeAfterRun,timeOffset:0){}}public class ScheduledAction{public bool JustRan{get;private set;}=false;public bool DisposeAfterRun{get;private set;}=false;public double TimeSinceLastRun{get{return TicksSinceLastRun*Scheduler.TickDurationSeconds;}}public long TicksSinceLastRun{get;private set;}=0;public double RunInterval{get{return RunIntervalTicks*Scheduler.TickDurationSeconds;}set{RunIntervalTicks=(long)Math.Round(value*Scheduler.TicksPerSecond);}}public long RunIntervalTicks{get{return _runIntervalTicks;}set{if(value==_runIntervalTicks)return;_runIntervalTicks=value&lt;0 ? 0:value;_runFrequency=value==0 ? double.MaxValue:Scheduler.TicksPerSecond/_runIntervalTicks;}}public double RunFrequency{get{return _runFrequency;}set{if(value==_runFrequency)return;if(value==0)RunIntervalTicks=long.MaxValue;else RunIntervalTicks=(long)Math.Round(Scheduler.TicksPerSecond/value);}}long _runIntervalTicks;double _runFrequency;readonly Action _action;/// &lt;summary&gt;
/// Class for scheduling an action to occur at a specified frequency (in Hz).
/// &lt;/summary&gt;
/// &lt;param name="action"&gt;Action to run&lt;/param&gt;
/// &lt;param name="runFrequency"&gt;How often to run in Hz&lt;/param&gt;
public ScheduledAction(Action action,double runFrequency,bool removeAfterRun=false,double timeOffset=0){_action=action;RunFrequency=runFrequency;// Implicitly sets RunInterval
DisposeAfterRun=removeAfterRun;TicksSinceLastRun=(long)Math.Round(timeOffset*Scheduler.TicksPerSecond);}public void Update(long deltaTicks){TicksSinceLastRun+=deltaTicks;if(TicksSinceLastRun&gt;=RunIntervalTicks){_action.Invoke();TicksSinceLastRun=0;JustRan=true;}else{JustRan=false;}}}
#endregion
/// &lt;summary&gt;
/// Discrete time PID controller class.
/// Last edited: 2022/08/11 - Whiplash141
/// &lt;/summary&gt;
public class PID{public double Kp{get;set;}=0;public double Ki{get;set;}=0;public double Kd{get;set;}=0;public double Value{get;private set;}double _timeStep=0;double _inverseTimeStep=0;double _errorSum=0;double _lastError=0;bool _firstRun=true;public PID(double kp,double ki,double kd,double timeStep){Kp=kp;Ki=ki;Kd=kd;_timeStep=timeStep;_inverseTimeStep=1/_timeStep;}protected virtual double GetIntegral(double currentError,double errorSum,double timeStep){return errorSum+currentError*timeStep;}public double Control(double error){//Compute derivative term
double errorDerivative=(error-_lastError)*_inverseTimeStep;if(_firstRun){errorDerivative=0;_firstRun=false;}//Get error sum
_errorSum=GetIntegral(error,_errorSum,_timeStep);//Store this error as last error
_lastError=error;//Construct output
Value=Kp*error+Ki*_errorSum+Kd*errorDerivative;return Value;}public double Control(double error,double timeStep){if(timeStep!=_timeStep){_timeStep=timeStep;_inverseTimeStep=1/_timeStep;}return Control(error);}public virtual void Reset(){_errorSum=0;_lastError=0;_firstRun=true;}}/// &lt;summary&gt;
/// Class that tracks runtime history.
/// &lt;/summary&gt;
public class RuntimeTracker{public int Capacity{get;set;}public double Sensitivity{get;set;}public double MaxRuntime{get;private set;}public double MaxInstructions{get;private set;}public double AverageRuntime{get;private set;}public double AverageInstructions{get;private set;}public double LastRuntime{get;private set;}public double LastInstructions{get;private set;}readonly Queue&lt;double&gt;_runtimes=new Queue&lt;double&gt;();readonly Queue&lt;double&gt;_instructions=new Queue&lt;double&gt;();readonly int _instructionLimit;readonly Program _program;const double MS_PER_TICK=16.6666;const string Format="General Runtime Info\n" + "- Avg runtime: {0:n4} ms\n" + "- Last runtime: {1:n4} ms\n" + "- Max runtime: {2:n4} ms\n" + "- Avg instructions: {3:n2}\n" + "- Last instructions: {4:n0}\n" + "- Max instructions: {5:n0}\n" + "- Avg complexity: {6:0.000}%";public RuntimeTracker(Program program,int capacity=100,double sensitivity=0.005){_program=program;Capacity=capacity;Sensitivity=sensitivity;_instructionLimit=_program.Runtime.MaxInstructionCount;}public void AddRuntime(){double runtime=_program.Runtime.LastRunTimeMs;LastRuntime=runtime;AverageRuntime+=(Sensitivity*runtime);int roundedTicksSinceLastRuntime=(int)Math.Round(_program.Runtime.TimeSinceLastRun.TotalMilliseconds/MS_PER_TICK);if(roundedTicksSinceLastRuntime==1){AverageRuntime*=(1-Sensitivity);}else if(roundedTicksSinceLastRuntime&gt;1){AverageRuntime*=Math.Pow((1-Sensitivity),roundedTicksSinceLastRuntime);}_runtimes.Enqueue(runtime);if(_runtimes.Count==Capacity){_runtimes.Dequeue();}MaxRuntime=_runtimes.Max();}public void AddInstructions(){double instructions=_program.Runtime.CurrentInstructionCount;LastInstructions=instructions;AverageInstructions=Sensitivity*(instructions-AverageInstructions)+AverageInstructions;_instructions.Enqueue(instructions);if(_instructions.Count==Capacity){_instructions.Dequeue();}MaxInstructions=_instructions.Max();}public string Write(){return string.Format(Format,AverageRuntime,LastRuntime,MaxRuntime,AverageInstructions,LastInstructions,MaxInstructions,AverageInstructions/_instructionLimit);}}
#region Raycast Homing
class RaycastHoming{public TargetingStatus Status{get;private set;}=TargetingStatus.NotLocked;public Vector3D TargetPosition{get{return OffsetTargeting ? OffsetTargetPosition:TargetCenter;}}public double SearchScanSpread{get;set;}=0;public Vector3D TargetCenter{get;private set;}=Vector3D.Zero;public Vector3D OffsetTargetPosition{get;private set;}=Vector3D.Zero;public Vector3D TargetVelocity{get;private set;}=Vector3D.Zero;public Vector3D HitPosition{get;private set;}=Vector3D.Zero;public Vector3D PreciseModeOffset{get;private set;}=Vector3D.Zero;public bool OffsetTargeting=false;public bool MissedLastScan{get;private set;}=false;public bool LockLost{get;private set;}=false;public bool IsScanning{get;private set;}=false;public double TimeSinceLastLock{get;private set;}=0;public double TargetSize{get;private set;}=0;public double MaxRange{get;private set;}public double MinRange{get;private set;}public long TargetId{get;private set;}=0;public double AutoScanInterval{get;private set;}=0;public double MaxTimeForLockBreak{get;private set;}public MyRelationsBetweenPlayerAndBlock TargetRelation{get;private set;}public MyDetectedEntityType TargetType{get;private set;}public enum TargetingStatus{NotLocked,Locked,TooClose};enum AimMode{Center,Offset,OffsetRelative};AimMode _currentAimMode=AimMode.Center;readonly HashSet&lt;MyDetectedEntityType&gt;_targetFilter=new HashSet&lt;MyDetectedEntityType&gt;();readonly List&lt;IMyCameraBlock&gt;_availableCameras=new List&lt;IMyCameraBlock&gt;();readonly Random _rngeesus=new Random();MyDetectedEntityInfo _info=default(MyDetectedEntityInfo);MatrixD _targetOrientation;Vector3D _targetPositionOverride;HashSet&lt;long&gt;_gridIDsToIgnore=new HashSet&lt;long&gt;();double _timeSinceLastScan=0;bool _manualLockOverride=false;bool _fudgeVectorSwitch=false;double AutoScanScaleFactor{get{return MissedLastScan ? 0.8:1.1;}}public RaycastHoming(double maxRange,double maxTimeForLockBreak,double minRange=0,long gridIDToIgnore=0){MinRange=minRange;MaxRange=maxRange;MaxTimeForLockBreak=maxTimeForLockBreak;AddIgnoredGridID(gridIDToIgnore);}public void SetInitialLockParameters(Vector3D hitPosition,Vector3D targetVelocity,Vector3D offset,double timeSinceLastLock,long targetId){_targetPositionOverride=hitPosition;TargetCenter=hitPosition;HitPosition=hitPosition;OffsetTargetPosition=hitPosition;PreciseModeOffset=offset;TargetVelocity=targetVelocity;TimeSinceLastLock=timeSinceLastLock;_manualLockOverride=true;IsScanning=true;TargetId=targetId;}public void AddIgnoredGridID(long id){_gridIDsToIgnore.Add(id);}public void ClearIgnoredGridIDs(){_gridIDsToIgnore.Clear();}public void AddEntityTypeToFilter(params MyDetectedEntityType[]types){foreach(var type in types){_targetFilter.Add(type);}}public void AcknowledgeLockLost(){LockLost=false;}public void LockOn(){ClearLockInternal();LockLost=false;IsScanning=true;}public void ClearLock(){ClearLockInternal();LockLost=false;}void ClearLockInternal(){_info=default(MyDetectedEntityInfo);IsScanning=false;Status=TargetingStatus.NotLocked;MissedLastScan=false;TimeSinceLastLock=0;TargetSize=0;HitPosition=Vector3D.Zero;TargetId=0;_timeSinceLastScan=141;_currentAimMode=AimMode.Center;TargetRelation=MyRelationsBetweenPlayerAndBlock.NoOwnership;TargetType=MyDetectedEntityType.None;}double RndDbl(){return 2*_rngeesus.NextDouble()-1;}double GaussRnd(){return(RndDbl()+RndDbl()+RndDbl())/3.0;}Vector3D CalculateFudgeVector(Vector3D targetDirection,double fudgeFactor=5){_fudgeVectorSwitch=!_fudgeVectorSwitch;if(!_fudgeVectorSwitch)return Vector3D.Zero;var perpVector1=Vector3D.CalculatePerpendicularVector(targetDirection);var perpVector2=Vector3D.Cross(perpVector1,targetDirection);if(!Vector3D.IsUnit(ref perpVector2))perpVector2.Normalize();var randomVector=GaussRnd()*perpVector1+GaussRnd()*perpVector2;return randomVector*fudgeFactor*TimeSinceLastLock;}Vector3D GetSearchPos(Vector3D origin,Vector3D direction,IMyCameraBlock camera){Vector3D scanPos=origin+direction*MaxRange;if(SearchScanSpread&lt;1e-2){return scanPos;}return scanPos+(camera.WorldMatrix.Left*GaussRnd()+camera.WorldMatrix.Up*GaussRnd())*SearchScanSpread;}public void Update(double timeStep,List&lt;IMyCameraBlock&gt;cameraList,List&lt;IMyShipController&gt;shipControllers,IMyTerminalBlock referenceBlock=null){_timeSinceLastScan+=timeStep;if(!IsScanning)return;TimeSinceLastLock+=timeStep;_info=default(MyDetectedEntityInfo);_availableCameras.Clear();//Check for lock lost
if(TimeSinceLastLock&gt;(MaxTimeForLockBreak+AutoScanInterval)&amp;&amp;Status==TargetingStatus.Locked){LockLost=true;ClearLockInternal();return;}// Determine where to scan next
var scanPosition=Vector3D.Zero;switch(_currentAimMode){case AimMode.Offset:scanPosition=HitPosition+TargetVelocity*TimeSinceLastLock;break;case AimMode.OffsetRelative:scanPosition=OffsetTargetPosition+TargetVelocity*TimeSinceLastLock;break;default:scanPosition=TargetCenter+TargetVelocity*TimeSinceLastLock;break;}if(MissedLastScan&amp;&amp;cameraList.Count&gt;0){scanPosition+=CalculateFudgeVector(scanPosition-cameraList[0].GetPosition());}// Trim out cameras that cant see our next scan position
Vector3D testDirection=Vector3D.Zero;IMyTerminalBlock reference=null;if(Status==TargetingStatus.Locked||_manualLockOverride){GetAvailableCameras(cameraList,_availableCameras,scanPosition,true);}else{/*
* The following prioritizes references in the following hierarchy:
* 1. Currently used camera
* 2. Reference block
* 3. Currently used control seat
*/
if(reference==null)reference=GetControlledCamera(cameraList);if(reference==null)reference=referenceBlock;if(reference==null)reference=GetControlledShipController(shipControllers);if(reference!=null){testDirection=reference.WorldMatrix.Forward;GetAvailableCameras(cameraList,_availableCameras,testDirection);}else{_availableCameras.AddRange(cameraList);}}// Check for transition between faces
if(_availableCameras.Count==0){_timeSinceLastScan=100000;MissedLastScan=true;return;}var camera=GetCameraWithMaxRange(_availableCameras);var cameraMatrix=camera.WorldMatrix;double scanRange;Vector3D adjustedTargetPos=Vector3D.Zero;if(Status==TargetingStatus.Locked||_manualLockOverride){// We adjust the scan position to scan a bit past the target so we are more likely to hit if it is moving away
adjustedTargetPos=scanPosition+Vector3D.Normalize(scanPosition-cameraMatrix.Translation)*2*TargetSize;scanRange=(adjustedTargetPos-cameraMatrix.Translation).Length();}else{scanRange=MaxRange;}AutoScanInterval=scanRange/(1000.0*camera.RaycastTimeMultiplier)/_availableCameras.Count*AutoScanScaleFactor;//Attempt to scan adjusted target position
if(camera.AvailableScanRange&gt;=scanRange&amp;&amp;_timeSinceLastScan&gt;=AutoScanInterval){if(Status==TargetingStatus.Locked||_manualLockOverride)_info=camera.Raycast(adjustedTargetPos);else if(!Vector3D.IsZero(testDirection))_info=camera.Raycast(GetSearchPos(reference.GetPosition(),testDirection,camera));else _info=camera.Raycast(MaxRange);_timeSinceLastScan=0;}else // Not enough charge stored up yet
{return;}// Validate target and assign values
if(!_info.IsEmpty()&amp;&amp;!_targetFilter.Contains(_info.Type)&amp;&amp;!_gridIDsToIgnore.Contains(_info.EntityId))//target lock
{if(Vector3D.DistanceSquared(_info.Position,camera.GetPosition())&lt;MinRange*MinRange&amp;&amp;Status!=TargetingStatus.Locked){Status=TargetingStatus.TooClose;return;}else if(Status==TargetingStatus.Locked)// Target already locked
{if(_info.EntityId==TargetId){TargetCenter=_info.Position;HitPosition=_info.HitPosition.Value;_targetOrientation=_info.Orientation;OffsetTargetPosition=TargetCenter+Vector3D.TransformNormal(PreciseModeOffset,_targetOrientation);TargetVelocity=_info.Velocity;TargetSize=_info.BoundingBox.Size.Length();TimeSinceLastLock=0;_manualLockOverride=false;MissedLastScan=false;TargetRelation=_info.Relationship;TargetType=_info.Type;}else{MissedLastScan=true;}}else // Target not yet locked: initial lockon
{if(_manualLockOverride&amp;&amp;TargetId!=_info.EntityId)return;Status=TargetingStatus.Locked;TargetId=_info.EntityId;TargetCenter=_info.Position;HitPosition=_info.HitPosition.Value;TargetVelocity=_info.Velocity;TargetSize=_info.BoundingBox.Size.Length();TimeSinceLastLock=0;var aimingCamera=GetControlledCamera(_availableCameras);Vector3D hitPosOffset=Vector3D.Zero;if(aimingCamera!=null){hitPosOffset=aimingCamera.GetPosition()-camera.GetPosition();}else if(reference!=null){hitPosOffset=reference.GetPosition()-camera.GetPosition();}if(!Vector3D.IsZero(hitPosOffset)){hitPosOffset=VectorRejection(hitPosOffset,HitPosition-camera.GetPosition());}var hitPos=_info.HitPosition.Value+hitPosOffset;_targetOrientation=_info.Orientation;if(_manualLockOverride){_manualLockOverride=false;}else{PreciseModeOffset=Vector3D.TransformNormal(hitPos-TargetCenter,MatrixD.Transpose(_targetOrientation));OffsetTargetPosition=hitPos;}MissedLastScan=false;TargetRelation=_info.Relationship;TargetType=_info.Type;}}else{MissedLastScan=true;}if(MissedLastScan){_currentAimMode=(AimMode)((int)(_currentAimMode+1)%3);}}void GetAvailableCameras(List&lt;IMyCameraBlock&gt;allCameras,List&lt;IMyCameraBlock&gt;availableCameras,Vector3D testVector,bool vectorIsPosition=false){availableCameras.Clear();foreach(var c in allCameras){if(c.Closed)continue;if(TestCameraAngles(c,vectorIsPosition ? testVector-c.GetPosition():testVector))availableCameras.Add(c);}}bool TestCameraAngles(IMyCameraBlock camera,Vector3D direction){Vector3D local=Vector3D.Rotate(direction,MatrixD.Transpose(camera.WorldMatrix));if(local.Z&gt;0)return false;var yawTan=Math.Abs(local.X/local.Z);var localSq=local*local;var pitchTanSq=localSq.Y/(localSq.X+localSq.Z);return yawTan&lt;=1&amp;&amp;pitchTanSq&lt;=1;}IMyCameraBlock GetCameraWithMaxRange(List&lt;IMyCameraBlock&gt;cameras){double maxRange=0;IMyCameraBlock maxRangeCamera=null;foreach(var c in cameras){if(c.AvailableScanRange&gt;maxRange){maxRangeCamera=c;maxRange=maxRangeCamera.AvailableScanRange;}}return maxRangeCamera;}IMyCameraBlock GetControlledCamera(List&lt;IMyCameraBlock&gt;cameras){foreach(var c in cameras){if(c.Closed)continue;if(c.IsActive)return c;}return null;}IMyShipController GetControlledShipController(List&lt;IMyShipController&gt;controllers){if(controllers.Count==0)return null;IMyShipController mainController=null;IMyShipController controlled=null;foreach(var sc in controllers){if(sc.IsUnderControl&amp;&amp;sc.CanControlShip){if(controlled==null){controlled=sc;}if(sc.IsMainCockpit){mainController=sc;// Only one per grid so no null check needed
}}}if(mainController!=null)return mainController;if(controlled!=null)return controlled;return controllers[0];}public static Vector3D VectorRejection(Vector3D a,Vector3D b){if(Vector3D.IsZero(a)||Vector3D.IsZero(b))return Vector3D.Zero;return a-a.Dot(b)/b.LengthSquared()*b;}}
#endregion

#region MissileGuidanceBase
abstract class MissileGuidanceBase{protected double _deltaTime;protected double _updatesPerSecond;Vector3D? _lastVelocity;public MissileGuidanceBase(double updatesPerSecond){_updatesPerSecond=updatesPerSecond;_deltaTime=1.0/_updatesPerSecond;}public void ClearAcceleration(){_lastVelocity=null;}public Vector3D Update(Vector3D missilePosition,Vector3D missileVelocity,double missileAcceleration,Vector3D targetPosition,Vector3D targetVelocity,Vector3D? gravity=null){Vector3D targetAcceleration=Vector3D.Zero;if(_lastVelocity.HasValue)targetAcceleration=(targetVelocity-_lastVelocity.Value)*_updatesPerSecond;_lastVelocity=targetVelocity;Vector3D pointingVector=GetPointingVector(missilePosition,missileVelocity,missileAcceleration,targetPosition,targetVelocity,targetAcceleration);if(gravity.HasValue&amp;&amp;gravity.Value.LengthSquared()&gt;1e-3){pointingVector=GravityCompensation(missileAcceleration,pointingVector,gravity.Value);}return VectorMath.SafeNormalize(pointingVector);}public static Vector3D GravityCompensation(double missileAcceleration,Vector3D desiredDirection,Vector3D gravity){Vector3D directionNorm=VectorMath.SafeNormalize(desiredDirection);Vector3D gravityCompensationVec=-(VectorMath.Rejection(gravity,desiredDirection));double diffSq=missileAcceleration*missileAcceleration-gravityCompensationVec.LengthSquared();if(diffSq&lt;0)// Impossible to hover
{return desiredDirection-gravity;// We will sink, but at least approach the target.
}return directionNorm*Math.Sqrt(diffSq)+gravityCompensationVec;}protected abstract Vector3D GetPointingVector(Vector3D missilePosition,Vector3D missileVelocity,double missileAcceleration,Vector3D targetPosition,Vector3D targetVelocity,Vector3D targetAcceleration);}abstract class RelNavGuidance:MissileGuidanceBase{public double NavConstant;public double NavAccelConstant;public RelNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond){NavConstant=navConstant;NavAccelConstant=navAccelConstant;}abstract protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration);override protected Vector3D GetPointingVector(Vector3D missilePosition,Vector3D missileVelocity,double missileAcceleration,Vector3D targetPosition,Vector3D targetVelocity,Vector3D targetAcceleration){Vector3D missileToTarget=targetPosition-missilePosition;Vector3D missileToTargetNorm=Vector3D.Normalize(missileToTarget);Vector3D relativeVelocity=targetVelocity-missileVelocity;Vector3D lateralTargetAcceleration=(targetAcceleration-Vector3D.Dot(targetAcceleration,missileToTargetNorm)*missileToTargetNorm);Vector3D lateralAcceleration=GetLatax(missileToTarget,missileToTargetNorm,relativeVelocity,lateralTargetAcceleration);if(Vector3D.IsZero(lateralAcceleration))return missileToTarget;double diff=missileAcceleration*missileAcceleration-lateralAcceleration.LengthSquared();if(diff&lt;0)return lateralAcceleration;//fly parallel to the target
return lateralAcceleration+Math.Sqrt(diff)*missileToTargetNorm;}}/// &lt;summary&gt;
/// Whip's Proportional Navigation Intercept
/// Derived from: https://en.wikipedia.org/wiki/Proportional_navigation
/// And: http://www.moddb.com/members/blahdy/blogs/gamedev-introduction-to-proportional-navigation-part-i
/// And: http://www.dtic.mil/dtic/tr/fulltext/u2/a556639.pdf
/// And: http://nptel.ac.in/courses/101108054/module8/lecture22.pdf
/// &lt;/summary&gt;
class ProNavGuidance:RelNavGuidance{public ProNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond,navConstant,navAccelConstant){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){Vector3D omega=Vector3D.Cross(missileToTarget,relativeVelocity)/Math.Max(missileToTarget.LengthSquared(),1);//to combat instability at close range
return NavConstant*relativeVelocity.Length()*Vector3D.Cross(omega,missileToTargetNorm)+NavAccelConstant*lateralTargetAcceleration;}}class WhipNavGuidance:RelNavGuidance{public WhipNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond,navConstant,navAccelConstant){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){Vector3D parallelVelocity=relativeVelocity.Dot(missileToTargetNorm)*missileToTargetNorm;//bootleg vector projection
Vector3D normalVelocity=(relativeVelocity-parallelVelocity);return NavConstant*0.1*normalVelocity+NavAccelConstant*lateralTargetAcceleration;}}class HybridNavGuidance:RelNavGuidance{public HybridNavGuidance(double updatesPerSecond,double navConstant,double navAccelConstant=0):base(updatesPerSecond,navConstant,navAccelConstant){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){Vector3D omega=Vector3D.Cross(missileToTarget,relativeVelocity)/Math.Max(missileToTarget.LengthSquared(),1);//to combat instability at close range
Vector3D parallelVelocity=relativeVelocity.Dot(missileToTargetNorm)*missileToTargetNorm;//bootleg vector projection
Vector3D normalVelocity=(relativeVelocity-parallelVelocity);return NavConstant*(relativeVelocity.Length()*Vector3D.Cross(omega,missileToTargetNorm)+0.1*normalVelocity)+NavAccelConstant*lateralTargetAcceleration;}}/// &lt;summary&gt;
/// Zero Effort Miss Intercept
/// Derived from: https://doi.org/10.2514/1.26948
/// &lt;/summary&gt;
class ZeroEffortMissGuidance:RelNavGuidance{public ZeroEffortMissGuidance(double updatesPerSecond,double navConstant):base(updatesPerSecond,navConstant,0){}override protected Vector3D GetLatax(Vector3D missileToTarget,Vector3D missileToTargetNorm,Vector3D relativeVelocity,Vector3D lateralTargetAcceleration){double distToTarget=Vector3D.Dot(missileToTarget,missileToTargetNorm);double closingSpeed=Vector3D.Dot(relativeVelocity,missileToTargetNorm);// Equation (8) with sign modification to keep time positive and not NaN
double tau=distToTarget/Math.Max(1,Math.Abs(closingSpeed));// Equation (6)
Vector3D z=missileToTarget+relativeVelocity*tau;// Equation (7)
return NavConstant*z/(tau*tau)+NavAccelConstant*lateralTargetAcceleration;}}
#endregion
/// &lt;summary&gt;
/// A simple, generic circular buffer class with a variable capacity.
/// &lt;/summary&gt;
/// &lt;typeparam name="T"&gt;&lt;/typeparam&gt;
public class DynamicCircularBuffer&lt;T&gt;{public int Count{get{return _list.Count;}}List&lt;T&gt;_list=new List&lt;T&gt;();int _getIndex=0;/// &lt;summary&gt;
/// Adds an item to the buffer.
/// &lt;/summary&gt;
/// &lt;param name="item"&gt;&lt;/param&gt;
public void Add(T item){_list.Add(item);}/// &lt;summary&gt;
/// Clears the buffer.
/// &lt;/summary&gt;
public void Clear(){_list.Clear();_getIndex=0;}/// &lt;summary&gt;
/// Retrieves the current item in the buffer and increments the buffer index.
/// &lt;/summary&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public T MoveNext(){if(_list.Count==0)return default(T);T val=_list[_getIndex];_getIndex=++_getIndex%_list.Count;return val;}/// &lt;summary&gt;
/// Retrieves the current item in the buffer without incrementing the buffer index.
/// &lt;/summary&gt;
/// &lt;returns&gt;&lt;/returns&gt;
public T Peek(){if(_list.Count==0)return default(T);return _list[_getIndex];}}class BatesDistributionRandom{Random _rnd=new Random();readonly int _count;public BatesDistributionRandom(int count){if(count&lt;1){throw new Exception($"count must be greater than 1");}_count = count;}public double NextDouble(){double num = 0;for (int i = 0; i &lt; _count; ++i){num += _rnd.NextDouble();}return num / _count;}}public interface IConfigValue {void WriteToIni(MyIni ini);void ReadFromIni(MyIni ini);void Update(MyIni ini);}public abstract class ConfigValue&lt;T&gt; : IConfigValue {public T Value;public string Section { get; set; }public string Name { get; set; }T DefaultValue { get; }readonly string _comment;public static implicit operator T(ConfigValue&lt;T&gt; cfg){return cfg.Value;}public ConfigValue(string section, string name, T defaultValue, string comment){Section = section;Name = name;Value = defaultValue;DefaultValue = defaultValue;_comment = comment;}public override string ToString(){return Value.ToString();}public void Update(MyIni ini){ReadFromIni(ini);WriteToIni(ini);}public void WriteToIni(MyIni ini){ini.Set(Section, Name, this.ToString());if (!string.IsNullOrWhiteSpace(_comment)){ini.SetComment(Section, Name, _comment);}}protected abstract void SetValue(ref MyIniValue val);protected virtual void SetDefault(){Value = DefaultValue;}public void ReadFromIni(MyIni ini){MyIniValue val = ini.Get(Section, Name);if (!val.IsEmpty){SetValue(ref val);}else {SetDefault();}}}public class ConfigString : ConfigValue&lt;string&gt;{public ConfigString(string section, string name, string value = "",string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetString(out Value))SetDefault();}}public class ConfigDouble:ConfigValue&lt;double&gt;{public ConfigDouble(string section,string name,double value=0,string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetDouble(out Value))SetDefault();}}public class ConfigBool:ConfigValue&lt;bool&gt;{public ConfigBool(string section,string name,bool value=false,string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetBoolean(out Value))SetDefault();}}public class ConfigInt:ConfigValue&lt;int&gt;{public ConfigInt(string section,string name,int value=0,string comment=null):base(section,name,value,comment){}protected override void SetValue(ref MyIniValue val){if(!val.TryGetInt32(out Value))SetDefault();}}public class ConfigEnum&lt;TEnum&gt;:ConfigValue&lt;TEnum&gt;where TEnum:struct{public ConfigEnum(string section,string name,TEnum defaultValue=default(TEnum),string comment=null):base(section,name,defaultValue,comment){}protected override void SetValue(ref MyIniValue val){string antennaModeStr;if(!val.TryGetString(out antennaModeStr)||!Enum.TryParse(antennaModeStr,true,out Value)||!Enum.IsDefined(typeof(TEnum),Value)){SetDefault();}}}
#endregion
</Program>
              <Storage>89918296480217018
@0</Storage>
              <DefaultRunArgument>setup</DefaultRunArgument>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>140683853720276484</EntityId>
              <Min x="-1" y="4" z="-2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>88879691119419044</EntityId>
              <Min x="0" y="6" z="2" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Camera Underside</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>80622428754416871</EntityId>
              <Min x="0" y="4" z="-1" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>(Torpedo 2) Camera Top</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>7</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="5" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>140121574288396833</EntityId>
              <Min x="-1" y="6" z="-3" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>115402335766436146</EntityId>
              <Min x="-1" y="4" z="-3" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrust</SubtypeName>
              <EntityId>102991165568132545</EntityId>
              <Min x="-1" y="5" z="-4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Torpedo 2) Atmospheric Thruster 1</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrust</SubtypeName>
              <EntityId>118759137635360207</EntityId>
              <Min x="1" y="5" z="-4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Torpedo 2) Atmospheric Thruster 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Thrust">
              <SubtypeName>SmallBlockSmallAtmosphericThrust</SubtypeName>
              <EntityId>124305261947293232</EntityId>
              <Min x="0" y="4" z="-4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>(Torpedo 2) Atmospheric Thruster 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>false</Enabled>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorPanelLight</SubtypeName>
              <EntityId>74342554245362797</EntityId>
              <Min x="1" y="6" z="-1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorPanelLight</SubtypeName>
              <EntityId>83245930244529787</EntityId>
              <Min x="-1" y="6" z="-1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLightInv</SubtypeName>
              <EntityId>119764550857055140</EntityId>
              <Min x="-1" y="6" z="0" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideBasePanelLight</SubtypeName>
              <EntityId>143398204521317428</EntityId>
              <Min x="1" y="6" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>130793949587692652</EntityId>
              <Min x="0" y="6" z="0" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorPanelLight</SubtypeName>
              <EntityId>133735467328318549</EntityId>
              <Min x="0" y="6" z="-2" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>115758891098298727</EntityId>
              <Min x="-1" y="6" z="-2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>72556983366727371</EntityId>
              <Min x="1" y="6" z="-2" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>131642112853153248</EntityId>
              <Min x="0" y="6" z="-3" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>114201344505664266</EntityId>
              <Min x="1" y="6" z="-4" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>74835995746007848</EntityId>
              <Min x="-1" y="6" z="-4" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
              <Min x="-1" y="4" z="3" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCorner2Base</SubtypeName>
              <Min x="1" y="4" z="3" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopeCorner</SubtypeName>
              <Min x="-1" y="4" z="4" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopeCorner</SubtypeName>
              <Min x="1" y="4" z="4" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLightInv</SubtypeName>
              <EntityId>107995265569129024</EntityId>
              <Min x="-1" y="5" z="4" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmor2x1SlopedSideTipPanelLight</SubtypeName>
              <EntityId>118216220071621034</EntityId>
              <Min x="1" y="5" z="4" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.125" y="0.2" z="0.2" />
              <SkinSubtypeId>Hazard_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfSlopeArmorBlock</SubtypeName>
              <Min x="0" y="4" z="4" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="-0.35" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0107849538" y="-0.0113812238" z="0.09116873" />
          <AngularVelocity x="0.00216640159" y="-0.00197996967" z="-0.0005814719" />
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>Torpedo Fire Control</Name>
              <Blocks>
                <Vector3I>
                  <X>3</X>
                  <Y>4</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>-3</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Slaved Group</Name>
              <Blocks>
                <Vector3I>
                  <X>3</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Rear Torpedo TG</Name>
              <Blocks>
                <Vector3I>
                  <X>4</X>
                  <Y>4</Y>
                  <Z>-2</Z>
                </Vector3I>
                <Vector3I>
                  <X>-3</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>4</X>
                  <Y>4</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>-3</X>
                  <Y>3</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>3</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>4</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>3</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>3</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Torpedo Warheads</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>2</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Torpedo 2</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>-3</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>-3</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>-3</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>4</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>4</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>4</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>6</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>4</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>3</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>5</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>5</Y>
                  <Z>2</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>6</Y>
                  <Z>-1</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Small Grid 4227</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>102190952601651205</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>102190952601651205</Name>
          <PositionAndOrientation>
            <Position x="14.352214813232422" y="-20.811043739318848" z="-13.47813081741333" />
            <Forward x="0.497651517" y="-0.8411757" z="-0.211579919" />
            <Up x="0.0830414" y="0.2890154" z="-0.9537158" />
            <Orientation>
              <X>-0.5836946</X>
              <Y>-0.231323823</Y>
              <Z>0.1216262</Z>
              <W>0.7687633</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorRotor">
              <SubtypeName>SmallRotor</SubtypeName>
              <EntityId>96922108326829883</EntityId>
              <ParentEntityId>125773653934596552</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>SmallHinge</SubtypeName>
              <EntityId>78518237221582752</EntityId>
              <Min x="0" y="1" z="0" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0.122222222" y="-0.8" z="0.13" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>133315796873899531</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0</TargetVelocity>
              <MinAngle>0</MinAngle>
              <MaxAngle>0.17453292</MaxAngle>
              <CurrentAngle>0.190836713</CurrentAngle>
              <LimitsActive>false</LimitsActive>
              <RotorLock>true</RotorLock>
              <Torque>448000</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.01133753" y="0.0121970177" z="0.0263604522" />
          <AngularVelocity x="0.00161253859" y="-0.00118904188" z="-0.000149223139" />
          <DisplayName>Small Grid 4358</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>76271655204328020</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>76271655204328020</Name>
          <PositionAndOrientation>
            <Position x="13.098995208740234" y="-18.739752769470215" z="-12.844744682312012" />
            <Forward x="0.869593" y="0.446418583" z="0.210993528" />
            <Up x="0.08302376" y="0.2890341" z="-0.9537118" />
            <Orientation>
              <X>0.3298562</X>
              <Y>0.704763532</Y>
              <Z>-0.496666759</Z>
              <W>-0.384480655</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorRotor">
              <SubtypeName>SmallRotor</SubtypeName>
              <EntityId>142820201226869585</EntityId>
              <ParentEntityId>87303840366032818</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="1" z="0" />
              <ColorMaskHSV x="0.197222218" y="-0.66" z="0.55" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BatteryBlock">
              <SubtypeName>SmallBlockSmallBatteryBlock</SubtypeName>
              <EntityId>74524663652885208</EntityId>
              <Min x="0" y="2" z="0" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Small Battery</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <CurrentStoredPower>0.05</CurrentStoredPower>
              <ProducerEnabled>true</ProducerEnabled>
              <MaxStoredPower>0</MaxStoredPower>
              <SemiautoEnabled>false</SemiautoEnabled>
              <OnlyDischargeEnabled>false</OnlyDischargeEnabled>
              <ChargeMode>0</ChargeMode>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SoundBlock">
              <SubtypeName>SmallBlockSoundBlock</SubtypeName>
              <EntityId>118159784411175575</EntityId>
              <Min x="-1" y="5" z="0" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Robot Sound Block</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <Range>72.02263</Range>
              <Volume>1</Volume>
              <CueName />
              <LoopPeriod>2.83130026</LoopPeriod>
              <IsPlaying>false</IsPlaying>
              <ElapsedSoundSeconds>0</ElapsedSoundSeconds>
              <IsLoopableSound>true</IsLoopableSound>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockSmall</SubtypeName>
              <EntityId>123241368239737819</EntityId>
              <Min x="0" y="3" z="0" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Robot Timer 1</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Start</Action>
                      <BlockEntityId>101287202544268975</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>Reverse</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>123241368239737819</BlockEntityId>
                      <GroupName>Servos</GroupName>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>2</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>OnOff_On</Action>
                      <BlockEntityId>118159784411175575</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>3</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>PlaySound</Action>
                      <BlockEntityId>118159784411175575</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>6</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Reverse</Action>
                      <BlockEntityId>88292887336177512</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>7</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>OnOff_On</Action>
                      <BlockEntityId>120243765871143910</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>1000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>true</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockSmall</SubtypeName>
              <EntityId>101287202544268975</EntityId>
              <Min x="0" y="4" z="0" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Robot Timer 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>RotorLock</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>101287202544268975</BlockEntityId>
                      <GroupName>Servos</GroupName>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>OnOff_Off</Action>
                      <BlockEntityId>120243765871143910</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>2</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>StopSound</Action>
                      <BlockEntityId>118159784411175575</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>3</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>OnOff_Off</Action>
                      <BlockEntityId>118159784411175575</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>4000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="4" z="-1" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="4" z="1" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="5" z="0" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorStator">
              <SubtypeName>SmallStator</SubtypeName>
              <EntityId>129750513703398383</EntityId>
              <Min x="0" y="6" z="0" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Neck Rotor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>73598907790697837</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>-0.067365244</TargetVelocity>
              <MinAngle>-0.3671727</MinAngle>
              <MaxAngle>0.9584791</MaxAngle>
              <CurrentAngle>0.1907307</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <DummyDisplacement>-0.153042242</DummyDisplacement>
              <RotorLock>false</RotorLock>
              <Torque>57906.13</Torque>
              <BrakingTorque>82920.6641</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorStator">
              <SubtypeName>SmallStator</SubtypeName>
              <EntityId>129999575694960691</EntityId>
              <Min x="0" y="5" z="-2" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Arm Right Rotor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>95223908683303122</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0.0153858662</TargetVelocity>
              <MinAngle>-1.28291178</MinAngle>
              <MaxAngle>-0.349719375</MaxAngle>
              <CurrentAngle>-0.594825268</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <DummyDisplacement>-0.00438123941</DummyDisplacement>
              <RotorLock>false</RotorLock>
              <Torque>40437.7148</Torque>
              <BrakingTorque>82920.6641</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorStator">
              <SubtypeName>SmallStator</SubtypeName>
              <EntityId>90292032339207947</EntityId>
              <Min x="0" y="5" z="1" />
              <BlockOrientation Forward="Up" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Arm Left Rotor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>105314471850531843</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>-0.08857286</TargetVelocity>
              <MinAngle>-0.170942977</MinAngle>
              <MaxAngle>1.48175836</MaxAngle>
              <CurrentAngle>0.496270448</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <DummyDisplacement>-0.00666832924</DummyDisplacement>
              <RotorLock>false</RotorLock>
              <Torque>40437.7148</Torque>
              <BrakingTorque>82920.6641</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SensorBlock">
              <SubtypeName>SmallBlockSensor</SubtypeName>
              <EntityId>116470103468701029</EntityId>
              <Min x="1" y="5" z="0" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Robot Sensor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <FieldMin x="-5" y="-5" z="-5" />
              <FieldMax x="5" y="5" z="5" />
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Start</Action>
                      <BlockEntityId>123241368239737819</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <PlaySound>true</PlaySound>
              <DetectPlayers>true</DetectPlayers>
              <DetectFloatingObjects>false</DetectFloatingObjects>
              <DetectSmallShips>false</DetectSmallShips>
              <DetectLargeShips>false</DetectLargeShips>
              <DetectStations>false</DetectStations>
              <DetectSubgrids>false</DetectSubgrids>
              <IsActive>false</IsActive>
              <DetectAsteroids>false</DetectAsteroids>
              <DetectOwner>true</DetectOwner>
              <DetectFriendly>true</DetectFriendly>
              <DetectNeutral>true</DetectNeutral>
              <DetectEnemy>true</DetectEnemy>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockSmall</SubtypeName>
              <EntityId>98473108025608541</EntityId>
              <Min x="1" y="3" z="0" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Robot Timer Away</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Start</Action>
                      <BlockEntityId>98473108025608541</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Start</Action>
                      <BlockEntityId>123241368239737819</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>9000</Delay>
              <CurrentTime>2526</CurrentTime>
              <IsCountingDown>true</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="1" y="4" z="0" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="1" y="2" z="0" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="3" z="-1" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="2" z="1" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="1" y="2" z="1" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="3" z="1" />
              <BlockOrientation Forward="Down" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="3" z="1" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="3" z="-1" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="0" y="2" z="-1" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="1" y="2" z="-1" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="4" z="0" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-1" y="3" z="0" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>HalfArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="0" />
              <BlockOrientation Forward="Right" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="1" z="0" />
              <ColorMaskHSV x="0.197222218" y="-0.66" z="0.55" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="1" y="1" z="0" />
              <ColorMaskHSV x="0.197222218" y="-0.66" z="0.55" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="1" z="-1" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0.197222218" y="-0.66" z="0.55" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="1" z="-1" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0.197222218" y="-0.66" z="0.55" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="1" z="-1" />
              <ColorMaskHSV x="0.197222218" y="-0.66" z="0.55" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="0" y="1" z="1" />
              <ColorMaskHSV x="0.197222218" y="-0.66" z="0.55" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="1" y="1" z="1" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0.197222218" y="-0.66" z="0.55" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopeInverted</SubtypeName>
              <Min x="-1" y="1" z="1" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.197222218" y="-0.66" z="0.55" />
              <SkinSubtypeId>Retrofuture_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0123093538" y="0.0104711205" z="0.04676768" />
          <AngularVelocity x="0.004753378" y="0.0009250258" z="-0.00301590352" />
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>Servos</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>5</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>6</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Small Grid 3445</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>116535967896517203</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>116535967896517203</Name>
          <PositionAndOrientation>
            <Position x="-6.617919921875" y="15.565646171569824" z="-6.5538153648376465" />
            <Forward x="-0.510366738" y="0.8323432" z="0.216172278" />
            <Up x="-0.8563239" y="-0.468810141" z="-0.216624528" />
            <Orientation>
              <X>0.6336443</X>
              <Y>-0.4545119</Y>
              <Z>0.5769749</Z>
              <W>0.242927581</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>SmallHingeHead</SubtypeName>
              <EntityId>77165403708358943</EntityId>
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ParentEntityId>118906794255667460</ParentEntityId>
              <YieldLastComponent>true</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>88252842252422568</EntityId>
              <Min x="-1" y="0" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>111790753869317074</EntityId>
              <Min x="-1" y="0" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Small Cargo Container</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>120226084303375305</EntityId>
              <Min x="-1" y="1" z="0" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Small Cargo Container 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>113728117204335486</EntityId>
              <Min x="0" y="0" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>114434873023776983</EntityId>
              <Min x="-1" y="0" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>74079913770753615</EntityId>
              <Min x="1" y="0" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SmallGatlingGun">
              <SubtypeName>SmallBlockAutocannon</SubtypeName>
              <EntityId>103026856460141740</EntityId>
              <Min x="1" y="-1" z="-5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.072</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Autocannon</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>false</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <GunBase>
                <RemainingAmmo>16</RemainingAmmo>
                <CurrentAmmoMagazineName>AutocannonClip</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174944625512769</LastShootTime>
              </GunBase>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SmallGatlingGun">
              <SubtypeName>SmallBlockAutocannon</SubtypeName>
              <EntityId>112167332676219681</EntityId>
              <Min x="1" y="1" z="-5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.072</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Autocannon 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>false</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <GunBase>
                <RemainingAmmo>7</RemainingAmmo>
                <CurrentAmmoMagazineName>AutocannonClip</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174944625717954</LastShootTime>
              </GunBase>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SmallGatlingGun">
              <SubtypeName>SmallBlockAutocannon</SubtypeName>
              <EntityId>97225047178357807</EntityId>
              <Min x="-1" y="-1" z="-5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.072</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Autocannon 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>false</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <GunBase>
                <RemainingAmmo>5</RemainingAmmo>
                <CurrentAmmoMagazineName>AutocannonClip</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174944628195379</LastShootTime>
              </GunBase>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SmallGatlingGun">
              <SubtypeName>SmallBlockAutocannon</SubtypeName>
              <EntityId>135294720548523764</EntityId>
              <Min x="-1" y="1" z="-5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.072</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Autocannon 4</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>false</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <GunBase>
                <RemainingAmmo>13</RemainingAmmo>
                <CurrentAmmoMagazineName>AutocannonClip</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174944628013152</LastShootTime>
              </GunBase>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>72136111829141299</EntityId>
              <Min x="1" y="0" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>89038431031850842</EntityId>
              <Min x="1" y="1" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>108007059216303504</EntityId>
              <Min x="1" y="-1" z="0" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>122600767337620843</EntityId>
              <Min x="0" y="1" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>98292434593596370</EntityId>
              <Min x="0" y="-1" z="0" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>90110920838448428</EntityId>
              <Min x="0" y="1" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>104924020835448465</EntityId>
              <Min x="0" y="-1" z="-1" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>76963533399443784</EntityId>
              <Min x="0" y="-1" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Small Cargo Container 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>98635284255770948</EntityId>
              <Min x="0" y="1" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Small Cargo Container 4</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>134207219640166952</EntityId>
              <Min x="0" y="0" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Small Cargo Container 5</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>117486400638597157</EntityId>
              <Min x="-1" y="-1" z="0" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AA Small Cargo Container 6</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCornerInv</SubtypeName>
              <Min x="-1" y="1" z="1" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCornerInv</SubtypeName>
              <Min x="-1" y="-1" z="1" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TurretControlBlock">
              <SubtypeName>SmallTurretControlBlock</SubtypeName>
              <EntityId>142523398714069710</EntityId>
              <Min x="-1" y="0" z="-2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MySunTrackingComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_SunTrackingComponent">
                      <SunTrackingEnabled>false</SunTrackingEnabled>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Rear AATurret Controller</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <AzimuthId>80560946221724495</AzimuthId>
              <ElevationId>137467349800875158</ElevationId>
              <CameraId>98102554313763700</CameraId>
              <ToolIds>
                <long>135294720548523764</long>
                <long>97225047178357807</long>
                <long>112167332676219681</long>
                <long>103026856460141740</long>
              </ToolIds>
              <VelocityMultiplierAzimuth>0.3</VelocityMultiplierAzimuth>
              <VelocityMultiplierElevation>-0.3</VelocityMultiplierElevation>
              <PreviousControlledEntityId xsi:nil="true" />
              <IsCorrect>true</IsCorrect>
              <TargetingGroup />
              <AngleDeviation>0.087222</AngleDeviation>
              <DirectionBlockId>135180437710451185</DirectionBlockId>
              <AreWeaponsMismatched>false</AreWeaponsMismatched>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <AllowAI>true</AllowAI>
              <Flags>
                <TargetMeteors>false</TargetMeteors>
                <TargetCharacters>true</TargetCharacters>
              </Flags>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="0" y="1" z="-2" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="0" y="-1" z="-2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="1" y="0" z="-2" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="1" y="1" z="1" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="1" y="-1" z="1" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="0" z="1" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="1" z="-1" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="-1" z="-1" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="1" z="0" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="-1" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-2" y="1" z="-2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-2" y="-1" z="-2" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>98102554313763700</EntityId>
              <Min x="0" y="0" z="-3" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Rear AA Camera</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0124712437" y="-0.007414624" z="0.09318125" />
          <AngularVelocity x="-0.00320419017" y="-0.00365472259" z="-0.00106557366" />
          <ConveyorLines>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="0" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="-1" y="0" z="0" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="0" z="0" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="-1" y="0" z="1" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="0" z="0" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="-1" y="0" z="-1" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="1" z="0" />
              <StartDirection>Right</StartDirection>
              <EndPosition x="0" y="1" z="0" />
              <EndDirection>Left</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-1" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="1" z="-1" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-1" />
              <StartDirection>Right</StartDirection>
              <EndPosition x="1" y="0" z="-1" />
              <EndDirection>Left</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-1" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="-1" y="0" z="-1" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-1" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="-1" z="-1" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="0" z="-1" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="-1" y="1" z="-1" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="0" z="-1" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="-1" y="-1" z="-1" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="0" z="-1" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="1" y="1" z="-1" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="0" z="-1" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="1" y="0" z="0" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="0" z="-1" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="1" y="-1" z="-1" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="0" z="0" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="1" y="1" z="0" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="0" z="0" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="1" y="-1" z="0" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="1" z="0" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="0" y="1" z="0" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="-1" z="0" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="0" y="-1" z="0" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="0" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="1" z="1" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="0" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="1" z="-1" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="0" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="-1" z="1" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="0" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="-1" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="0" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="-1" y="-1" z="0" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
          </ConveyorLines>
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>AA Turrets</Name>
              <Blocks>
                <Vector3I>
                  <X>1</X>
                  <Y>-1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>-1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>0</Y>
                  <Z>-3</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>0</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>1</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>-1</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>0</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>-1</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>0</Y>
                  <Z>-2</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>AA Rear TG</Name>
              <Blocks>
                <Vector3I>
                  <X>1</X>
                  <Y>-1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>-1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>0</Y>
                  <Z>-3</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>0</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>1</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>-1</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>0</Y>
                  <Z>1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>-1</Y>
                  <Z>0</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>0</Y>
                  <Z>-2</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Slaved Group</Name>
              <Blocks>
                <Vector3I>
                  <X>-1</X>
                  <Y>0</Y>
                  <Z>-2</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Small Grid 746</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>124729504959951128</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>124729504959951128</Name>
          <PositionAndOrientation>
            <Position x="11.215061187744141" y="-12.430269241333008" z="-18.728282928466797" />
            <Forward x="0.483986318" y="-0.850355744" z="-0.206523955" />
            <Up x="0.8707192" y="0.444453716" z="0.210496336" />
            <Orientation>
              <X>-0.255839735</X>
              <Y>-0.5755728</Y>
              <Z>-0.460781038</Z>
              <W>0.6252542</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>SmallHingeHead</SubtypeName>
              <EntityId>106493473749395014</EntityId>
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <ParentEntityId>118362754873431036</ParentEntityId>
              <YieldLastComponent>true</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>110277082979673836</EntityId>
              <Min x="-1" y="0" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>78450037367591912</EntityId>
              <Min x="-1" y="0" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>110337497617150704</EntityId>
              <Min x="-1" y="1" z="0" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>89425751638596188</EntityId>
              <Min x="0" y="0" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>95074193313041623</EntityId>
              <Min x="-1" y="0" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>90541060655452067</EntityId>
              <Min x="1" y="0" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SmallGatlingGun">
              <SubtypeName>SmallBlockAutocannon</SubtypeName>
              <EntityId>79978749071480539</EntityId>
              <Min x="1" y="-1" z="-5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.072</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>AA Autocannon</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>false</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <GunBase>
                <RemainingAmmo>10</RemainingAmmo>
                <CurrentAmmoMagazineName>AutocannonClip</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174944617010773</LastShootTime>
              </GunBase>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SmallGatlingGun">
              <SubtypeName>SmallBlockAutocannon</SubtypeName>
              <EntityId>116873239478157598</EntityId>
              <Min x="1" y="1" z="-5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.072</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>AA Autocannon 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>false</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <GunBase>
                <RemainingAmmo>12</RemainingAmmo>
                <CurrentAmmoMagazineName>AutocannonClip</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174944615919566</LastShootTime>
              </GunBase>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SmallGatlingGun">
              <SubtypeName>SmallBlockAutocannon</SubtypeName>
              <EntityId>96113786793573141</EntityId>
              <Min x="-1" y="-1" z="-5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.072</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>AA Autocannon 3</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>false</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <GunBase>
                <RemainingAmmo>5</RemainingAmmo>
                <CurrentAmmoMagazineName>AutocannonClip</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174944616459922</LastShootTime>
              </GunBase>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_SmallGatlingGun">
              <SubtypeName>SmallBlockAutocannon</SubtypeName>
              <EntityId>143862346839897312</EntityId>
              <Min x="-1" y="1" z="-5" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.072</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>AA Autocannon 4</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <IsShooting>false</IsShooting>
              <IsShootingFromTerminal>false</IsShootingFromTerminal>
              <IsLargeTurret>false</IsLargeTurret>
              <MinFov>0.1</MinFov>
              <MaxFov>1.04719758</MaxFov>
              <GunBase>
                <RemainingAmmo>12</RemainingAmmo>
                <CurrentAmmoMagazineName>AutocannonClip</CurrentAmmoMagazineName>
                <RemainingAmmosList />
                <LastShootTime>638174944617525645</LastShootTime>
              </GunBase>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>103193254697487769</EntityId>
              <Min x="1" y="0" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>77898114853359087</EntityId>
              <Min x="1" y="1" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>101448434851496175</EntityId>
              <Min x="1" y="-1" z="0" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>135755816115360000</EntityId>
              <Min x="0" y="1" z="0" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>107160335071913538</EntityId>
              <Min x="0" y="-1" z="0" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>89260502179915724</EntityId>
              <Min x="0" y="1" z="-1" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_Conveyor">
              <SubtypeName>SmallBlockConveyor</SubtypeName>
              <EntityId>135561826386609695</EntityId>
              <Min x="0" y="-1" z="-1" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>108196200064749412</EntityId>
              <Min x="0" y="-1" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>119990557680762603</EntityId>
              <Min x="0" y="1" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>103930793999851076</EntityId>
              <Min x="0" y="0" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CargoContainer">
              <SubtypeName>SmallBlockSmallContainer</SubtypeName>
              <EntityId>89958114373901972</EntityId>
              <Min x="-1" y="-1" z="0" />
              <BlockOrientation Forward="Right" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyInventoryBase</TypeId>
                    <Component xsi:type="MyObjectBuilder_Inventory">
                      <Items />
                      <nextItemId>0</nextItemId>
                      <Volume>0.125</Volume>
                      <Mass>9223372036854.775807</Mass>
                      <MaxItemCount>2147483647</MaxItemCount>
                      <Size xsi:nil="true" />
                      <InventoryFlags>CanReceive CanSend</InventoryFlags>
                      <RemoveEntityOnEmpty>false</RemoveEntityOnEmpty>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>6</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCornerInv</SubtypeName>
              <Min x="-1" y="1" z="1" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorCornerInv</SubtypeName>
              <Min x="-1" y="-1" z="1" />
              <BlockOrientation Forward="Down" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TurretControlBlock">
              <SubtypeName>SmallTurretControlBlock</SubtypeName>
              <EntityId>115289071368391236</EntityId>
              <Min x="-1" y="0" z="-2" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MySunTrackingComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_SunTrackingComponent">
                      <SunTrackingEnabled>false</SunTrackingEnabled>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyTimerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_TimerComponent">
                      <Repeat>true</Repeat>
                      <TimeToEvent>0</TimeToEvent>
                      <SetTimeMinutes>0</SetTimeMinutes>
                      <TimerEnabled>false</TimerEnabled>
                      <RemoveEntityOnTimer>false</RemoveEntityOnTimer>
                      <TimerType>Frame100</TimerType>
                      <FramesFromLastTrigger>0</FramesFromLastTrigger>
                      <TimerTickInFrames>100</TimerTickInFrames>
                      <IsSessionUpdateEnabled>false</IsSessionUpdateEnabled>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>AATurret Controller</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <AzimuthId>72540818361891437</AzimuthId>
              <ElevationId>116323768966998470</ElevationId>
              <CameraId>97521349001495974</CameraId>
              <ToolIds>
                <long>143862346839897312</long>
                <long>96113786793573141</long>
                <long>116873239478157598</long>
                <long>79978749071480539</long>
              </ToolIds>
              <VelocityMultiplierAzimuth>0.3</VelocityMultiplierAzimuth>
              <VelocityMultiplierElevation>-0.3</VelocityMultiplierElevation>
              <PreviousControlledEntityId xsi:nil="true" />
              <IsCorrect>true</IsCorrect>
              <TargetingGroup />
              <AngleDeviation>0.087222</AngleDeviation>
              <DirectionBlockId>88278165787868134</DirectionBlockId>
              <AreWeaponsMismatched>false</AreWeaponsMismatched>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <AllowAI>true</AllowAI>
              <Flags>
                <TargetMeteors>false</TargetMeteors>
                <TargetCharacters>false</TargetCharacters>
              </Flags>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="0" y="1" z="-2" />
              <BlockOrientation Forward="Down" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="0" y="-1" z="-2" />
              <BlockOrientation Forward="Backward" Up="Down" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="1" y="0" z="-2" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="1" y="1" z="1" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="1" y="-1" z="1" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="0" z="1" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="1" z="-1" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="-1" z="-1" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="1" z="0" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorHalfSlopedCornerBase</SubtypeName>
              <Min x="-2" y="-1" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-2" y="1" z="-2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlopedCornerTip</SubtypeName>
              <Min x="-2" y="-1" z="-2" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraBlock</SubtypeName>
              <EntityId>97521349001495974</EntityId>
              <Min x="0" y="0" z="-3" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>AA Camera</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>1.04719758</Fov>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0113425106" y="0.0292435065" z="0.0355020761" />
          <AngularVelocity x="0.008852101" y="0.00272142328" z="0.001644389" />
          <ConveyorLines>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="0" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="-1" y="0" z="0" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="0" z="0" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="-1" y="0" z="1" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="0" z="0" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="-1" y="0" z="-1" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="1" z="0" />
              <StartDirection>Right</StartDirection>
              <EndPosition x="0" y="1" z="0" />
              <EndDirection>Left</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-1" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="0" y="1" z="-1" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-1" />
              <StartDirection>Right</StartDirection>
              <EndPosition x="1" y="0" z="-1" />
              <EndDirection>Left</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-1" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="-1" y="0" z="-1" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="0" z="-1" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="0" y="-1" z="-1" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="0" z="-1" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="-1" y="1" z="-1" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="-1" y="0" z="-1" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="-1" y="-1" z="-1" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="0" z="-1" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="1" y="1" z="-1" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="0" z="-1" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="1" y="0" z="0" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="0" z="-1" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="1" y="-1" z="-1" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="0" z="0" />
              <StartDirection>Up</StartDirection>
              <EndPosition x="1" y="1" z="0" />
              <EndDirection>Down</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="0" z="0" />
              <StartDirection>Down</StartDirection>
              <EndPosition x="1" y="-1" z="0" />
              <EndDirection>Up</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="1" z="0" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="0" y="1" z="0" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="1" y="-1" z="0" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="0" y="-1" z="0" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="0" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="1" z="1" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="1" z="0" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="1" z="-1" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="0" />
              <StartDirection>Backward</StartDirection>
              <EndPosition x="0" y="-1" z="1" />
              <EndDirection>Forward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="0" />
              <StartDirection>Forward</StartDirection>
              <EndPosition x="0" y="-1" z="-1" />
              <EndDirection>Backward</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
            <MyObjectBuilder_ConveyorLine>
              <StartPosition x="0" y="-1" z="0" />
              <StartDirection>Left</StartDirection>
              <EndPosition x="-1" y="-1" z="0" />
              <EndDirection>Right</EndDirection>
              <Sections />
              <ConveyorLineType>SMALL_LINE</ConveyorLineType>
            </MyObjectBuilder_ConveyorLine>
          </ConveyorLines>
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>AA Turrets</Name>
              <Blocks>
                <Vector3I>
                  <X>1</X>
                  <Y>-1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>-1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>0</Y>
                  <Z>-3</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>0</Y>
                  <Z>-2</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>AA Front TG</Name>
              <Blocks>
                <Vector3I>
                  <X>1</X>
                  <Y>-1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>1</X>
                  <Y>1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>-1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>1</Y>
                  <Z>-1</Z>
                </Vector3I>
                <Vector3I>
                  <X>0</X>
                  <Y>0</Y>
                  <Z>-3</Z>
                </Vector3I>
                <Vector3I>
                  <X>-1</X>
                  <Y>0</Y>
                  <Z>-2</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Slaved Group</Name>
              <Blocks>
                <Vector3I>
                  <X>-1</X>
                  <Y>0</Y>
                  <Z>-2</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Small Grid 746</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>120814371550439131</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>120814371550439131</Name>
          <PositionAndOrientation>
            <Position x="6.6827926635742188" y="-2.4468171373009682" z="-21.781311988830566" />
            <Forward x="0.871611238" y="0.442887425" z="0.210105836" />
            <Up x="0.08303335" y="0.28903" z="-0.9537122" />
            <Orientation>
              <X>0.3308934</X>
              <Y>0.703961968</Y>
              <Z>-0.495978415</Z>
              <W>-0.385943681</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorRotor">
              <SubtypeName>SmallRotor</SubtypeName>
              <EntityId>92262572848001619</EntityId>
              <ParentEntityId>116766566466557815</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorStator">
              <SubtypeName>SmallStator</SubtypeName>
              <EntityId>131753903041846483</EntityId>
              <Min x="0" y="1" z="0" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value>[TCES - Rotor]
Rest angle (deg)=0
Enable stabilization=True

[Turret Slaver - Rotor Config]
Use manual rest angle=false
Manual rest angle (deg)=0
</Value>
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Targeting Camera Elevation Rotor</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>87209376432063902</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>0</TargetVelocity>
              <MinAngle xsi:nil="true" />
              <MaxAngle xsi:nil="true" />
              <CurrentAngle>6.2667613</CurrentAngle>
              <LimitsActive>false</LimitsActive>
              <DummyDisplacement>0.0199999958</DummyDisplacement>
              <RotorLock>false</RotorLock>
              <Torque>448000</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="1" y="1" z="0" />
              <BlockOrientation Forward="Up" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="0" y="1" z="-1" />
              <BlockOrientation Forward="Up" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="-1" y="1" z="0" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorPanelLight</SubtypeName>
              <EntityId>102730558190211390</EntityId>
              <Min x="0" y="2" z="0" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>125251946121669700</EntityId>
              <Min x="-1" y="2" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>116348751828752196</EntityId>
              <Min x="0" y="2" z="-1" />
              <BlockOrientation Forward="Left" Up="Forward" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallArmorHalfPanelLight</SubtypeName>
              <EntityId>139992314869398556</EntityId>
              <Min x="1" y="2" z="0" />
              <BlockOrientation Forward="Forward" Up="Right" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.009589616" y="0.0241298825" z="0.08622417" />
          <AngularVelocity x="0.00367280655" y="-0.00274887565" z="-0.0005530945" />
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>Targeting Camera TG</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Small Grid 8776</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>139433423897357840</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>139433423897357840</Name>
          <PositionAndOrientation>
            <Position x="14.39373779296875" y="-20.66652774810791" z="-13.955024719238281" />
            <Forward x="0.4728652" y="-0.880726" z="-0.02683723" />
            <Up x="0.8633933" y="0.457047969" z="0.213680148" />
            <Orientation>
              <X>-0.291627765</X>
              <Y>-0.6336676</Y>
              <Z>-0.431774527</Z>
              <W>0.571829855</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>SmallHingeHead</SubtypeName>
              <EntityId>133315796873899531</EntityId>
              <ParentEntityId>106753900774833113</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="0" z="0" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockReskinSmall</SubtypeName>
              <EntityId>84566969128343353</EntityId>
              <Min x="-1" y="1" z="0" />
              <BlockOrientation Forward="Left" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value />
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>TB - Torpedo Welders Off</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>3</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>OnOff_Off</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>84566969128343353</BlockEntityId>
                      <GroupName>Torpedo Rearming</GroupName>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>OnOff_Off</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>84566969128343353</BlockEntityId>
                      <GroupName>Torpedo 2 Rearming</GroupName>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>1000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="2" z="0" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockReskinSmall</SubtypeName>
              <EntityId>91677039597735307</EntityId>
              <Min x="-1" y="-1" z="0" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>TB - Camera Idle</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>4</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TriggerNow</Action>
                      <BlockEntityId>84566969128343353</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>TriggerNow</Action>
                      <BlockEntityId>116820698643946519</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>3000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorBlock</SubtypeName>
              <Min x="-1" y="-2" z="0" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockReskinSmall</SubtypeName>
              <EntityId>126221754652374345</EntityId>
              <Min x="-2" y="0" z="0" />
              <BlockOrientation Forward="Right" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>5</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <Delay>10000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
              <SubtypeName>SmallProgrammableBlockReskin</SubtypeName>
              <EntityId>102076347368568243</EntityId>
              <Min x="-2" y="-1" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <SelectedImages>
                    <string>LCD_Economy_Graph_4</string>
                  </SelectedImages>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>TEXT_AND_IMAGE</ContentType>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <Storage />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MyProgrammableBlock">
              <SubtypeName>SmallProgrammableBlockReskin</SubtypeName>
              <EntityId>83289943055216698</EntityId>
              <Min x="-2" y="1" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <SelectedImages>
                    <string>LCD_Economy_Charts</string>
                  </SelectedImages>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>TEXT_AND_IMAGE</ContentType>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
              <Storage />
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockReskinSmall</SubtypeName>
              <EntityId>133470386706944023</EntityId>
              <Min x="-2" y="-2" z="0" />
              <BlockOrientation Forward="Backward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>TB - Camera Aligned</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Start</Action>
                      <BlockEntityId>132789918644432167</BlockEntityId>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalBlock">
                      <Action>Start</Action>
                      <BlockEntityId>104432751793982608</BlockEntityId>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>3000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TimerBlock">
              <SubtypeName>TimerBlockReskinSmall</SubtypeName>
              <EntityId>132789918644432167</EntityId>
              <Min x="-2" y="2" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>TB - Torpedo Welders On</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots>
                  <Slot>
                    <Index>0</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>OnOff</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>132789918644432167</BlockEntityId>
                      <GroupName>Torpedo Rearming</GroupName>
                    </Data>
                  </Slot>
                  <Slot>
                    <Index>1</Index>
                    <Item />
                    <Data xsi:type="MyObjectBuilder_ToolbarItemTerminalGroup">
                      <Action>OnOff</Action>
                      <GridEntityId>0</GridEntityId>
                      <BlockEntityId>132789918644432167</BlockEntityId>
                      <GroupName>Torpedo 2 Rearming</GroupName>
                    </Data>
                  </Slot>
                </Slots>
                <SlotsGamepad />
              </Toolbar>
              <Delay>1000</Delay>
              <CurrentTime>0</CurrentTime>
              <IsCountingDown>false</IsCountingDown>
              <Silent>false</Silent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_EventControllerBlock">
              <SubtypeName>EventControllerSmall</SubtypeName>
              <EntityId>129919801714700048</EntityId>
              <Min x="-3" y="-1" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyEventAngleChanged</TypeId>
                    <Component xsi:type="MyObjectBuilder_EventAngleChanged">
                      <Angle>0</Angle>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyEventSurfaceHeight</TypeId>
                    <Component xsi:type="MyObjectBuilder_EventSurfaceHeight">
                      <Height>1</Height>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyEventGridSpeedChanged</TypeId>
                    <Component xsi:type="MyObjectBuilder_EventGridSpeedChanged">
                      <Speed>100</Speed>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyEventNaturalGravityChanged</TypeId>
                    <Component xsi:type="MyObjectBuilder_EventNaturalGravityChanged">
                      <Gravity>1</Gravity>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyEventDistanceToLockedTarget</TypeId>
                    <Component xsi:type="MyObjectBuilder_EventDistanceToLockedTarget">
                      <DistanceToLockedTarget>2500</DistanceToLockedTarget>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <Threshold>0</Threshold>
              <ANDGate>false</ANDGate>
              <SelectedEvent>1</SelectedEvent>
              <SelectedBlocks />
              <ConditionInvert>false</ConditionInvert>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_EventControllerBlock">
              <SubtypeName>EventControllerSmall</SubtypeName>
              <EntityId>143348272275280686</EntityId>
              <Min x="-3" y="1" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyEventAngleChanged</TypeId>
                    <Component xsi:type="MyObjectBuilder_EventAngleChanged">
                      <Angle>0</Angle>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyEventSurfaceHeight</TypeId>
                    <Component xsi:type="MyObjectBuilder_EventSurfaceHeight">
                      <Height>1</Height>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyEventGridSpeedChanged</TypeId>
                    <Component xsi:type="MyObjectBuilder_EventGridSpeedChanged">
                      <Speed>100</Speed>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyEventNaturalGravityChanged</TypeId>
                    <Component xsi:type="MyObjectBuilder_EventNaturalGravityChanged">
                      <Gravity>1</Gravity>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyEventDistanceToLockedTarget</TypeId>
                    <Component xsi:type="MyObjectBuilder_EventDistanceToLockedTarget">
                      <DistanceToLockedTarget>2500</DistanceToLockedTarget>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
              <Enabled>true</Enabled>
              <Toolbar>
                <ToolbarType>Character</ToolbarType>
                <SelectedSlot xsi:nil="true" />
                <Slots />
                <SlotsGamepad />
              </Toolbar>
              <Threshold>0</Threshold>
              <ANDGate>false</ANDGate>
              <SelectedEvent>1</SelectedEvent>
              <SelectedBlocks />
              <ConditionInvert>false</ConditionInvert>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="-3" y="-2" z="0" />
              <BlockOrientation Forward="Up" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="-3" y="2" z="0" />
              <BlockOrientation Forward="Down" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TerminalBlock">
              <SubtypeName>SmallBlockAccessPanel3</SubtypeName>
              <EntityId>134859795623622125</EntityId>
              <Min x="-1" y="1" z="1" />
              <BlockOrientation Forward="Forward" Up="Down" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyMaintenancePanelComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_MaintenancePanelComponent">
                      <Open>false</Open>
                      <SubpartName>MaintenancePanel3Subpart</SubpartName>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>2</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_TerminalBlock">
              <SubtypeName>SmallBlockAccessPanel2</SubtypeName>
              <EntityId>83745265591784462</EntityId>
              <Min x="-1" y="-1" z="1" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyMaintenancePanelComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_MaintenancePanelComponent">
                      <Open>false</Open>
                      <SubpartName>MaintenancePanel2Subpart</SubpartName>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_BasicMissionBlock">
              <SubtypeName>SmallBasicMission</SubtypeName>
              <EntityId>111282840852247454</EntityId>
              <Min x="-3" y="0" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyBasicMissionFollowHome</TypeId>
                    <Component xsi:type="MyObjectBuilder_BasicMissionFollowHome">
                      <MinRange>0</MinRange>
                      <MaxRange>1</MaxRange>
                      <IsWanderEnabled>false</IsWanderEnabled>
                      <SelectedBeaconEntityId>0</SelectedBeaconEntityId>
                      <HomePosition>
                        <X>0</X>
                        <Y>0</Y>
                        <Z>0</Z>
                      </HomePosition>
                      <SelectedGpsHash xsi:nil="true" />
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyBasicMissionFollowPlayer</TypeId>
                    <Component xsi:type="MyObjectBuilder_BasicMissionFollowPlayer">
                      <IsFollowing>false</IsFollowing>
                      <FollowDistance>20</FollowDistance>
                      <FollowedPlayerIdentityId>0</FollowedPlayerIdentityId>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyBasicMissionAutopilot</TypeId>
                    <Component xsi:type="MyObjectBuilder_BasicMissionAutopilot">
                      <Mode>0</Mode>
                    </Component>
                  </ComponentData>
                  <ComponentData>
                    <TypeId>MyAiBlockComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_AiBlockComponent">
                      <IsActivated>false</IsActivated>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <SelectedMission>1</SelectedMission>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="0" y="1" z="0" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="0" y="2" z="0" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="0" y="-1" z="0" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope</SubtypeName>
              <Min x="0" y="-2" z="0" />
              <BlockOrientation Forward="Backward" Up="Right" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="-2" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="-1" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="0" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="1" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="2" z="1" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="0" y="-2" z="2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="0" y="-1" z="2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="0" y="0" z="2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="0" y="1" z="2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Tip</SubtypeName>
              <Min x="0" y="2" z="2" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.48" z="-0.25" />
              <SkinSubtypeId>Neon_Colorable_Surface</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.009641264" y="0.0165529512" z="0.0177021027" />
          <AngularVelocity x="0.00176810566" y="-8.658279E-05" z="0.000257719861" />
          <DisplayName>Small Grid 1703</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>101514354253334883</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>101514354253334883</Name>
          <PositionAndOrientation>
            <Position x="13.338390350341797" y="-17.906159400939941" z="-15.595202445983887" />
            <Forward x="0.7615062" y="0.5987167" z="0.248286843" />
            <Up x="0.08334306" y="0.289437" z="-0.9535617" />
            <Orientation>
              <X>0.2811019</X>
              <Y>0.7383259</Y>
              <Z>-0.5256075</Z>
              <W>-0.315584064</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorRotor">
              <SubtypeName>SmallRotor</SubtypeName>
              <EntityId>73598907790697837</EntityId>
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ParentEntityId>92571989724106383</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_EmotionControllerBlock">
              <SubtypeName>EmotionControllerSmall</SubtypeName>
              <EntityId>100999089500322287</EntityId>
              <Min x="0" y="1" z="0" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyEmotionControllerComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_EmotionControllerComponent">
                      <SelectedLCDsIds>
                        <long>100999089500322287</long>
                      </SelectedLCDsIds>
                      <SelectedEmotionSubtype>LCD_Emote_Evil</SelectedEmotionSubtype>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TextPanelsNew>
                <MySerializedTextPanelData>
                  <ChangeInterval>0</ChangeInterval>
                  <SelectedImages>
                    <string>LCD_Emote_Evil</string>
                  </SelectedImages>
                  <Font Type="MyObjectBuilder_FontDefinition" Subtype="Debug" />
                  <FontSize>1</FontSize>
                  <ShowText>NONE</ShowText>
                  <FontColor>
                    <PackedValue>4294967295</PackedValue>
                    <X>255</X>
                    <Y>255</Y>
                    <Z>255</Z>
                    <R>255</R>
                    <G>255</G>
                    <B>255</B>
                    <A>255</A>
                  </FontColor>
                  <BackgroundColor>
                    <PackedValue>4278190080</PackedValue>
                    <X>0</X>
                    <Y>0</Y>
                    <Z>0</Z>
                    <R>0</R>
                    <G>0</G>
                    <B>0</B>
                    <A>255</A>
                  </BackgroundColor>
                  <CurrentShownTexture>0</CurrentShownTexture>
                  <ContentType>TEXT_AND_IMAGE</ContentType>
                  <SelectedScript />
                  <TextPadding>2</TextPadding>
                  <ScriptBackgroundColor>
                    <PackedValue>4288108544</PackedValue>
                    <X>0</X>
                    <Y>88</Y>
                    <Z>151</Z>
                    <R>0</R>
                    <G>88</G>
                    <B>151</B>
                    <A>255</A>
                  </ScriptBackgroundColor>
                  <ScriptForegroundColor>
                    <PackedValue>4294962611</PackedValue>
                    <X>179</X>
                    <Y>237</Y>
                    <Z>255</Z>
                    <R>179</R>
                    <G>237</G>
                    <B>255</B>
                    <A>255</A>
                  </ScriptForegroundColor>
                  <Sprites>
                    <Length>0</Length>
                  </Sprites>
                </MySerializedTextPanelData>
              </TextPanelsNew>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0118131377" y="0.018398691" z="0.0489492565" />
          <AngularVelocity x="0.0408843" y="0.122661807" z="-0.406381875" />
          <DisplayName>Small Grid 9992</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>126582754857983119</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>126582754857983119</Name>
          <PositionAndOrientation>
            <Position x="13.768878936767578" y="-17.779773712158203" z="-15.116960048675537" />
            <Forward x="0.204025" y="-0.713920832" z="0.6698434" />
            <Up x="0.8695875" y="0.446445823" z="0.21095863" />
            <Orientation>
              <X>0.4398128</X>
              <Y>0.800928533</Y>
              <Z>0.288689882</Z>
              <W>-0.2858957</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorRotor">
              <SubtypeName>SmallRotor</SubtypeName>
              <EntityId>95223908683303122</EntityId>
              <ColorMaskHSV x="0.6527778" y="-0.39" z="0.28" />
              <SkinSubtypeId>SciFi_Armor</SkinSubtypeId>
              <ParentEntityId>93786463483302144</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="1" z="0" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>SmallHinge</SubtypeName>
              <EntityId>102606074173076009</EntityId>
              <Min x="0" y="1" z="-1" />
              <BlockOrientation Forward="Right" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Robot Hinge 2</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>116370385408226858</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>-0.192115724</TargetVelocity>
              <MinAngle>-1.57079637</MinAngle>
              <MaxAngle>-0.6610303</MaxAngle>
              <CurrentAngle>-1.5756129</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <RotorLock>false</RotorLock>
              <Torque>448000</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.010073252" y="0.0234745517" z="0.05021149" />
          <AngularVelocity x="-0.07477842" y="-0.008351611" z="-0.0189636648" />
          <DisplayName>Small Grid 1760</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>129518316101785515</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>129518316101785515</Name>
          <PositionAndOrientation>
            <Position x="12.846225738525391" y="-18.253439903259277" z="-15.340838432312012" />
            <Forward x="-0.1587505" y="0.657398343" z="-0.7366313" />
            <Up x="-0.8695769" y="-0.446438551" z="-0.2110177" />
            <Orientation>
              <X>0.246081263</X>
              <Y>-0.266699</Y>
              <Z>0.8140414</Z>
              <W>0.453489035</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorRotor">
              <SubtypeName>SmallRotor</SubtypeName>
              <EntityId>105314471850531843</EntityId>
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ParentEntityId>135488925063118563</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CubeBlock">
              <SubtypeName>SmallBlockArmorSlope2Base</SubtypeName>
              <Min x="0" y="1" z="0" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedStator">
              <SubtypeName>SmallHinge</SubtypeName>
              <EntityId>88292887336177512</EntityId>
              <Min x="0" y="1" z="1" />
              <BlockOrientation Forward="Left" Up="Up" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <CustomName>Robot Hinge 1</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <TopBlockId>94646347665680077</TopBlockId>
              <ShareInertiaTensor>false</ShareInertiaTensor>
              <SafetyDetach>5</SafetyDetach>
              <RotorEntityId xsi:nil="true" />
              <WeldedEntityId xsi:nil="true" />
              <TargetVelocity>-0.04698944</TargetVelocity>
              <MinAngle>0</MinAngle>
              <MaxAngle>1.57079637</MaxAngle>
              <CurrentAngle>-0.006710924</CurrentAngle>
              <LimitsActive>true</LimitsActive>
              <RotorLock>false</RotorLock>
              <Torque>448000</Torque>
              <BrakingTorque>0</BrakingTorque>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0749535263" y="0.0862110257" z="0.113102555" />
          <AngularVelocity x="-0.445863247" y="-0.2596054" z="-0.116935186" />
          <DisplayName>Small Grid 6363</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>86445547955107528</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>86445547955107528</Name>
          <PositionAndOrientation>
            <Position x="6.6754684448242188" y="-2.327114786952734" z="-22.269967079162598" />
            <Forward x="-0.481685162" y="0.8533445" z="0.199455082" />
            <Up x="-0.871611238" y="-0.442887485" z="-0.210105121" />
            <Orientation>
              <X>0.6227734</X>
              <Y>-0.460305154</Y>
              <Z>0.5775786</Z>
              <W>0.258215666</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorRotor">
              <SubtypeName>SmallRotor</SubtypeName>
              <EntityId>87209376432063902</EntityId>
              <ParentEntityId>133278159023220892</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_CameraBlock">
              <SubtypeName>SmallCameraTopMounted</SubtypeName>
              <EntityId>132190860209954499</EntityId>
              <Min x="0" y="1" z="0" />
              <BlockOrientation Forward="Backward" Up="Up" />
              <ColorMaskHSV x="0" y="-0.8" z="0" />
              <Owner>144115188075855895</Owner>
              <ShareMode>Faction</ShareMode>
              <ComponentContainer>
                <Components>
                  <ComponentData>
                    <TypeId>MyModStorageComponent</TypeId>
                    <Component xsi:type="MyObjectBuilder_ModStorageComponent">
                      <Storage>
                        <dictionary>
                          <item>
                            <Key>74de02b3-27f9-4960-b1c4-27351f2b06d1</Key>
                            <Value />
                          </item>
                        </dictionary>
                      </Storage>
                    </Component>
                  </ComponentData>
                </Components>
              </ComponentContainer>
              <CustomName>Targeting Camera Designator</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>true</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>true</Enabled>
              <IsActive>false</IsActive>
              <Fov>0.100612834</Fov>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.008875001" y="0.0245894566" z="0.0877611339" />
          <AngularVelocity x="0.00341026764" y="-0.0026294617" z="-0.000529472367" />
          <BlockGroups>
            <MyObjectBuilder_BlockGroup>
              <Name>Targeting Camera TG</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
            <MyObjectBuilder_BlockGroup>
              <Name>Fire Control</Name>
              <Blocks>
                <Vector3I>
                  <X>0</X>
                  <Y>1</Y>
                  <Z>0</Z>
                </Vector3I>
              </Blocks>
            </MyObjectBuilder_BlockGroup>
          </BlockGroups>
          <DisplayName>Small Grid 2918</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>122346164268481165</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>122346164268481165</Name>
          <PositionAndOrientation>
            <Position x="14.305686950683594" y="-17.913503646850586" z="-14.67658519744873" />
            <Forward x="0.206182748" y="-0.716513634" z="0.6664055" />
            <Up x="0.869589269" y="0.446440637" z="0.210962087" />
            <Orientation>
              <X>0.43911767</X>
              <Y>0.8002365</Y>
              <Z>0.289750636</Z>
              <W>-0.287822425</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>SmallHingeHead</SubtypeName>
              <EntityId>116370385408226858</EntityId>
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ParentEntityId>75837140470645175</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ReflectorLight">
              <SubtypeName>RotatingLightSmall</SubtypeName>
              <EntityId>120243765871143910</EntityId>
              <Min x="-1" y="0" z="0" />
              <BlockOrientation Forward="Left" Up="Backward" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <CustomName>Rotating Hand</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <Radius>3.33333349</Radius>
              <ReflectorRadius>10</ReflectorRadius>
              <ColorRed>0</ColorRed>
              <ColorGreen>0</ColorGreen>
              <ColorBlue>0</ColorBlue>
              <Falloff>0.5</Falloff>
              <Intensity>0.5</Intensity>
              <BlinkIntervalSeconds>0</BlinkIntervalSeconds>
              <BlinkLenght>10</BlinkLenght>
              <BlinkOffset>0</BlinkOffset>
              <Offset>0.5</Offset>
              <RotationSpeed>0.01</RotationSpeed>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.0102764517" y="0.03241861" z="0.05659017" />
          <AngularVelocity x="-0.03900029" y="-0.002436175" z="-0.008137194" />
          <DisplayName>Small Grid 2063</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
        <CubeGrid>
          <SubtypeName />
          <EntityId>103821995365276030</EntityId>
          <PersistentFlags>CastShadows InScene</PersistentFlags>
          <Name>103821995365276030</Name>
          <PositionAndOrientation>
            <Position x="12.490821838378906" y="-18.805350303649902" z="-15.078046798706055" />
            <Forward x="0.468641579" y="-0.6114547" z="-0.63757205" />
            <Up x="-0.86957" y="-0.446461648" z="-0.210996523" />
            <Orientation>
              <X>-0.4041204</X>
              <Y>0.133793518</Y>
              <Z>0.7482765</Z>
              <W>0.5087911</W>
            </Orientation>
          </PositionAndOrientation>
          <LocalPositionAndOrientation xsi:nil="true" />
          <GridSizeEnum>Small</GridSizeEnum>
          <CubeBlocks>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_MotorAdvancedRotor">
              <SubtypeName>SmallHingeHead</SubtypeName>
              <EntityId>94646347665680077</EntityId>
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <ParentEntityId>107602227018652411</ParentEntityId>
              <YieldLastComponent>false</YieldLastComponent>
            </MyObjectBuilder_CubeBlock>
            <MyObjectBuilder_CubeBlock xsi:type="MyObjectBuilder_ExhaustBlock">
              <SubtypeName>SmallExhaustPipe</SubtypeName>
              <EntityId>87644962488587877</EntityId>
              <Min x="-1" y="0" z="0" />
              <BlockOrientation Forward="Forward" Up="Left" />
              <ColorMaskHSV x="0.333333343" y="-0.33" z="-0.05" />
              <SkinSubtypeId>Battered_Armor</SkinSubtypeId>
              <CustomName>Robot Exhaust Hand</CustomName>
              <ShowOnHUD>false</ShowOnHUD>
              <ShowInTerminal>false</ShowInTerminal>
              <ShowInToolbarConfig>true</ShowInToolbarConfig>
              <ShowInInventory>true</ShowInInventory>
              <NumberInGrid>1</NumberInGrid>
              <Enabled>false</Enabled>
              <ExhaustEffect>SmokeElectricSmall</ExhaustEffect>
              <PowerDependency>0</PowerDependency>
            </MyObjectBuilder_CubeBlock>
          </CubeBlocks>
          <LinearVelocity x="-0.213449478" y="0.240288019" z="0.269376516" />
          <AngularVelocity x="-0.4121582" y="-0.2387626" z="-0.116087131" />
          <DisplayName>Small Grid 6102</DisplayName>
          <DestructibleBlocks>true</DestructibleBlocks>
          <CreatePhysics>false</CreatePhysics>
          <EnableSmallToLargeConnections>false</EnableSmallToLargeConnections>
          <IsRespawnGrid>false</IsRespawnGrid>
          <LocalCoordSys>0</LocalCoordSys>
          <TargetingTargets />
        </CubeGrid>
      </CubeGrids>
      <EnvironmentType>None</EnvironmentType>
      <WorkshopId>0</WorkshopId>
      <WorkshopIds>
        <WorkshopId>
          <Id>2964385070</Id>
          <ServiceName>Steam</ServiceName>
        </WorkshopId>
      </WorkshopIds>
      <OwnerSteamId>76561198013116946</OwnerSteamId>
      <Points>0</Points>
    </Prefab>
  </Prefabs>
</Definitions>